!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(b){var c,d;b.jQuery=b.$=a("jquery"),a("selectize"),b._=a("underscore"),c=a("plotly.js/lib/core"),c.register([a("plotly.js/lib/bar")]),d=$.when($.getJSON("sites.json"),$.getJSON("species.json")),d.always(function(){return $("body").removeClass("loading")}),d.fail(function(){return $(".js-error-container").removeClass("hidden")}),d.done(function(a,b){var d,e,f,g,h,i;return a=a[0],b=b[0],$(".js-site-select-container").removeClass("hidden"),f={},e=function(a,b){return a.ecoregion===b.ecoregion?a.code.localeCompare(b.code):a.ecoregion.localeCompare(b.ecoregion)},_.each(a,function(a){var b;return f[a.ecoregion]||(f[a.ecoregion]={realm:a.realm,ecoregion:a.ecoregion,code:"ECO"+_.size(f),latitude:a.latitude,longtitude:a.longtitude,num_surveys:0,species_counts:{}}),b=f[a.ecoregion],b.num_surveys+=a.num_surveys,_.each(a.species_counts,function(a,c){return b.species_counts[c]||(b.species_counts[c]=0),b.species_counts[c]+=a})}),d=$("#select-site"),a.sort(e),a=_.sortBy(_.values(f),"ecoregion").concat(a),g={},_.each(a,function(a){return a.name?$("<option>").val(a.code).html(a.ecoregion+" &rarr; "+a.code+": "+a.name).appendTo(d):$("<option>").val(a.code).html("Ecoregion: "+a.ecoregion).appendTo(d),g[a.code]=a}),h=_.template($("#site-info-template").html()),i=_.template($("#species-count-row-template").html()),d.selectize({onChange:function(a,d){var e,f,j,k;return null==d&&(d=25),f=g[a],$("#site-info").html(h(f)),e=$("#species-table-body"),j=_.map(_.pairs(f.species_counts).sort(function(a,b){return b[1]-a[1]}),function(a){var c;return c=b[a[0]],{name:a[0],count:a[1],percentage:(100*a[1]/f.num_surveys).toFixed(2),title:"<i>"+a[0]+"</i>"+(c?" ("+c+")":"")}}),_.each(j,function(a,b){return e.append(i(_.extend(a,{index:b})))}),k=j.slice(0,d),k.reverse(),c.newPlot("top-species-chart",[{type:"bar",orientation:"h",x:_.map(k,function(a){return a.percentage}),y:_.map(k,function(a){return a.name}),text:_.map(k,function(a){return a.title})}],{title:"Top species",autosize:!0,margin:{l:200,r:0,t:40,b:40},yaxis:{nticks:d},xaxis:{title:"Frequency [%]",tickmode:"linear",dtick:10}})},onDropdownClose:function(a){return $(a).prev().find("input").blur()}})})}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{jquery:4,"plotly.js/lib/bar":7,"plotly.js/lib/core":8,selectize:185,underscore:188}],2:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if(b=arguments[1],b instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.')}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(d=arguments.length,f=new Array(d-1),i=1;i<d;i++)f[i-1]=arguments[i];c.apply(this,f)}else if(g(c)){for(d=arguments.length,f=new Array(d-1),i=1;i<d;i++)f[i-1]=arguments[i];for(j=c.slice(),d=j.length,i=0;i<d;i++)j[i].apply(this,f)}return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned){var c;c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())}return this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-- >0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(d<0)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.listenerCount=function(a,b){var c;return c=a._events&&a._events[b]?e(a._events[b])?1:a._events[b].length:0}},{}],3:[function(a,b,c){function d(){}var e=b.exports={};e.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=d,e.addListener=d,e.once=d,e.off=d,e.removeListener=d,e.removeAllListeners=d,e.emit=d,e.binding=function(a){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(a){throw new Error("process.chdir is not supported")}},{}],4:[function(a,b,c){!function(a,c){"use strict";"object"==typeof b&&"object"==typeof b.exports?b.exports=a.document?c(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return c(a)}:c(a)}("undefined"!=typeof window?window:this,function(a,b){"use strict";function c(a,b){b=b||_;var c=b.createElement("script");c.text=a,b.head.appendChild(c).parentNode.removeChild(c)}function d(a){var b=!!a&&"length"in a&&a.length,c=ma.type(a);return"function"!==c&&!ma.isWindow(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}function e(a,b,c){if(ma.isFunction(b))return ma.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return ma.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(wa.test(b))return ma.filter(b,a,c);b=ma.filter(b,a)}return ma.grep(a,function(a){return ea.call(b,a)>-1!==c&&1===a.nodeType})}function f(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function g(a){var b={};return ma.each(a.match(Ca)||[],function(a,c){b[c]=!0}),b}function h(a){return a}function i(a){throw a}function j(a,b,c){var d;try{a&&ma.isFunction(d=a.promise)?d.call(a).done(b).fail(c):a&&ma.isFunction(d=a.then)?d.call(a,b,c):b.call(void 0,a)}catch(a){c.call(void 0,a)}}function k(){_.removeEventListener("DOMContentLoaded",k),a.removeEventListener("load",k),ma.ready()}function l(){this.expando=ma.expando+l.uid++}function m(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Ka,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c||"false"!==c&&("null"===c?null:+c+""===c?+c:Ja.test(c)?JSON.parse(c):c)}catch(a){}Ia.set(a,b,c)}else c=void 0;return c}function n(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return ma.css(a,b,"")},i=h(),j=c&&c[3]||(ma.cssNumber[b]?"":"px"),k=(ma.cssNumber[b]||"px"!==j&&+i)&&Ma.exec(ma.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,ma.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}function o(a){var b,c=a.ownerDocument,d=a.nodeName,e=Qa[d];return e?e:(b=c.body.appendChild(c.createElement(d)),e=ma.css(b,"display"),b.parentNode.removeChild(b),"none"===e&&(e="block"),Qa[d]=e,e)}function p(a,b){for(var c,d,e=[],f=0,g=a.length;f<g;f++)d=a[f],d.style&&(c=d.style.display,b?("none"===c&&(e[f]=Ha.get(d,"display")||null,e[f]||(d.style.display="")),""===d.style.display&&Oa(d)&&(e[f]=o(d))):"none"!==c&&(e[f]="none",Ha.set(d,"display",c)));for(f=0;f<g;f++)null!=e[f]&&(a[f].style.display=e[f]);return a}function q(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&ma.nodeName(a,b)?ma.merge([a],c):c}function r(a,b){for(var c=0,d=a.length;c<d;c++)Ha.set(a[c],"globalEval",!b||Ha.get(b[c],"globalEval"))}function s(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],n=0,o=a.length;n<o;n++)if(f=a[n],f||0===f)if("object"===ma.type(f))ma.merge(m,f.nodeType?[f]:f);else if(Va.test(f)){for(g=g||l.appendChild(b.createElement("div")),h=(Sa.exec(f)||["",""])[1].toLowerCase(),i=Ua[h]||Ua._default,g.innerHTML=i[1]+ma.htmlPrefilter(f)+i[2],k=i[0];k--;)g=g.lastChild;ma.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));for(l.textContent="",n=0;f=m[n++];)if(d&&ma.inArray(f,d)>-1)e&&e.push(f);else if(j=ma.contains(f.ownerDocument,f),g=q(l.appendChild(f),"script"),j&&r(g),c)for(k=0;f=g[k++];)Ta.test(f.type||"")&&c.push(f);return l}function t(){return!0}function u(){return!1}function v(){try{return _.activeElement}catch(a){}}function w(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)w(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=u;else if(!e)return a;return 1===f&&(g=e,e=function(a){return ma().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=ma.guid++)),a.each(function(){ma.event.add(this,b,e,d,c)})}function x(a,b){return ma.nodeName(a,"table")&&ma.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a:a}function y(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function z(a){var b=bb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function A(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(Ha.hasData(a)&&(f=Ha.access(a),g=Ha.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;c<d;c++)ma.event.add(b,e,j[e][c])}Ia.hasData(a)&&(h=Ia.access(a),i=ma.extend({},h),Ia.set(b,i))}}function B(a,b){var c=b.nodeName.toLowerCase();"input"===c&&Ra.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function C(a,b,d,e){b=ca.apply([],b);var f,g,h,i,j,k,l=0,m=a.length,n=m-1,o=b[0],p=ma.isFunction(o);if(p||m>1&&"string"==typeof o&&!ka.checkClone&&ab.test(o))return a.each(function(c){var f=a.eq(c);p&&(b[0]=o.call(this,c,f.html())),C(f,b,d,e)});if(m&&(f=s(b,a[0].ownerDocument,!1,a,e),g=f.firstChild,1===f.childNodes.length&&(f=g),g||e)){for(h=ma.map(q(f,"script"),y),i=h.length;l<m;l++)j=f,l!==n&&(j=ma.clone(j,!0,!0),i&&ma.merge(h,q(j,"script"))),d.call(a[l],j,l);if(i)for(k=h[h.length-1].ownerDocument,ma.map(h,z),l=0;l<i;l++)j=h[l],Ta.test(j.type||"")&&!Ha.access(j,"globalEval")&&ma.contains(k,j)&&(j.src?ma._evalUrl&&ma._evalUrl(j.src):c(j.textContent.replace(cb,""),k))}return a}function D(a,b,c){for(var d,e=b?ma.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||ma.cleanData(q(d)),d.parentNode&&(c&&ma.contains(d.ownerDocument,d)&&r(q(d,"script")),d.parentNode.removeChild(d));return a}function E(a,b,c){var d,e,f,g,h=a.style;return c=c||fb(a),c&&(g=c.getPropertyValue(b)||c[b],""!==g||ma.contains(a.ownerDocument,a)||(g=ma.style(a,b)),!ka.pixelMarginRight()&&eb.test(g)&&db.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function F(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function G(a){if(a in kb)return a;for(var b=a[0].toUpperCase()+a.slice(1),c=jb.length;c--;)if(a=jb[c]+b,a in kb)return a}function H(a,b,c){var d=Ma.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function I(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;f<4;f+=2)"margin"===c&&(g+=ma.css(a,c+Na[f],!0,e)),d?("content"===c&&(g-=ma.css(a,"padding"+Na[f],!0,e)),"margin"!==c&&(g-=ma.css(a,"border"+Na[f]+"Width",!0,e))):(g+=ma.css(a,"padding"+Na[f],!0,e),"padding"!==c&&(g+=ma.css(a,"border"+Na[f]+"Width",!0,e)));return g}function J(a,b,c){var d,e=!0,f=fb(a),g="border-box"===ma.css(a,"boxSizing",!1,f);if(a.getClientRects().length&&(d=a.getBoundingClientRect()[b]),d<=0||null==d){if(d=E(a,b,f),(d<0||null==d)&&(d=a.style[b]),eb.test(d))return d;e=g&&(ka.boxSizingReliable()||d===a.style[b]),d=parseFloat(d)||0}return d+I(a,b,c||(g?"border":"content"),e,f)+"px"}function K(a,b,c,d,e){return new K.prototype.init(a,b,c,d,e)}function L(){mb&&(a.requestAnimationFrame(L),ma.fx.tick())}function M(){return a.setTimeout(function(){lb=void 0}),lb=ma.now()}function N(a,b){var c,d=0,e={height:a};for(b=b?1:0;d<4;d+=2-b)c=Na[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function O(a,b,c){for(var d,e=(R.tweeners[b]||[]).concat(R.tweeners["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function P(a,b,c){var d,e,f,g,h,i,j,k,l="width"in b||"height"in b,m=this,n={},o=a.style,q=a.nodeType&&Oa(a),r=Ha.get(a,"fxshow");c.queue||(g=ma._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,h=g.empty.fire,g.empty.fire=function(){g.unqueued||h()}),g.unqueued++,m.always(function(){m.always(function(){g.unqueued--,ma.queue(a,"fx").length||g.empty.fire()})}));for(d in b)if(e=b[d],nb.test(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}n[d]=r&&r[d]||ma.style(a,d)}if(i=!ma.isEmptyObject(b),i||!ma.isEmptyObject(n)){l&&1===a.nodeType&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=r&&r.display,null==j&&(j=Ha.get(a,"display")),k=ma.css(a,"display"),"none"===k&&(j?k=j:(p([a],!0),j=a.style.display||j,k=ma.css(a,"display"),p([a]))),("inline"===k||"inline-block"===k&&null!=j)&&"none"===ma.css(a,"float")&&(i||(m.done(function(){o.display=j}),null==j&&(k=o.display,j="none"===k?"":k)),o.display="inline-block")),c.overflow&&(o.overflow="hidden",m.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]})),i=!1;for(d in n)i||(r?"hidden"in r&&(q=r.hidden):r=Ha.access(a,"fxshow",{display:j}),f&&(r.hidden=!q),q&&p([a],!0),m.done(function(){q||p([a]),Ha.remove(a,"fxshow");for(d in n)ma.style(a,d,n[d])})),i=O(q?r[d]:0,d,m),d in r||(r[d]=i.start,q&&(i.end=i.start,i.start=0))}}function Q(a,b){var c,d,e,f,g;for(c in a)if(d=ma.camelCase(c),e=b[d],f=a[c],ma.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=ma.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function R(a,b,c){var d,e,f=0,g=R.prefilters.length,h=ma.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=lb||M(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:ma.extend({},b),opts:ma.extend(!0,{specialEasing:{},easing:ma.easing._default},c),originalProperties:b,originalOptions:c,startTime:lb||M(),duration:c.duration,tweens:[],createTween:function(b,c){var d=ma.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Q(k,j.opts.specialEasing);f<g;f++)if(d=R.prefilters[f].call(j,a,k,j.opts))return ma.isFunction(d.stop)&&(ma._queueHooks(j.elem,j.opts.queue).stop=ma.proxy(d.stop,d)),d;return ma.map(k,O,j),ma.isFunction(j.opts.start)&&j.opts.start.call(a,j),ma.fx.timer(ma.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function S(a){return a.getAttribute&&a.getAttribute("class")||""}function T(a,b,c,d){var e;if(ma.isArray(b))ma.each(b,function(b,e){c||Ab.test(a)?d(a,e):T(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==ma.type(b))d(a,b);else for(e in b)T(a+"["+e+"]",b[e],c,d)}function U(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(Ca)||[];if(ma.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function V(a,b,c,d){function e(h){var i;return f[h]=!0,ma.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Mb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function W(a,b){var c,d,e=ma.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&ma.extend(!0,a,d),a}function X(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}if(f)return f!==i[0]&&i.unshift(f),c[f]}function Y(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(a){return{state:"parsererror",error:g?a:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function Z(a){return ma.isWindow(a)?a:9===a.nodeType&&a.defaultView}var $=[],_=a.document,aa=Object.getPrototypeOf,ba=$.slice,ca=$.concat,da=$.push,ea=$.indexOf,fa={},ga=fa.toString,ha=fa.hasOwnProperty,ia=ha.toString,ja=ia.call(Object),ka={},la="3.1.0",ma=function(a,b){return new ma.fn.init(a,b)},na=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,oa=/^-ms-/,pa=/-([a-z])/g,qa=function(a,b){return b.toUpperCase()};ma.fn=ma.prototype={jquery:la,constructor:ma,length:0,toArray:function(){return ba.call(this)},get:function(a){return null!=a?a<0?this[a+this.length]:this[a]:ba.call(this)},pushStack:function(a){var b=ma.merge(this.constructor(),a);return b.prevObject=this,b},each:function(a){return ma.each(this,a)},map:function(a){return this.pushStack(ma.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(ba.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:da,sort:$.sort,splice:$.splice},ma.extend=ma.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||ma.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(ma.isPlainObject(d)||(e=ma.isArray(d)))?(e?(e=!1,f=c&&ma.isArray(c)?c:[]):f=c&&ma.isPlainObject(c)?c:{},g[b]=ma.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},ma.extend({expando:"jQuery"+(la+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===ma.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=ma.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},isPlainObject:function(a){var b,c;return!(!a||"[object Object]"!==ga.call(a))&&(!(b=aa(a))||(c=ha.call(b,"constructor")&&b.constructor,"function"==typeof c&&ia.call(c)===ja))},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?fa[ga.call(a)]||"object":typeof a},globalEval:function(a){c(a)},camelCase:function(a){return a.replace(oa,"ms-").replace(pa,qa)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,e=0;if(d(a))for(c=a.length;e<c&&b.call(a[e],e,a[e])!==!1;e++);else for(e in a)if(b.call(a[e],e,a[e])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(na,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(d(Object(a))?ma.merge(c,"string"==typeof a?[a]:a):da.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:ea.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;f<g;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var e,f,g=0,h=[];if(d(a))for(e=a.length;g<e;g++)f=b(a[g],g,c),null!=f&&h.push(f);else for(g in a)f=b(a[g],g,c),null!=f&&h.push(f);return ca.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(c=a[b],b=a,a=c),ma.isFunction(a))return d=ba.call(arguments,2),e=function(){return a.apply(b||this,d.concat(ba.call(arguments)))},e.guid=a.guid=a.guid||ma.guid++,e},now:Date.now,support:ka}),"function"==typeof Symbol&&(ma.fn[Symbol.iterator]=$[Symbol.iterator]),ma.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){fa["[object "+b+"]"]=b.toLowerCase()});var ra=function(a){function b(a,b,c,d){var e,f,g,h,i,j,k,m=b&&b.ownerDocument,o=b?b.nodeType:9;if(c=c||[],"string"!=typeof a||!a||1!==o&&9!==o&&11!==o)return c;if(!d&&((b?b.ownerDocument||b:P)!==H&&G(b),b=b||H,J)){if(11!==o&&(i=ra.exec(a)))if(e=i[1]){if(9===o){if(!(g=b.getElementById(e)))return c;if(g.id===e)return c.push(g),c}else if(m&&(g=m.getElementById(e))&&N(b,g)&&g.id===e)return c.push(g),c}else{if(i[2])return $.apply(c,b.getElementsByTagName(a)),c;if((e=i[3])&&w.getElementsByClassName&&b.getElementsByClassName)return $.apply(c,b.getElementsByClassName(e)),c}if(w.qsa&&!U[a+" "]&&(!K||!K.test(a))){if(1!==o)m=b,k=a;else if("object"!==b.nodeName.toLowerCase()){for((h=b.getAttribute("id"))?h=h.replace(va,wa):b.setAttribute("id",h=O),j=A(a),f=j.length;f--;)j[f]="#"+h+" "+n(j[f]);k=j.join(","),m=sa.test(a)&&l(b.parentNode)||b}if(k)try{return $.apply(c,m.querySelectorAll(k)),c}catch(a){}finally{h===O&&b.removeAttribute("id")}}}return C(a.replace(ha,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>x.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[O]=!0,a}function e(a){var b=H.createElement("fieldset");try{return!!a(b)}catch(a){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=c.length;d--;)x.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return function(b){return"label"in b&&b.disabled===a||"form"in b&&b.disabled===a||"form"in b&&b.disabled===!1&&(b.isDisabled===a||b.isDisabled!==!a&&("label"in b||!ya(b))!==a)}}function k(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function l(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function m(){}function n(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function o(a,b,c){var d=b.dir,e=b.next,f=e||d,g=c&&"parentNode"===f,h=R++;return b.first?function(b,c,e){for(;b=b[d];)if(1===b.nodeType||g)return a(b,c,e)}:function(b,c,i){var j,k,l,m=[Q,h];if(i){for(;b=b[d];)if((1===b.nodeType||g)&&a(b,c,i))return!0}else for(;b=b[d];)if(1===b.nodeType||g)if(l=b[O]||(b[O]={}),k=l[b.uniqueID]||(l[b.uniqueID]={}),e&&e===b.nodeName.toLowerCase())b=b[d]||b;else{if((j=k[f])&&j[0]===Q&&j[1]===h)return m[2]=j[2];if(k[f]=m,m[2]=a(b,c,i))return!0}}}function p(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function q(a,c,d){for(var e=0,f=c.length;e<f;e++)b(a,c[e],d);return d}function r(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function s(a,b,c,e,f,g){return e&&!e[O]&&(e=s(e)),f&&!f[O]&&(f=s(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=d||q(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?p:r(p,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=r(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?aa(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=r(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):$.apply(g,t)})}function t(a){for(var b,c,d,e=a.length,f=x.relative[a[0].type],g=f||x.relative[" "],h=f?1:0,i=o(function(a){return a===b},g,!0),j=o(function(a){return aa(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==D)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];h<e;h++)if(c=x.relative[a[h].type])k=[o(p(k),c)];else{if(c=x.filter[a[h].type].apply(null,a[h].matches),c[O]){for(d=++h;d<e&&!x.relative[a[d].type];d++);return s(h>1&&p(k),h>1&&n(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ha,"$1"),c,h<d&&t(a.slice(h,d)),d<e&&t(a=a.slice(d)),d<e&&n(a))}k.push(c)}return p(k)}function u(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],q=[],s=D,t=d||f&&x.find.TAG("*",j),u=Q+=null==s?1:Math.random()||.1,v=t.length;for(j&&(D=g===H||g||j);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0,g||k.ownerDocument===H||(G(k),h=!J);m=a[l++];)if(m(k,g||H,h)){i.push(k);break}j&&(Q=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,q,g,h);if(d){if(n>0)for(;o--;)p[o]||q[o]||(q[o]=Y.call(i));q=r(q)}$.apply(i,q),j&&!d&&q.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(Q=u,D=s),p};return e?d(g):g}var v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O="sizzle"+1*new Date,P=a.document,Q=0,R=0,S=c(),T=c(),U=c(),V=function(a,b){return a===b&&(F=!0),0},W={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,aa=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},ba="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ca="[\\x20\\t\\r\\n\\f]",da="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ea="\\["+ca+"*("+da+")(?:"+ca+"*([*^$|!~]?=)"+ca+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+da+"))|)"+ca+"*\\]",fa=":("+da+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ea+")*)|.*)\\)|)",ga=new RegExp(ca+"+","g"),ha=new RegExp("^"+ca+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ca+"+$","g"),ia=new RegExp("^"+ca+"*,"+ca+"*"),ja=new RegExp("^"+ca+"*([>+~]|"+ca+")"+ca+"*"),ka=new RegExp("="+ca+"*([^\\]'\"]*?)"+ca+"*\\]","g"),la=new RegExp(fa),ma=new RegExp("^"+da+"$"),na={ID:new RegExp("^#("+da+")"),CLASS:new RegExp("^\\.("+da+")"),TAG:new RegExp("^("+da+"|[*])"),ATTR:new RegExp("^"+ea),PSEUDO:new RegExp("^"+fa),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ca+"*(even|odd|(([+-]|)(\\d*)n|)"+ca+"*(?:([+-]|)"+ca+"*(\\d+)|))"+ca+"*\\)|)","i"),bool:new RegExp("^(?:"+ba+")$","i"),needsContext:new RegExp("^"+ca+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ca+"*((?:-\\d)?\\d*)"+ca+"*\\)|)(?=[^-]|$)","i")},oa=/^(?:input|select|textarea|button)$/i,pa=/^h\d$/i,qa=/^[^{]+\{\s*\[native \w/,ra=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sa=/[+~]/,ta=new RegExp("\\\\([\\da-f]{1,6}"+ca+"?|("+ca+")|.)","ig"),ua=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},va=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,wa=function(a,b){return b?"\0"===a?"ï¿½":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},xa=function(){G()},ya=o(function(a){return a.disabled===!0},{dir:"parentNode",next:"legend"});try{$.apply(X=_.call(P.childNodes),P.childNodes),X[P.childNodes.length].nodeType}catch(a){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}w=b.support={},z=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},G=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:P;return d!==H&&9===d.nodeType&&d.documentElement?(H=d,I=H.documentElement,J=!z(H),P!==H&&(c=H.defaultView)&&c.top!==c&&(c.addEventListener?c.addEventListener("unload",xa,!1):c.attachEvent&&c.attachEvent("onunload",xa)),w.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),w.getElementsByTagName=e(function(a){return a.appendChild(H.createComment("")),!a.getElementsByTagName("*").length}),w.getElementsByClassName=qa.test(H.getElementsByClassName),w.getById=e(function(a){return I.appendChild(a).id=O,!H.getElementsByName||!H.getElementsByName(O).length}),w.getById?(x.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&J){var c=b.getElementById(a);return c?[c]:[]}},x.filter.ID=function(a){var b=a.replace(ta,ua);return function(a){return a.getAttribute("id")===b}}):(delete x.find.ID,x.filter.ID=function(a){var b=a.replace(ta,ua);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),x.find.TAG=w.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):w.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},x.find.CLASS=w.getElementsByClassName&&function(a,b){if("undefined"!=typeof b.getElementsByClassName&&J)return b.getElementsByClassName(a)},L=[],K=[],(w.qsa=qa.test(H.querySelectorAll))&&(e(function(a){I.appendChild(a).innerHTML="<a id='"+O+"'></a><select id='"+O+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&K.push("[*^$]="+ca+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||K.push("\\["+ca+"*(?:value|"+ba+")"),a.querySelectorAll("[id~="+O+"-]").length||K.push("~="),
a.querySelectorAll(":checked").length||K.push(":checked"),a.querySelectorAll("a#"+O+"+*").length||K.push(".#.+[+~]")}),e(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=H.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&K.push("name"+ca+"*[*^$|!~]?="),2!==a.querySelectorAll(":enabled").length&&K.push(":enabled",":disabled"),I.appendChild(a).disabled=!0,2!==a.querySelectorAll(":disabled").length&&K.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),K.push(",.*:")})),(w.matchesSelector=qa.test(M=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&e(function(a){w.disconnectedMatch=M.call(a,"*"),M.call(a,"[s!='']:x"),L.push("!=",fa)}),K=K.length&&new RegExp(K.join("|")),L=L.length&&new RegExp(L.join("|")),b=qa.test(I.compareDocumentPosition),N=b||qa.test(I.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},V=b?function(a,b){if(a===b)return F=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!w.sortDetached&&b.compareDocumentPosition(a)===c?a===H||a.ownerDocument===P&&N(P,a)?-1:b===H||b.ownerDocument===P&&N(P,b)?1:E?aa(E,a)-aa(E,b):0:4&c?-1:1)}:function(a,b){if(a===b)return F=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===H?-1:b===H?1:e?-1:f?1:E?aa(E,a)-aa(E,b):0;if(e===f)return g(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?g(h[d],i[d]):h[d]===P?-1:i[d]===P?1:0},H):H},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==H&&G(a),c=c.replace(ka,"='$1']"),w.matchesSelector&&J&&!U[c+" "]&&(!L||!L.test(c))&&(!K||!K.test(c)))try{var d=M.call(a,c);if(d||w.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(a){}return b(c,H,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==H&&G(a),N(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==H&&G(a);var c=x.attrHandle[b.toLowerCase()],d=c&&W.call(x.attrHandle,b.toLowerCase())?c(a,b,!J):void 0;return void 0!==d?d:w.attributes||!J?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.escape=function(a){return(a+"").replace(va,wa)},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(F=!w.detectDuplicates,E=!w.sortStable&&a.slice(0),a.sort(V),F){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return E=null,a},y=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=y(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=y(b);return c},x=b.selectors={cacheLength:50,createPseudo:d,match:na,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ta,ua),a[3]=(a[3]||a[4]||a[5]||"").replace(ta,ua),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return na.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&la.test(c)&&(b=A(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ta,ua).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=S[a+" "];return b||(b=new RegExp("(^|"+ca+")"+a+"("+ca+"|$)"))&&S(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:!c||(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ga," ")+" ").indexOf(d)>-1:"|="===c&&(f===d||f.slice(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){for(;p;){for(m=b;m=m[p];)if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(m=q,l=m[O]||(m[O]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===Q&&j[1],t=n&&j[2],m=n&&q.childNodes[n];m=++n&&m&&m[p]||(t=n=0)||o.pop();)if(1===m.nodeType&&++t&&m===b){k[a]=[Q,n,t];break}}else if(s&&(m=b,l=m[O]||(m[O]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===Q&&j[1],t=n),t===!1)for(;(m=++n&&m&&m[p]||(t=n=0)||o.pop())&&((h?m.nodeName.toLowerCase()!==r:1!==m.nodeType)||!++t||(s&&(l=m[O]||(m[O]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[Q,t]),m!==b)););return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,c){var e,f=x.pseudos[a]||x.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[O]?f(c):f.length>1?(e=[a,a,"",c],x.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=aa(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=B(a.replace(ha,"$1"));return e[O]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(ta,ua),function(b){return(b.textContent||b.innerText||y(b)).indexOf(a)>-1}}),lang:d(function(a){return ma.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(ta,ua).toLowerCase(),function(b){var c;do if(c=J?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===I},focus:function(a){return a===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:j(!1),disabled:j(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!x.pseudos.empty(a)},header:function(a){return pa.test(a.nodeName)},input:function(a){return oa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:k(function(){return[0]}),last:k(function(a,b){return[b-1]}),eq:k(function(a,b,c){return[c<0?c+b:c]}),even:k(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:k(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:k(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:k(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},x.pseudos.nth=x.pseudos.eq;for(v in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[v]=h(v);for(v in{submit:!0,reset:!0})x.pseudos[v]=i(v);return m.prototype=x.filters=x.pseudos,x.setFilters=new m,A=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=T[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=x.preFilter;h;){d&&!(e=ia.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ja.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ha," ")}),h=h.slice(d.length));for(g in x.filter)!(e=na[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):T(a,i).slice(0)},B=b.compile=function(a,b){var c,d=[],e=[],f=U[a+" "];if(!f){for(b||(b=A(a)),c=b.length;c--;)f=t(b[c]),f[O]?d.push(f):e.push(f);f=U(a,u(e,d)),f.selector=a}return f},C=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,k=!d&&A(a=j.selector||a);if(c=c||[],1===k.length){if(f=k[0]=k[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&w.getById&&9===b.nodeType&&J&&x.relative[f[1].type]){if(b=(x.find.ID(g.matches[0].replace(ta,ua),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=na.needsContext.test(a)?0:f.length;e--&&(g=f[e],!x.relative[h=g.type]);)if((i=x.find[h])&&(d=i(g.matches[0].replace(ta,ua),sa.test(f[0].type)&&l(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&n(f),!a)return $.apply(c,d),c;break}}return(j||B(a,k))(d,b,!J,c,!b||sa.test(a)&&l(b.parentNode)||b),c},w.sortStable=O.split("").sort(V).join("")===O,w.detectDuplicates=!!F,G(),w.sortDetached=e(function(a){return 1&a.compareDocumentPosition(H.createElement("fieldset"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),w.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ba,function(a,b,c){var d;if(!c)return a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);ma.find=ra,ma.expr=ra.selectors,ma.expr[":"]=ma.expr.pseudos,ma.uniqueSort=ma.unique=ra.uniqueSort,ma.text=ra.getText,ma.isXMLDoc=ra.isXML,ma.contains=ra.contains,ma.escapeSelector=ra.escape;var sa=function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&ma(a).is(c))break;d.push(a)}return d},ta=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},ua=ma.expr.match.needsContext,va=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,wa=/^.[^:#\[\.,]*$/;ma.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?ma.find.matchesSelector(d,a)?[d]:[]:ma.find.matches(a,ma.grep(b,function(a){return 1===a.nodeType}))},ma.fn.extend({find:function(a){var b,c,d=this.length,e=this;if("string"!=typeof a)return this.pushStack(ma(a).filter(function(){for(b=0;b<d;b++)if(ma.contains(e[b],this))return!0}));for(c=this.pushStack([]),b=0;b<d;b++)ma.find(a,e[b],c);return d>1?ma.uniqueSort(c):c},filter:function(a){return this.pushStack(e(this,a||[],!1))},not:function(a){return this.pushStack(e(this,a||[],!0))},is:function(a){return!!e(this,"string"==typeof a&&ua.test(a)?ma(a):a||[],!1).length}});var xa,ya=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,za=ma.fn.init=function(a,b,c){var d,e;if(!a)return this;if(c=c||xa,"string"==typeof a){if(d="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:ya.exec(a),!d||!d[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(d[1]){if(b=b instanceof ma?b[0]:b,ma.merge(this,ma.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:_,!0)),va.test(d[1])&&ma.isPlainObject(b))for(d in b)ma.isFunction(this[d])?this[d](b[d]):this.attr(d,b[d]);return this}return e=_.getElementById(d[2]),e&&(this[0]=e,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):ma.isFunction(a)?void 0!==c.ready?c.ready(a):a(ma):ma.makeArray(a,this)};za.prototype=ma.fn,xa=ma(_);var Aa=/^(?:parents|prev(?:Until|All))/,Ba={children:!0,contents:!0,next:!0,prev:!0};ma.fn.extend({has:function(a){var b=ma(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(ma.contains(this,b[a]))return!0})},closest:function(a,b){var c,d=0,e=this.length,f=[],g="string"!=typeof a&&ma(a);if(!ua.test(a))for(;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&ma.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?ma.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?ea.call(ma(a),this[0]):ea.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(ma.uniqueSort(ma.merge(this.get(),ma(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),ma.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return sa(a,"parentNode")},parentsUntil:function(a,b,c){return sa(a,"parentNode",c)},next:function(a){return f(a,"nextSibling")},prev:function(a){return f(a,"previousSibling")},nextAll:function(a){return sa(a,"nextSibling")},prevAll:function(a){return sa(a,"previousSibling")},nextUntil:function(a,b,c){return sa(a,"nextSibling",c)},prevUntil:function(a,b,c){return sa(a,"previousSibling",c)},siblings:function(a){return ta((a.parentNode||{}).firstChild,a)},children:function(a){return ta(a.firstChild)},contents:function(a){return a.contentDocument||ma.merge([],a.childNodes)}},function(a,b){ma.fn[a]=function(c,d){var e=ma.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=ma.filter(d,e)),this.length>1&&(Ba[a]||ma.uniqueSort(e),Aa.test(a)&&e.reverse()),this.pushStack(e)}});var Ca=/\S+/g;ma.Callbacks=function(a){a="string"==typeof a?g(a):ma.extend({},a);var b,c,d,e,f=[],h=[],i=-1,j=function(){for(e=a.once,d=b=!0;h.length;i=-1)for(c=h.shift();++i<f.length;)f[i].apply(c[0],c[1])===!1&&a.stopOnFalse&&(i=f.length,c=!1);a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},k={add:function(){return f&&(c&&!b&&(i=f.length-1,h.push(c)),function b(c){ma.each(c,function(c,d){ma.isFunction(d)?a.unique&&k.has(d)||f.push(d):d&&d.length&&"string"!==ma.type(d)&&b(d)})}(arguments),c&&!b&&j()),this},remove:function(){return ma.each(arguments,function(a,b){for(var c;(c=ma.inArray(b,f,c))>-1;)f.splice(c,1),c<=i&&i--}),this},has:function(a){return a?ma.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=h=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=h=[],c||b||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],h.push(c),b||j()),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},ma.extend({Deferred:function(b){var c=[["notify","progress",ma.Callbacks("memory"),ma.Callbacks("memory"),2],["resolve","done",ma.Callbacks("once memory"),ma.Callbacks("once memory"),0,"resolved"],["reject","fail",ma.Callbacks("once memory"),ma.Callbacks("once memory"),1,"rejected"]],d="pending",e={state:function(){return d},always:function(){return f.done(arguments).fail(arguments),this},catch:function(a){return e.then(null,a)},pipe:function(){var a=arguments;return ma.Deferred(function(b){ma.each(c,function(c,d){var e=ma.isFunction(a[d[4]])&&a[d[4]];f[d[1]](function(){var a=e&&e.apply(this,arguments);a&&ma.isFunction(a.promise)?a.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[d[0]+"With"](this,e?[a]:arguments)})}),a=null}).promise()},then:function(b,d,e){function f(b,c,d,e){return function(){var j=this,k=arguments,l=function(){var a,l;if(!(b<g)){if(a=d.apply(j,k),a===c.promise())throw new TypeError("Thenable self-resolution");l=a&&("object"==typeof a||"function"==typeof a)&&a.then,ma.isFunction(l)?e?l.call(a,f(g,c,h,e),f(g,c,i,e)):(g++,l.call(a,f(g,c,h,e),f(g,c,i,e),f(g,c,h,c.notifyWith))):(d!==h&&(j=void 0,k=[a]),(e||c.resolveWith)(j,k))}},m=e?l:function(){try{l()}catch(a){ma.Deferred.exceptionHook&&ma.Deferred.exceptionHook(a,m.stackTrace),b+1>=g&&(d!==i&&(j=void 0,k=[a]),c.rejectWith(j,k))}};b?m():(ma.Deferred.getStackHook&&(m.stackTrace=ma.Deferred.getStackHook()),a.setTimeout(m))}}var g=0;return ma.Deferred(function(a){c[0][3].add(f(0,a,ma.isFunction(e)?e:h,a.notifyWith)),c[1][3].add(f(0,a,ma.isFunction(b)?b:h)),c[2][3].add(f(0,a,ma.isFunction(d)?d:i))}).promise()},promise:function(a){return null!=a?ma.extend(a,e):e}},f={};return ma.each(c,function(a,b){var g=b[2],h=b[5];e[b[1]]=g.add,h&&g.add(function(){d=h},c[3-a][2].disable,c[0][2].lock),g.add(b[3].fire),f[b[0]]=function(){return f[b[0]+"With"](this===f?void 0:this,arguments),this},f[b[0]+"With"]=g.fireWith}),e.promise(f),b&&b.call(f,f),f},when:function(a){var b=arguments.length,c=b,d=Array(c),e=ba.call(arguments),f=ma.Deferred(),g=function(a){return function(c){d[a]=this,e[a]=arguments.length>1?ba.call(arguments):c,--b||f.resolveWith(d,e)}};if(b<=1&&(j(a,f.done(g(c)).resolve,f.reject),"pending"===f.state()||ma.isFunction(e[c]&&e[c].then)))return f.then();for(;c--;)j(e[c],g(c),f.reject);return f.promise()}});var Da=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ma.Deferred.exceptionHook=function(b,c){a.console&&a.console.warn&&b&&Da.test(b.name)&&a.console.warn("jQuery.Deferred exception: "+b.message,b.stack,c)},ma.readyException=function(b){a.setTimeout(function(){throw b})};var Ea=ma.Deferred();ma.fn.ready=function(a){return Ea.then(a).catch(function(a){ma.readyException(a)}),this},ma.extend({isReady:!1,readyWait:1,holdReady:function(a){a?ma.readyWait++:ma.ready(!0)},ready:function(a){(a===!0?--ma.readyWait:ma.isReady)||(ma.isReady=!0,a!==!0&&--ma.readyWait>0||Ea.resolveWith(_,[ma]))}}),ma.ready.then=Ea.then,"complete"===_.readyState||"loading"!==_.readyState&&!_.documentElement.doScroll?a.setTimeout(ma.ready):(_.addEventListener("DOMContentLoaded",k),a.addEventListener("load",k));var Fa=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===ma.type(c)){e=!0;for(h in c)Fa(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,ma.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(ma(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},Ga=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};l.uid=1,l.prototype={cache:function(a){var b=a[this.expando];return b||(b={},Ga(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[ma.camelCase(b)]=c;else for(d in b)e[ma.camelCase(d)]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][ma.camelCase(b)]},access:function(a,b,c){return void 0===b||b&&"string"==typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d=a[this.expando];if(void 0!==d){if(void 0!==b){ma.isArray(b)?b=b.map(ma.camelCase):(b=ma.camelCase(b),b=b in d?[b]:b.match(Ca)||[]),c=b.length;for(;c--;)delete d[b[c]]}(void 0===b||ma.isEmptyObject(d))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!ma.isEmptyObject(b)}};var Ha=new l,Ia=new l,Ja=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ka=/[A-Z]/g;ma.extend({hasData:function(a){return Ia.hasData(a)||Ha.hasData(a)},data:function(a,b,c){return Ia.access(a,b,c)},removeData:function(a,b){Ia.remove(a,b)},_data:function(a,b,c){return Ha.access(a,b,c)},_removeData:function(a,b){Ha.remove(a,b)}}),ma.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=Ia.get(f),1===f.nodeType&&!Ha.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=ma.camelCase(d.slice(5)),m(f,d,e[d])));Ha.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){Ia.set(this,a)}):Fa(this,function(b){var c;if(f&&void 0===b){if(c=Ia.get(f,a),void 0!==c)return c;if(c=m(f,a),void 0!==c)return c}else this.each(function(){Ia.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){Ia.remove(this,a)})}}),ma.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=Ha.get(a,b),c&&(!d||ma.isArray(c)?d=Ha.access(a,b,ma.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=ma.queue(a,b),d=c.length,e=c.shift(),f=ma._queueHooks(a,b),g=function(){ma.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return Ha.get(a,c)||Ha.access(a,c,{empty:ma.Callbacks("once memory").add(function(){Ha.remove(a,[b+"queue",c])})})}}),ma.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?ma.queue(this[0],a):void 0===b?this:this.each(function(){var c=ma.queue(this,a,b);ma._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&ma.dequeue(this,a)})},dequeue:function(a){return this.each(function(){ma.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=ma.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=Ha.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var La=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ma=new RegExp("^(?:([+-])=|)("+La+")([a-z%]*)$","i"),Na=["Top","Right","Bottom","Left"],Oa=function(a,b){return a=b||a,"none"===a.style.display||""===a.style.display&&ma.contains(a.ownerDocument,a)&&"none"===ma.css(a,"display")},Pa=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Qa={};ma.fn.extend({show:function(){return p(this,!0)},hide:function(){return p(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Oa(this)?ma(this).show():ma(this).hide()})}});var Ra=/^(?:checkbox|radio)$/i,Sa=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ta=/^$|\/(?:java|ecma)script/i,Ua={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ua.optgroup=Ua.option,Ua.tbody=Ua.tfoot=Ua.colgroup=Ua.caption=Ua.thead,Ua.th=Ua.td;var Va=/<|&#?\w+;/;!function(){var a=_.createDocumentFragment(),b=a.appendChild(_.createElement("div")),c=_.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),ka.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",ka.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var Wa=_.documentElement,Xa=/^key/,Ya=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Za=/^([^.]*)(?:\.(.+)|)/;ma.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=Ha.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),e&&ma.find.matchesSelector(Wa,e),c.guid||(c.guid=ma.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return"undefined"!=typeof ma&&ma.event.triggered!==b.type?ma.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(Ca)||[""],j=b.length;j--;)h=Za.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=ma.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=ma.event.special[n]||{},k=ma.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&ma.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),ma.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=Ha.hasData(a)&&Ha.get(a);if(q&&(i=q.events)){for(b=(b||"").match(Ca)||[""],j=b.length;j--;)if(h=Za.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=ma.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||ma.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)ma.event.remove(a,n+b[j],c,d,!0);ma.isEmptyObject(i)&&Ha.remove(a,"handle events")}},dispatch:function(a){var b,c,d,e,f,g,h=ma.event.fix(a),i=new Array(arguments.length),j=(Ha.get(this,"events")||{})[h.type]||[],k=ma.event.special[h.type]||{};for(i[0]=h,b=1;b<arguments.length;b++)i[b]=arguments[b];if(h.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,h)!==!1){for(g=ma.event.handlers.call(this,h,j),b=0;(e=g[b++])&&!h.isPropagationStopped();)for(h.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!h.isImmediatePropagationStopped();)h.rnamespace&&!h.rnamespace.test(f.namespace)||(h.handleObj=f,h.data=f.data,d=((ma.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,i),void 0!==d&&(h.result=d)===!1&&(h.preventDefault(),h.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,h),h.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;c<h;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?ma(e,this).index(i)>-1:ma.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},addProp:function(a,b){Object.defineProperty(ma.Event.prototype,a,{enumerable:!0,configurable:!0,get:ma.isFunction(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[ma.expando]?a:new ma.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==v()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===v()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ma.nodeName(this,"input"))return this.click(),!1},_default:function(a){return ma.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},ma.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},ma.Event=function(a,b){return this instanceof ma.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?t:u,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,b&&ma.extend(this,b),this.timeStamp=a&&a.timeStamp||ma.now(),void(this[ma.expando]=!0)):new ma.Event(a,b)},ma.Event.prototype={constructor:ma.Event,isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=t,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=t,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=t,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},ma.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&Xa.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&Ya.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},ma.event.addProp),ma.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){ma.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||ma.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),ma.fn.extend({on:function(a,b,c,d){return w(this,a,b,c,d)},one:function(a,b,c,d){return w(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,ma(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=u),this.each(function(){ma.event.remove(this,a,c,b)})}});var $a=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,_a=/<script|<style|<link/i,ab=/checked\s*(?:[^=]|=\s*.checked.)/i,bb=/^true\/(.*)/,cb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ma.extend({htmlPrefilter:function(a){return a.replace($a,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=ma.contains(a.ownerDocument,a);if(!(ka.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||ma.isXMLDoc(a)))for(g=q(h),f=q(a),d=0,e=f.length;d<e;d++)B(f[d],g[d]);if(b)if(c)for(f=f||q(a),g=g||q(h),d=0,e=f.length;d<e;d++)A(f[d],g[d]);else A(a,h);return g=q(h,"script"),g.length>0&&r(g,!i&&q(a,"script")),h},cleanData:function(a){for(var b,c,d,e=ma.event.special,f=0;void 0!==(c=a[f]);f++)if(Ga(c)){if(b=c[Ha.expando]){if(b.events)for(d in b.events)e[d]?ma.event.remove(c,d):ma.removeEvent(c,d,b.handle);c[Ha.expando]=void 0}c[Ia.expando]&&(c[Ia.expando]=void 0)}}}),ma.fn.extend({detach:function(a){return D(this,a,!0)},remove:function(a){return D(this,a)},text:function(a){return Fa(this,function(a){return void 0===a?ma.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return C(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=x(this,a);b.appendChild(a)}})},prepend:function(){return C(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=x(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return C(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return C(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(ma.cleanData(q(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return ma.clone(this,a,b)})},html:function(a){return Fa(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!_a.test(a)&&!Ua[(Sa.exec(a)||["",""])[1].toLowerCase()]){a=ma.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(ma.cleanData(q(b,!1)),b.innerHTML=a);b=0}catch(a){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return C(this,arguments,function(b){var c=this.parentNode;
ma.inArray(this,a)<0&&(ma.cleanData(q(this)),c&&c.replaceChild(b,this))},a)}}),ma.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){ma.fn[a]=function(a){for(var c,d=[],e=ma(a),f=e.length-1,g=0;g<=f;g++)c=g===f?this:this.clone(!0),ma(e[g])[b](c),da.apply(d,c.get());return this.pushStack(d)}});var db=/^margin/,eb=new RegExp("^("+La+")(?!px)[a-z%]+$","i"),fb=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)};!function(){function b(){if(h){h.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",Wa.appendChild(g);var b=a.getComputedStyle(h);c="1%"!==b.top,f="2px"===b.marginLeft,d="4px"===b.width,h.style.marginRight="50%",e="4px"===b.marginRight,Wa.removeChild(g),h=null}}var c,d,e,f,g=_.createElement("div"),h=_.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",ka.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h),ma.extend(ka,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return b(),d},pixelMarginRight:function(){return b(),e},reliableMarginLeft:function(){return b(),f}}))}();var gb=/^(none|table(?!-c[ea]).+)/,hb={position:"absolute",visibility:"hidden",display:"block"},ib={letterSpacing:"0",fontWeight:"400"},jb=["Webkit","Moz","ms"],kb=_.createElement("div").style;ma.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=E(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=ma.camelCase(b),i=a.style;return b=ma.cssProps[h]||(ma.cssProps[h]=G(h)||h),g=ma.cssHooks[b]||ma.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ma.exec(c))&&e[1]&&(c=n(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(ma.cssNumber[h]?"":"px")),ka.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=ma.camelCase(b);return b=ma.cssProps[h]||(ma.cssProps[h]=G(h)||h),g=ma.cssHooks[b]||ma.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=E(a,b,d)),"normal"===e&&b in ib&&(e=ib[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),ma.each(["height","width"],function(a,b){ma.cssHooks[b]={get:function(a,c,d){if(c)return!gb.test(ma.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?J(a,b,d):Pa(a,hb,function(){return J(a,b,d)})},set:function(a,c,d){var e,f=d&&fb(a),g=d&&I(a,b,d,"border-box"===ma.css(a,"boxSizing",!1,f),f);return g&&(e=Ma.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=ma.css(a,b)),H(a,c,g)}}}),ma.cssHooks.marginLeft=F(ka.reliableMarginLeft,function(a,b){if(b)return(parseFloat(E(a,"marginLeft"))||a.getBoundingClientRect().left-Pa(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),ma.each({margin:"",padding:"",border:"Width"},function(a,b){ma.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+Na[d]+b]=f[d]||f[d-2]||f[0];return e}},db.test(a)||(ma.cssHooks[a+b].set=H)}),ma.fn.extend({css:function(a,b){return Fa(this,function(a,b,c){var d,e,f={},g=0;if(ma.isArray(b)){for(d=fb(a),e=b.length;g<e;g++)f[b[g]]=ma.css(a,b[g],!1,d);return f}return void 0!==c?ma.style(a,b,c):ma.css(a,b)},a,b,arguments.length>1)}}),ma.Tween=K,K.prototype={constructor:K,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||ma.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(ma.cssNumber[c]?"":"px")},cur:function(){var a=K.propHooks[this.prop];return a&&a.get?a.get(this):K.propHooks._default.get(this)},run:function(a){var b,c=K.propHooks[this.prop];return this.options.duration?this.pos=b=ma.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):K.propHooks._default.set(this),this}},K.prototype.init.prototype=K.prototype,K.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=ma.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){ma.fx.step[a.prop]?ma.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[ma.cssProps[a.prop]]&&!ma.cssHooks[a.prop]?a.elem[a.prop]=a.now:ma.style(a.elem,a.prop,a.now+a.unit)}}},K.propHooks.scrollTop=K.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},ma.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},ma.fx=K.prototype.init,ma.fx.step={};var lb,mb,nb=/^(?:toggle|show|hide)$/,ob=/queueHooks$/;ma.Animation=ma.extend(R,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return n(c.elem,a,Ma.exec(b),c),c}]},tweener:function(a,b){ma.isFunction(a)?(b=a,a=["*"]):a=a.match(Ca);for(var c,d=0,e=a.length;d<e;d++)c=a[d],R.tweeners[c]=R.tweeners[c]||[],R.tweeners[c].unshift(b)},prefilters:[P],prefilter:function(a,b){b?R.prefilters.unshift(a):R.prefilters.push(a)}}),ma.speed=function(a,b,c){var d=a&&"object"==typeof a?ma.extend({},a):{complete:c||!c&&b||ma.isFunction(a)&&a,duration:a,easing:c&&b||b&&!ma.isFunction(b)&&b};return ma.fx.off||_.hidden?d.duration=0:d.duration="number"==typeof d.duration?d.duration:d.duration in ma.fx.speeds?ma.fx.speeds[d.duration]:ma.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){ma.isFunction(d.old)&&d.old.call(this),d.queue&&ma.dequeue(this,d.queue)},d},ma.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Oa).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=ma.isEmptyObject(a),f=ma.speed(b,c,d),g=function(){var b=R(this,ma.extend({},a),f);(e||Ha.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=ma.timers,g=Ha.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&ob.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||ma.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=Ha.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=ma.timers,g=d?d.length:0;for(c.finish=!0,ma.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),ma.each(["toggle","show","hide"],function(a,b){var c=ma.fn[b];ma.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(N(b,!0),a,d,e)}}),ma.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){ma.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),ma.timers=[],ma.fx.tick=function(){var a,b=0,c=ma.timers;for(lb=ma.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||ma.fx.stop(),lb=void 0},ma.fx.timer=function(a){ma.timers.push(a),a()?ma.fx.start():ma.timers.pop()},ma.fx.interval=13,ma.fx.start=function(){mb||(mb=a.requestAnimationFrame?a.requestAnimationFrame(L):a.setInterval(ma.fx.tick,ma.fx.interval))},ma.fx.stop=function(){a.cancelAnimationFrame?a.cancelAnimationFrame(mb):a.clearInterval(mb),mb=null},ma.fx.speeds={slow:600,fast:200,_default:400},ma.fn.delay=function(b,c){return b=ma.fx?ma.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=_.createElement("input"),b=_.createElement("select"),c=b.appendChild(_.createElement("option"));a.type="checkbox",ka.checkOn=""!==a.value,ka.optSelected=c.selected,a=_.createElement("input"),a.value="t",a.type="radio",ka.radioValue="t"===a.value}();var pb,qb=ma.expr.attrHandle;ma.fn.extend({attr:function(a,b){return Fa(this,ma.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){ma.removeAttr(this,a)})}}),ma.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?ma.prop(a,b,c):(1===f&&ma.isXMLDoc(a)||(e=ma.attrHooks[b.toLowerCase()]||(ma.expr.match.bool.test(b)?pb:void 0)),void 0!==c?null===c?void ma.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=ma.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!ka.radioValue&&"radio"===b&&ma.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d=0,e=b&&b.match(Ca);if(e&&1===a.nodeType)for(;c=e[d++];)a.removeAttribute(c)}}),pb={set:function(a,b,c){return b===!1?ma.removeAttr(a,c):a.setAttribute(c,c),c}},ma.each(ma.expr.match.bool.source.match(/\w+/g),function(a,b){var c=qb[b]||ma.find.attr;qb[b]=function(a,b,d){var e,f,g=b.toLowerCase();return d||(f=qb[g],qb[g]=e,e=null!=c(a,b,d)?g:null,qb[g]=f),e}});var rb=/^(?:input|select|textarea|button)$/i,sb=/^(?:a|area)$/i;ma.fn.extend({prop:function(a,b){return Fa(this,ma.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[ma.propFix[a]||a]})}}),ma.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&ma.isXMLDoc(a)||(b=ma.propFix[b]||b,e=ma.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=ma.find.attr(a,"tabindex");return b?parseInt(b,10):rb.test(a.nodeName)||sb.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ka.optSelected||(ma.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),ma.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ma.propFix[this.toLowerCase()]=this});var tb=/[\t\r\n\f]/g;ma.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(ma.isFunction(a))return this.each(function(b){ma(this).addClass(a.call(this,b,S(this)))});if("string"==typeof a&&a)for(b=a.match(Ca)||[];c=this[i++];)if(e=S(c),d=1===c.nodeType&&(" "+e+" ").replace(tb," ")){for(g=0;f=b[g++];)d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=ma.trim(d),e!==h&&c.setAttribute("class",h)}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(ma.isFunction(a))return this.each(function(b){ma(this).removeClass(a.call(this,b,S(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a)for(b=a.match(Ca)||[];c=this[i++];)if(e=S(c),d=1===c.nodeType&&(" "+e+" ").replace(tb," ")){for(g=0;f=b[g++];)for(;d.indexOf(" "+f+" ")>-1;)d=d.replace(" "+f+" "," ");h=ma.trim(d),e!==h&&c.setAttribute("class",h)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):ma.isFunction(a)?this.each(function(c){ma(this).toggleClass(a.call(this,c,S(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c)for(d=0,e=ma(this),f=a.match(Ca)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else void 0!==a&&"boolean"!==c||(b=S(this),b&&Ha.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":Ha.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;for(b=" "+a+" ";c=this[d++];)if(1===c.nodeType&&(" "+S(c)+" ").replace(tb," ").indexOf(b)>-1)return!0;return!1}});var ub=/\r/g,vb=/[\x20\t\r\n\f]+/g;ma.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=ma.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,ma(this).val()):a,null==e?e="":"number"==typeof e?e+="":ma.isArray(e)&&(e=ma.map(e,function(a){return null==a?"":a+""})),b=ma.valHooks[this.type]||ma.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=ma.valHooks[e.type]||ma.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(ub,""):null==c?"":c)}}}),ma.extend({valHooks:{option:{get:function(a){var b=ma.find.attr(a,"value");return null!=b?b:ma.trim(ma.text(a)).replace(vb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type,g=f?null:[],h=f?e+1:d.length,i=e<0?h:f?e:0;i<h;i++)if(c=d[i],(c.selected||i===e)&&!c.disabled&&(!c.parentNode.disabled||!ma.nodeName(c.parentNode,"optgroup"))){if(b=ma(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=ma.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=ma.inArray(ma.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),ma.each(["radio","checkbox"],function(){ma.valHooks[this]={set:function(a,b){if(ma.isArray(b))return a.checked=ma.inArray(ma(a).val(),b)>-1}},ka.checkOn||(ma.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var wb=/^(?:focusinfocus|focusoutblur)$/;ma.extend(ma.event,{trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||_],n=ha.call(b,"type")?b.type:b,o=ha.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||_,3!==d.nodeType&&8!==d.nodeType&&!wb.test(n+ma.event.triggered)&&(n.indexOf(".")>-1&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,b=b[ma.expando]?b:new ma.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:ma.makeArray(c,[b]),l=ma.event.special[n]||{},e||!l.trigger||l.trigger.apply(d,c)!==!1)){if(!e&&!l.noBubble&&!ma.isWindow(d)){for(i=l.delegateType||n,wb.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||_)&&m.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=m[f++])&&!b.isPropagationStopped();)b.type=f>1?i:l.bindType||n,k=(Ha.get(g,"events")||{})[b.type]&&Ha.get(g,"handle"),k&&k.apply(g,c),k=j&&g[j],k&&k.apply&&Ga(g)&&(b.result=k.apply(g,c),b.result===!1&&b.preventDefault());return b.type=n,e||b.isDefaultPrevented()||l._default&&l._default.apply(m.pop(),c)!==!1||!Ga(d)||j&&ma.isFunction(d[n])&&!ma.isWindow(d)&&(h=d[j],h&&(d[j]=null),ma.event.triggered=n,d[n](),ma.event.triggered=void 0,h&&(d[j]=h)),b.result}},simulate:function(a,b,c){var d=ma.extend(new ma.Event,c,{type:a,isSimulated:!0});ma.event.trigger(d,null,b)}}),ma.fn.extend({trigger:function(a,b){return this.each(function(){ma.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return ma.event.trigger(a,b,c,!0)}}),ma.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){ma.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),ma.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),ka.focusin="onfocusin"in a,ka.focusin||ma.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){ma.event.simulate(b,a.target,ma.event.fix(a))};ma.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=Ha.access(d,b);e||d.addEventListener(a,c,!0),Ha.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=Ha.access(d,b)-1;e?Ha.access(d,b,e):(d.removeEventListener(a,c,!0),Ha.remove(d,b))}}});var xb=a.location,yb=ma.now(),zb=/\?/;ma.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(a){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||ma.error("Invalid XML: "+b),c};var Ab=/\[\]$/,Bb=/\r?\n/g,Cb=/^(?:submit|button|image|reset|file)$/i,Db=/^(?:input|select|textarea|keygen)/i;ma.param=function(a,b){var c,d=[],e=function(a,b){var c=ma.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==c?"":c)};if(ma.isArray(a)||a.jquery&&!ma.isPlainObject(a))ma.each(a,function(){e(this.name,this.value)});else for(c in a)T(c,a[c],b,e);return d.join("&")},ma.fn.extend({serialize:function(){return ma.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=ma.prop(this,"elements");return a?ma.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!ma(this).is(":disabled")&&Db.test(this.nodeName)&&!Cb.test(a)&&(this.checked||!Ra.test(a))}).map(function(a,b){var c=ma(this).val();return null==c?null:ma.isArray(c)?ma.map(c,function(a){return{name:b.name,value:a.replace(Bb,"\r\n")}}):{name:b.name,value:c.replace(Bb,"\r\n")}}).get()}});var Eb=/%20/g,Fb=/#.*$/,Gb=/([?&])_=[^&]*/,Hb=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ib=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Jb=/^(?:GET|HEAD)$/,Kb=/^\/\//,Lb={},Mb={},Nb="*/".concat("*"),Ob=_.createElement("a");Ob.href=xb.href,ma.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xb.href,type:"GET",isLocal:Ib.test(xb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Nb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ma.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?W(W(a,ma.ajaxSettings),b):W(ma.ajaxSettings,a)},ajaxPrefilter:U(Lb),ajaxTransport:U(Mb),ajax:function(b,c){function d(b,c,d,h){var j,m,n,u,v,w=c;k||(k=!0,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&b<300||304===b,d&&(u=X(o,x,d)),u=Y(o,u,x,j),j?(o.ifModified&&(v=x.getResponseHeader("Last-Modified"),v&&(ma.lastModified[f]=v),v=x.getResponseHeader("etag"),v&&(ma.etag[f]=v)),204===b||"HEAD"===o.type?w="nocontent":304===b?w="notmodified":(w=u.state,m=u.data,n=u.error,j=!n)):(n=w,!b&&w||(w="error",b<0&&(b=0))),x.status=b,x.statusText=(c||w)+"",j?r.resolveWith(p,[m,w,x]):r.rejectWith(p,[x,w,n]),x.statusCode(t),t=void 0,l&&q.trigger(j?"ajaxSuccess":"ajaxError",[x,o,j?m:n]),s.fireWith(p,[x,w]),l&&(q.trigger("ajaxComplete",[x,o]),--ma.active||ma.event.trigger("ajaxStop")))}"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m,n,o=ma.ajaxSetup({},c),p=o.context||o,q=o.context&&(p.nodeType||p.jquery)?ma(p):ma.event,r=ma.Deferred(),s=ma.Callbacks("once memory"),t=o.statusCode||{},u={},v={},w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(k){if(!h)for(h={};b=Hb.exec(g);)h[b[1].toLowerCase()]=b[2];b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return k?g:null},setRequestHeader:function(a,b){return null==k&&(a=v[a.toLowerCase()]=v[a.toLowerCase()]||a,u[a]=b),this},overrideMimeType:function(a){return null==k&&(o.mimeType=a),this},statusCode:function(a){var b;if(a)if(k)x.always(a[x.status]);else for(b in a)t[b]=[t[b],a[b]];return this},abort:function(a){var b=a||w;return e&&e.abort(b),d(0,b),this}};if(r.promise(x),o.url=((b||o.url||xb.href)+"").replace(Kb,xb.protocol+"//"),o.type=c.method||c.type||o.method||o.type,o.dataTypes=(o.dataType||"*").toLowerCase().match(Ca)||[""],null==o.crossDomain){j=_.createElement("a");try{j.href=o.url,j.href=j.href,o.crossDomain=Ob.protocol+"//"+Ob.host!=j.protocol+"//"+j.host}catch(a){o.crossDomain=!0}}if(o.data&&o.processData&&"string"!=typeof o.data&&(o.data=ma.param(o.data,o.traditional)),V(Lb,o,c,x),k)return x;l=ma.event&&o.global,l&&0===ma.active++&&ma.event.trigger("ajaxStart"),o.type=o.type.toUpperCase(),o.hasContent=!Jb.test(o.type),f=o.url.replace(Fb,""),o.hasContent?o.data&&o.processData&&0===(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&(o.data=o.data.replace(Eb,"+")):(n=o.url.slice(f.length),o.data&&(f+=(zb.test(f)?"&":"?")+o.data,delete o.data),o.cache===!1&&(f=f.replace(Gb,""),n=(zb.test(f)?"&":"?")+"_="+yb++ +n),o.url=f+n),o.ifModified&&(ma.lastModified[f]&&x.setRequestHeader("If-Modified-Since",ma.lastModified[f]),ma.etag[f]&&x.setRequestHeader("If-None-Match",ma.etag[f])),(o.data&&o.hasContent&&o.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",o.contentType),x.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+("*"!==o.dataTypes[0]?", "+Nb+"; q=0.01":""):o.accepts["*"]);for(m in o.headers)x.setRequestHeader(m,o.headers[m]);if(o.beforeSend&&(o.beforeSend.call(p,x,o)===!1||k))return x.abort();if(w="abort",s.add(o.complete),x.done(o.success),x.fail(o.error),e=V(Mb,o,c,x)){if(x.readyState=1,l&&q.trigger("ajaxSend",[x,o]),k)return x;o.async&&o.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},o.timeout));try{k=!1,e.send(u,d)}catch(a){if(k)throw a;d(-1,a)}}else d(-1,"No Transport");return x},getJSON:function(a,b,c){return ma.get(a,b,c,"json")},getScript:function(a,b){return ma.get(a,void 0,b,"script")}}),ma.each(["get","post"],function(a,b){ma[b]=function(a,c,d,e){return ma.isFunction(c)&&(e=e||d,d=c,c=void 0),ma.ajax(ma.extend({url:a,type:b,dataType:e,data:c,success:d},ma.isPlainObject(a)&&a))}}),ma._evalUrl=function(a){return ma.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ma.fn.extend({wrapAll:function(a){var b;return this[0]&&(ma.isFunction(a)&&(a=a.call(this[0])),b=ma(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return ma.isFunction(a)?this.each(function(b){ma(this).wrapInner(a.call(this,b))}):this.each(function(){var b=ma(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=ma.isFunction(a);return this.each(function(c){ma(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){ma(this).replaceWith(this.childNodes)}),this}}),ma.expr.pseudos.hidden=function(a){return!ma.expr.pseudos.visible(a)},ma.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},ma.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(a){}};var Pb={0:200,1223:204},Qb=ma.ajaxSettings.xhr();ka.cors=!!Qb&&"withCredentials"in Qb,ka.ajax=Qb=!!Qb,ma.ajaxTransport(function(b){var c,d;if(ka.cors||Qb&&!b.crossDomain)return{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Pb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(a){if(c)throw a}},abort:function(){c&&c()}}}),ma.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),ma.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return ma.globalEval(a),a}}}),ma.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),ma.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=ma("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),_.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Rb=[],Sb=/(=)\?(?=&|$)|\?\?/;ma.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Rb.pop()||ma.expando+"_"+yb++;return this[a]=!0,a}}),ma.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Sb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Sb.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=ma.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Sb,"$1"+e):b.jsonp!==!1&&(b.url+=(zb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||ma.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?ma(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Rb.push(e)),g&&ma.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),ka.createHTMLDocument=function(){var a=_.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}(),ma.parseHTML=function(a,b,c){if("string"!=typeof a)return[];"boolean"==typeof b&&(c=b,b=!1);var d,e,f;return b||(ka.createHTMLDocument?(b=_.implementation.createHTMLDocument(""),d=b.createElement("base"),d.href=_.location.href,b.head.appendChild(d)):b=_),e=va.exec(a),f=!c&&[],e?[b.createElement(e[1])]:(e=s([a],b,f),f&&f.length&&ma(f).remove(),ma.merge([],e.childNodes))},ma.fn.load=function(a,b,c){var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=ma.trim(a.slice(h)),a=a.slice(0,h)),ma.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&ma.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?ma("<div>").append(ma.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},ma.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){ma.fn[b]=function(a){return this.on(b,a)}}),ma.expr.pseudos.animated=function(a){return ma.grep(ma.timers,function(b){return a===b.elem}).length},ma.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=ma.css(a,"position"),l=ma(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=ma.css(a,"top"),i=ma.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),ma.isFunction(b)&&(b=b.call(a,c,ma.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},ma.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){ma.offset.setOffset(this,a,b)});var b,c,d,e,f=this[0];if(f)return f.getClientRects().length?(d=f.getBoundingClientRect(),d.width||d.height?(e=f.ownerDocument,c=Z(e),b=e.documentElement,{top:d.top+c.pageYOffset-b.clientTop,left:d.left+c.pageXOffset-b.clientLeft}):d):{top:0,left:0}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===ma.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),ma.nodeName(a[0],"html")||(d=a.offset()),d={top:d.top+ma.css(a[0],"borderTopWidth",!0),left:d.left+ma.css(a[0],"borderLeftWidth",!0)}),{top:b.top-d.top-ma.css(c,"marginTop",!0),left:b.left-d.left-ma.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===ma.css(a,"position");)a=a.offsetParent;return a||Wa})}}),ma.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;ma.fn[a]=function(d){return Fa(this,function(a,d,e){var f=Z(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),ma.each(["top","left"],function(a,b){ma.cssHooks[b]=F(ka.pixelPosition,function(a,c){if(c)return c=E(a,b),eb.test(c)?ma(a).position()[b]+"px":c})}),ma.each({Height:"height",Width:"width"},function(a,b){ma.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){ma.fn[d]=function(e,f){var g=arguments.length&&(c||"boolean"!=typeof e),h=c||(e===!0||f===!0?"margin":"border");return Fa(this,function(b,c,e){var f;return ma.isWindow(b)?0===d.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===e?ma.css(b,c,h):ma.style(b,c,e,h)},b,g?e:void 0,g)}})}),ma.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),ma.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ma});var Tb=a.jQuery,Ub=a.$;return ma.noConflict=function(b){return a.$===ma&&(a.$=Ub),b&&a.jQuery===ma&&(a.jQuery=Tb),ma},b||(a.jQuery=a.$=ma),ma})},{}],5:[function(a,b,c){"use strict";var d=a("../src/plotly"),e={"X,X div":"font-family:'Open Sans', verdana, arial, sans-serif;margin:0;padding:0;","X input,X button":"font-family:'Open Sans', verdana, arial, sans-serif;","X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .modebar":"position:absolute;top:2px;right:2px;z-index:1001;background:rgba(255,255,255,0.7);","X .modebar--hover":"opacity:0;-webkit-transition:opacity 0.3s ease 0s;-moz-transition:opacity 0.3s ease 0s;-ms-transition:opacity 0.3s ease 0s;-o-transition:opacity 0.3s ease 0s;transition:opacity 0.3s ease 0s;","X:hover .modebar--hover":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;margin-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-group:first-child":"margin-left:0px;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar-btn path":"fill:rgba(0,31,95,0.3);",
"X .modebar-btn.active path,X .modebar-btn:hover path":"fill:rgba(0,22,72,0.5);","X .modebar-btn.modebar-btn--logo":"padding:3px 1px;","X .modebar-btn.modebar-btn--logo path":"fill:#447adb !important;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":"content:'';position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;","X [data-title]:after":"content:attr(data-title);background:#69738a;color:white;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:white;","X .select-outline-2":"stroke:black;stroke-dasharray:2px 2px;",Y:"font-family:'Open Sans';position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;","Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,0.9);color:#fff;padding:10px;","Y .notifier-close":"color:#fff;opacity:0.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var f in e){var g=f.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");d.Lib.addStyleRule(g,e[f])}},{"../src/plotly":113}],6:[function(a,b,c){"use strict";b.exports={undo:{width:857.1,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",ascent:850,descent:-150},home:{width:928.6,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",ascent:850,descent:-150},"camera-retro":{width:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",ascent:850,descent:-150},zoombox:{width:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",ascent:850,descent:-150},pan:{width:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",ascent:850,descent:-150},zoom_plus:{width:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",ascent:850,descent:-150},zoom_minus:{width:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",ascent:850,descent:-150},autoscale:{width:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",ascent:850,descent:-150},tooltip_basic:{width:1500,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",ascent:850,descent:-150},tooltip_compare:{width:1125,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",ascent:850,descent:-150},plotlylogo:{width:1542,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",ascent:850,descent:-150},"z-axis":{width:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",ascent:850,descent:-150},"3d_rotate":{width:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",ascent:850,descent:-150},camera:{width:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",ascent:850,descent:-150},movie:{width:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",ascent:850,descent:-150},question:{width:857.1,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",ascent:850,descent:-150},disk:{width:857.1,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",ascent:850,descent:-150},lasso:{width:1031,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",ascent:850,descent:-150},selectbox:{width:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",ascent:850,descent:-150}}},{}],7:[function(a,b,c){b.exports=a("../src/traces/bar")},{"../src/traces/bar":154}],8:[function(a,b,c){b.exports=a("../src/core")},{"../src/core":89}],9:[function(a,b,c){!function(){function a(a){return a&&(a.ownerDocument||a.document||a).documentElement}function c(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}function d(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function e(a){return null===a?NaN:+a}function f(a){return!isNaN(a)}function g(a){return{left:function(b,c,d,e){for(arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);d<e;){var f=d+e>>>1;a(b[f],c)<0?d=f+1:e=f}return d},right:function(b,c,d,e){for(arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);d<e;){var f=d+e>>>1;a(b[f],c)>0?e=f:d=f+1}return d}}}function h(a){return a.length}function i(a){for(var b=1;a*b%1;)b*=10;return b}function j(a,b){for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}function k(){this._=Object.create(null)}function l(a){return(a+="")===tg||a[0]===ug?ug+a:a}function m(a){return(a+="")[0]===ug?a.slice(1):a}function n(a){return l(a)in this._}function o(a){return(a=l(a))in this._&&delete this._[a]}function p(){var a=[];for(var b in this._)a.push(m(b));return a}function q(){var a=0;for(var b in this._)++a;return a}function r(){for(var a in this._)return!1;return!0}function s(){this._=Object.create(null)}function t(a){return a}function u(a,b,c){return function(){var d=c.apply(b,arguments);return d===b?a:d}}function v(a,b){if(b in a)return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(var c=0,d=vg.length;c<d;++c){var e=vg[c]+b;if(e in a)return e}}function w(){}function x(){}function y(a){function b(){for(var b,d=c,e=-1,f=d.length;++e<f;)(b=d[e].on)&&b.apply(this,arguments);return a}var c=[],d=new k;return b.on=function(b,e){var f,g=d.get(b);return arguments.length<2?g&&g.on:(g&&(g.on=null,c=c.slice(0,f=c.indexOf(g)).concat(c.slice(f+1)),d.remove(b)),e&&c.push(d.set(b,{on:e})),a)},b}function z(){ig.event.preventDefault()}function A(){for(var a,b=ig.event;a=b.sourceEvent;)b=a;return b}function B(a){for(var b=new x,c=0,d=arguments.length;++c<d;)b[arguments[c]]=y(b);return b.of=function(c,d){return function(e){try{var f=e.sourceEvent=ig.event;e.target=a,ig.event=e,b[e.type].apply(c,d)}finally{ig.event=f}}},b}function C(a){return xg(a,Bg),a}function D(a){return"function"==typeof a?a:function(){return yg(a,this)}}function E(a){return"function"==typeof a?a:function(){return zg(a,this)}}function F(a,b){function c(){this.removeAttribute(a)}function d(){this.removeAttributeNS(a.space,a.local)}function e(){this.setAttribute(a,b)}function f(){this.setAttributeNS(a.space,a.local,b)}function g(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}function h(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}return a=ig.ns.qualify(a),null==b?a.local?d:c:"function"==typeof b?a.local?h:g:a.local?f:e}function G(a){return a.trim().replace(/\s+/g," ")}function H(a){return new RegExp("(?:^|\\s+)"+ig.requote(a)+"(?:\\s+|$)","g")}function I(a){return(a+"").trim().split(/^|\s+/)}function J(a,b){function c(){for(var c=-1;++c<e;)a[c](this,b)}function d(){for(var c=-1,d=b.apply(this,arguments);++c<e;)a[c](this,d)}a=I(a).map(K);var e=a.length;return"function"==typeof b?d:c}function K(a){var b=H(a);return function(c,d){if(e=c.classList)return d?e.add(a):e.remove(a);var e=c.getAttribute("class")||"";d?(b.lastIndex=0,b.test(e)||c.setAttribute("class",G(e+" "+a))):c.setAttribute("class",G(e.replace(b," ")))}}function L(a,b,c){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function f(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}return null==b?d:"function"==typeof b?f:e}function M(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}return null==b?c:"function"==typeof b?e:d}function N(a){function b(){var b=this.ownerDocument,c=this.namespaceURI;return c===Cg&&b.documentElement.namespaceURI===Cg?b.createElement(a):b.createElementNS(c,a)}function c(){return this.ownerDocument.createElementNS(a.space,a.local)}return"function"==typeof a?a:(a=ig.ns.qualify(a)).local?c:b}function O(){var a=this.parentNode;a&&a.removeChild(this)}function P(a){return{__data__:a}}function Q(a){return function(){return Ag(this,a)}}function R(a){return arguments.length||(a=d),function(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}}function S(a,b){for(var c=0,d=a.length;c<d;c++)for(var e,f=a[c],g=0,h=f.length;g<h;g++)(e=f[g])&&b(e,g,c);return a}function T(a){return xg(a,Eg),a}function U(a){var b,c;return function(d,e,f){var g,h=a[f].update,i=h.length;for(f!=c&&(c=f,b=0),e>=b&&(b=e+1);!(g=h[b])&&++b<i;);return g}}function V(a,b,c){function d(){var b=this[g];b&&(this.removeEventListener(a,b,b.$),delete this[g])}function e(){var e=i(b,kg(arguments));d.call(this),this.addEventListener(a,this[g]=e,e.$=c),e._=b}function f(){var b,c=new RegExp("^__on([^.]+)"+ig.requote(a)+"$");for(var d in this)if(b=d.match(c)){var e=this[d];this.removeEventListener(b[1],e,e.$),delete this[d]}}var g="__on"+a,h=a.indexOf("."),i=W;h>0&&(a=a.slice(0,h));var j=Fg.get(a);return j&&(a=j,i=X),h?b?e:d:b?w:f}function W(a,b){return function(c){var d=ig.event;ig.event=c,b[0]=this.__data__;try{a.apply(this,b)}finally{ig.event=d}}}function X(a,b){var c=W(a,b);return function(a){var b=this,d=a.relatedTarget;d&&(d===b||8&d.compareDocumentPosition(b))||c.call(b,a)}}function Y(b){var d=".dragsuppress-"+ ++Hg,e="click"+d,f=ig.select(c(b)).on("touchmove"+d,z).on("dragstart"+d,z).on("selectstart"+d,z);if(null==Gg&&(Gg=!("onselectstart"in b)&&v(b.style,"userSelect")),Gg){var g=a(b).style,h=g[Gg];g[Gg]="none"}return function(a){if(f.on(d,null),Gg&&(g[Gg]=h),a){var b=function(){f.on(e,null)};f.on(e,function(){z(),b()},!0),setTimeout(b,0)}}}function Z(a,b){b.changedTouches&&(b=b.changedTouches[0]);var d=a.ownerSVGElement||a;if(d.createSVGPoint){var e=d.createSVGPoint();if(Ig<0){var f=c(a);if(f.scrollX||f.scrollY){d=ig.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var g=d[0][0].getScreenCTM();Ig=!(g.f||g.e),d.remove()}}return Ig?(e.x=b.pageX,e.y=b.pageY):(e.x=b.clientX,e.y=b.clientY),e=e.matrixTransform(a.getScreenCTM().inverse()),[e.x,e.y]}var h=a.getBoundingClientRect();return[b.clientX-h.left-a.clientLeft,b.clientY-h.top-a.clientTop]}function $(){return ig.event.changedTouches[0].identifier}function _(a){return a>0?1:a<0?-1:0}function aa(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function ba(a){return a>1?0:a<-1?Lg:Math.acos(a)}function ca(a){return a>1?Og:a<-1?-Og:Math.asin(a)}function da(a){return((a=Math.exp(a))-1/a)/2}function ea(a){return((a=Math.exp(a))+1/a)/2}function fa(a){return((a=Math.exp(2*a))-1)/(a+1)}function ga(a){return(a=Math.sin(a/2))*a}function ha(){}function ia(a,b,c){return this instanceof ia?(this.h=+a,this.s=+b,void(this.l=+c)):arguments.length<2?a instanceof ia?new ia(a.h,a.s,a.l):wa(""+a,xa,ia):new ia(a,b,c)}function ja(a,b,c){function d(a){return a>360?a-=360:a<0&&(a+=360),a<60?f+(g-f)*a/60:a<180?g:a<240?f+(g-f)*(240-a)/60:f}function e(a){return Math.round(255*d(a))}var f,g;return a=isNaN(a)?0:(a%=360)<0?a+360:a,b=isNaN(b)?0:b<0?0:b>1?1:b,c=c<0?0:c>1?1:c,g=c<=.5?c*(1+b):c+b-c*b,f=2*c-g,new sa(e(a+120),e(a),e(a-120))}function ka(a,b,c){return this instanceof ka?(this.h=+a,this.c=+b,void(this.l=+c)):arguments.length<2?a instanceof ka?new ka(a.h,a.c,a.l):a instanceof ma?oa(a.l,a.a,a.b):oa((a=ya((a=ig.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new ka(a,b,c)}function la(a,b,c){return isNaN(a)&&(a=0),isNaN(b)&&(b=0),new ma(c,Math.cos(a*=Pg)*b,Math.sin(a)*b)}function ma(a,b,c){return this instanceof ma?(this.l=+a,this.a=+b,void(this.b=+c)):arguments.length<2?a instanceof ma?new ma(a.l,a.a,a.b):a instanceof ka?la(a.h,a.c,a.l):ya((a=sa(a)).r,a.g,a.b):new ma(a,b,c)}function na(a,b,c){var d=(a+16)/116,e=d+b/500,f=d-c/200;return e=pa(e)*$g,d=pa(d)*_g,f=pa(f)*ah,new sa(ra(3.2404542*e-1.5371385*d-.4985314*f),ra(-.969266*e+1.8760108*d+.041556*f),ra(.0556434*e-.2040259*d+1.0572252*f))}function oa(a,b,c){return a>0?new ka(Math.atan2(c,b)*Qg,Math.sqrt(b*b+c*c),a):new ka(NaN,NaN,a)}function pa(a){return a>.206893034?a*a*a:(a-4/29)/7.787037}function qa(a){return a>.008856?Math.pow(a,1/3):7.787037*a+4/29}function ra(a){return Math.round(255*(a<=.00304?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}function sa(a,b,c){return this instanceof sa?(this.r=~~a,this.g=~~b,void(this.b=~~c)):arguments.length<2?a instanceof sa?new sa(a.r,a.g,a.b):wa(""+a,sa,ja):new sa(a,b,c)}function ta(a){return new sa(a>>16,a>>8&255,255&a)}function ua(a){return ta(a)+""}function va(a){return a<16?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function wa(a,b,c){var d,e,f,g=0,h=0,i=0;if(d=/([a-z]+)\((.*)\)/.exec(a=a.toLowerCase()))switch(e=d[2].split(","),d[1]){case"hsl":return c(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100);case"rgb":return b(Aa(e[0]),Aa(e[1]),Aa(e[2]))}return(f=dh.get(a))?b(f.r,f.g,f.b):(null==a||"#"!==a.charAt(0)||isNaN(f=parseInt(a.slice(1),16))||(4===a.length?(g=(3840&f)>>4,g=g>>4|g,h=240&f,h=h>>4|h,i=15&f,i=i<<4|i):7===a.length&&(g=(16711680&f)>>16,h=(65280&f)>>8,i=255&f)),b(g,h,i))}function xa(a,b,c){var d,e,f=Math.min(a/=255,b/=255,c/=255),g=Math.max(a,b,c),h=g-f,i=(g+f)/2;return h?(e=i<.5?h/(g+f):h/(2-g-f),d=a==g?(b-c)/h+(b<c?6:0):b==g?(c-a)/h+2:(a-b)/h+4,d*=60):(d=NaN,e=i>0&&i<1?0:d),new ia(d,e,i)}function ya(a,b,c){a=za(a),b=za(b),c=za(c);var d=qa((.4124564*a+.3575761*b+.1804375*c)/$g),e=qa((.2126729*a+.7151522*b+.072175*c)/_g),f=qa((.0193339*a+.119192*b+.9503041*c)/ah);return ma(116*e-16,500*(d-e),200*(e-f))}function za(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function Aa(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function Ba(a){return"function"==typeof a?a:function(){return a}}function Ca(a){return function(b,c,d){return 2===arguments.length&&"function"==typeof c&&(d=c,c=null),Da(b,c,a,d)}}function Da(a,b,c,d){function e(){var a,b=i.status;if(!b&&Fa(i)||b>=200&&b<300||304===b){try{a=c.call(f,i)}catch(a){return void g.error.call(f,a)}g.load.call(f,a)}else g.error.call(f,i)}var f={},g=ig.dispatch("beforesend","progress","load","error"),h={},i=new XMLHttpRequest,j=null;return!this.XDomainRequest||"withCredentials"in i||!/^(http(s)?:)?\/\//.test(a)||(i=new XDomainRequest),"onload"in i?i.onload=i.onerror=e:i.onreadystatechange=function(){i.readyState>3&&e()},i.onprogress=function(a){var b=ig.event;ig.event=a;try{g.progress.call(f,i)}finally{ig.event=b}},f.header=function(a,b){return a=(a+"").toLowerCase(),arguments.length<2?h[a]:(null==b?delete h[a]:h[a]=b+"",f)},f.mimeType=function(a){return arguments.length?(b=null==a?null:a+"",f):b},f.responseType=function(a){return arguments.length?(j=a,f):j},f.response=function(a){return c=a,f},["get","post"].forEach(function(a){f[a]=function(){return f.send.apply(f,[a].concat(kg(arguments)))}}),f.send=function(c,d,e){if(2===arguments.length&&"function"==typeof d&&(e=d,d=null),i.open(c,a,!0),null==b||"accept"in h||(h.accept=b+",*/*"),i.setRequestHeader)for(var k in h)i.setRequestHeader(k,h[k]);return null!=b&&i.overrideMimeType&&i.overrideMimeType(b),null!=j&&(i.responseType=j),null!=e&&f.on("error",e).on("load",function(a){e(null,a)}),g.beforesend.call(f,i),i.send(null==d?null:d),f},f.abort=function(){return i.abort(),f},ig.rebind(f,g,"on"),null==d?f:f.get(Ea(d))}function Ea(a){return 1===a.length?function(b,c){a(null==b?c:null)}:a}function Fa(a){var b=a.responseType;return b&&"text"!==b?a.response:a.responseText}function Ga(a,b,c){var d=arguments.length;d<2&&(b=0),d<3&&(c=Date.now());var e=c+b,f={c:a,t:e,n:null};return fh?fh.n=f:eh=f,fh=f,gh||(hh=clearTimeout(hh),gh=1,ih(Ha)),f}function Ha(){var a=Ia(),b=Ja()-a;b>24?(isFinite(b)&&(clearTimeout(hh),hh=setTimeout(Ha,b)),gh=0):(gh=1,ih(Ha))}function Ia(){for(var a=Date.now(),b=eh;b;)a>=b.t&&b.c(a-b.t)&&(b.c=null),b=b.n;return a}function Ja(){for(var a,b=eh,c=1/0;b;)b.c?(b.t<c&&(c=b.t),b=(a=b).n):b=a?a.n=b.n:eh=b.n;return fh=a,c}function Ka(a,b){return b-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function La(a,b){var c=Math.pow(10,3*sg(8-b));return{scale:b>8?function(a){return a/c}:function(a){return a*c},symbol:a}}function Ma(a){var b=a.decimal,c=a.thousands,d=a.grouping,e=a.currency,f=d&&c?function(a,b){for(var e=a.length,f=[],g=0,h=d[0],i=0;e>0&&h>0&&(i+h+1>b&&(h=Math.max(1,b-i)),f.push(a.substring(e-=h,e+h)),!((i+=h+1)>b));)h=d[g=(g+1)%d.length];return f.reverse().join(c)}:t;return function(a){var c=kh.exec(a),d=c[1]||" ",g=c[2]||">",h=c[3]||"-",i=c[4]||"",j=c[5],k=+c[6],l=c[7],m=c[8],n=c[9],o=1,p="",q="",r=!1,s=!0;switch(m&&(m=+m.substring(1)),(j||"0"===d&&"="===g)&&(j=d="0",g="="),n){case"n":l=!0,n="g";break;case"%":o=100,q="%",n="f";break;case"p":o=100,q="%",n="r";break;case"b":case"o":case"x":case"X":"#"===i&&(p="0"+n.toLowerCase());case"c":s=!1;case"d":r=!0,m=0;break;case"s":o=-1,n="r"}"$"===i&&(p=e[0],q=e[1]),"r"!=n||m||(n="g"),null!=m&&("g"==n?m=Math.max(1,Math.min(21,m)):"e"!=n&&"f"!=n||(m=Math.max(0,Math.min(20,m)))),n=lh.get(n)||Na;var t=j&&l;return function(a){var c=q;if(r&&a%1)return"";var e=a<0||0===a&&1/a<0?(a=-a,"-"):"-"===h?"":h;if(o<0){var i=ig.formatPrefix(a,m);a=i.scale(a),c=i.symbol+q}else a*=o;a=n(a,m);var u,v,w=a.lastIndexOf(".");if(w<0){var x=s?a.lastIndexOf("e"):-1;x<0?(u=a,v=""):(u=a.substring(0,x),v=a.substring(x))}else u=a.substring(0,w),v=b+a.substring(w+1);!j&&l&&(u=f(u,1/0));var y=p.length+u.length+v.length+(t?0:e.length),z=y<k?new Array(y=k-y+1).join(d):"";return t&&(u=f(z+u,z.length?k-v.length:1/0)),e+=p,a=u+v,("<"===g?e+a+z:">"===g?z+e+a:"^"===g?z.substring(0,y>>=1)+e+a+z.substring(y):e+(t?a:z+a))+c}}}function Na(a){return a+""}function Oa(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Pa(a,b,c){function d(b){var c=a(b),d=f(c,1);return b-c<d-b?c:d}function e(c){return b(c=a(new nh(c-1)),1),c}function f(a,c){return b(a=new nh(+a),c),a}function g(a,d,f){var g=e(a),h=[];if(f>1)for(;g<d;)c(g)%f||h.push(new Date(+g)),b(g,1);else for(;g<d;)h.push(new Date(+g)),b(g,1);return h}function h(a,b,c){try{nh=Oa;var d=new Oa;return d._=a,g(d,b,c)}finally{nh=Date}}a.floor=a,a.round=d,a.ceil=e,a.offset=f,a.range=g;var i=a.utc=Qa(a);return i.floor=i,i.round=Qa(d),i.ceil=Qa(e),i.offset=Qa(f),i.range=h,a}function Qa(a){return function(b,c){try{nh=Oa;var d=new Oa;return d._=b,a(d,c)._}finally{nh=Date}}}function Ra(a){function b(a){function b(b){for(var c,e,f,g=[],h=-1,i=0;++h<d;)37===a.charCodeAt(h)&&(g.push(a.slice(i,h)),null!=(e=ph[c=a.charAt(++h)])&&(c=a.charAt(++h)),(f=C[c])&&(c=f(b,null==e?"e"===c?" ":"0":e)),g.push(c),i=h+1);return g.push(a.slice(i,h)),g.join("")}var d=a.length;return b.parse=function(b){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},e=c(d,a,b,0);if(e!=b.length)return null;"p"in d&&(d.H=d.H%12+12*d.p);var f=null!=d.Z&&nh!==Oa,g=new(f?Oa:nh);return"j"in d?g.setFullYear(d.y,0,d.j):"W"in d||"U"in d?("w"in d||(d.w="W"in d?1:0),g.setFullYear(d.y,0,1),g.setFullYear(d.y,0,"W"in d?(d.w+6)%7+7*d.W-(g.getDay()+5)%7:d.w+7*d.U-(g.getDay()+6)%7)):g.setFullYear(d.y,d.m,d.d),g.setHours(d.H+(d.Z/100|0),d.M+d.Z%100,d.S,d.L),f?g._:g},b.toString=function(){return a},b}function c(a,b,c,d){for(var e,f,g,h=0,i=b.length,j=c.length;h<i;){if(d>=j)return-1;if(e=b.charCodeAt(h++),37===e){if(g=b.charAt(h++),f=D[g in ph?b.charAt(h++):g],!f||(d=f(a,c,d))<0)return-1}else if(e!=c.charCodeAt(d++))return-1}return d}function d(a,b,c){w.lastIndex=0;var d=w.exec(b.slice(c));return d?(a.w=x.get(d[0].toLowerCase()),c+d[0].length):-1}function e(a,b,c){u.lastIndex=0;var d=u.exec(b.slice(c));return d?(a.w=v.get(d[0].toLowerCase()),c+d[0].length):-1}function f(a,b,c){A.lastIndex=0;var d=A.exec(b.slice(c));return d?(a.m=B.get(d[0].toLowerCase()),c+d[0].length):-1}function g(a,b,c){y.lastIndex=0;var d=y.exec(b.slice(c));return d?(a.m=z.get(d[0].toLowerCase()),c+d[0].length):-1}function h(a,b,d){return c(a,C.c.toString(),b,d)}function i(a,b,d){return c(a,C.x.toString(),b,d)}function j(a,b,d){return c(a,C.X.toString(),b,d)}function k(a,b,c){var d=t.get(b.slice(c,c+=2).toLowerCase());return null==d?-1:(a.p=d,c)}var l=a.dateTime,m=a.date,n=a.time,o=a.periods,p=a.days,q=a.shortDays,r=a.months,s=a.shortMonths;b.utc=function(a){function c(a){try{nh=Oa;var b=new nh;return b._=a,d(b)}finally{nh=Date}}var d=b(a);return c.parse=function(a){try{nh=Oa;var b=d.parse(a);return b&&b._}finally{nh=Date}},c.toString=d.toString,c},b.multi=b.utc.multi=jb;var t=ig.map(),u=Ta(p),v=Ua(p),w=Ta(q),x=Ua(q),y=Ta(r),z=Ua(r),A=Ta(s),B=Ua(s);o.forEach(function(a,b){t.set(a.toLowerCase(),b)});var C={a:function(a){return q[a.getDay()]},A:function(a){return p[a.getDay()]},b:function(a){return s[a.getMonth()]},B:function(a){return r[a.getMonth()]},c:b(l),d:function(a,b){return Sa(a.getDate(),b,2)},e:function(a,b){return Sa(a.getDate(),b,2)},H:function(a,b){return Sa(a.getHours(),b,2)},I:function(a,b){return Sa(a.getHours()%12||12,b,2)},j:function(a,b){return Sa(1+mh.dayOfYear(a),b,3)},L:function(a,b){return Sa(a.getMilliseconds(),b,3)},m:function(a,b){return Sa(a.getMonth()+1,b,2)},M:function(a,b){return Sa(a.getMinutes(),b,2)},p:function(a){return o[+(a.getHours()>=12)]},S:function(a,b){return Sa(a.getSeconds(),b,2)},U:function(a,b){return Sa(mh.sundayOfYear(a),b,2)},w:function(a){return a.getDay()},W:function(a,b){return Sa(mh.mondayOfYear(a),b,2)},x:b(m),X:b(n),y:function(a,b){return Sa(a.getFullYear()%100,b,2)},Y:function(a,b){return Sa(a.getFullYear()%1e4,b,4)},Z:hb,"%":function(){return"%"}},D={a:d,A:e,b:f,B:g,c:h,d:bb,e:bb,H:db,I:db,j:cb,L:gb,m:ab,M:eb,p:k,S:fb,U:Wa,w:Va,W:Xa,x:i,X:j,y:Za,Y:Ya,Z:$a,"%":ib};return b}function Sa(a,b,c){var d=a<0?"-":"",e=(d?-a:a)+"",f=e.length;return d+(f<c?new Array(c-f+1).join(b)+e:e)}function Ta(a){return new RegExp("^(?:"+a.map(ig.requote).join("|")+")","i")}function Ua(a){for(var b=new k,c=-1,d=a.length;++c<d;)b.set(a[c].toLowerCase(),c);return b}function Va(a,b,c){qh.lastIndex=0;var d=qh.exec(b.slice(c,c+1));return d?(a.w=+d[0],c+d[0].length):-1}function Wa(a,b,c){qh.lastIndex=0;var d=qh.exec(b.slice(c));return d?(a.U=+d[0],c+d[0].length):-1}function Xa(a,b,c){qh.lastIndex=0;var d=qh.exec(b.slice(c));return d?(a.W=+d[0],c+d[0].length):-1}function Ya(a,b,c){qh.lastIndex=0;var d=qh.exec(b.slice(c,c+4));return d?(a.y=+d[0],c+d[0].length):-1}function Za(a,b,c){qh.lastIndex=0;var d=qh.exec(b.slice(c,c+2));return d?(a.y=_a(+d[0]),c+d[0].length):-1}function $a(a,b,c){return/^[+-]\d{4}$/.test(b=b.slice(c,c+5))?(a.Z=-b,c+5):-1}function _a(a){return a+(a>68?1900:2e3)}function ab(a,b,c){qh.lastIndex=0;var d=qh.exec(b.slice(c,c+2));return d?(a.m=d[0]-1,c+d[0].length):-1}function bb(a,b,c){qh.lastIndex=0;var d=qh.exec(b.slice(c,c+2));return d?(a.d=+d[0],c+d[0].length):-1}function cb(a,b,c){qh.lastIndex=0;var d=qh.exec(b.slice(c,c+3));return d?(a.j=+d[0],c+d[0].length):-1}function db(a,b,c){qh.lastIndex=0;var d=qh.exec(b.slice(c,c+2));return d?(a.H=+d[0],c+d[0].length):-1}function eb(a,b,c){qh.lastIndex=0;var d=qh.exec(b.slice(c,c+2));return d?(a.M=+d[0],c+d[0].length):-1}function fb(a,b,c){qh.lastIndex=0;var d=qh.exec(b.slice(c,c+2));return d?(a.S=+d[0],c+d[0].length):-1}function gb(a,b,c){qh.lastIndex=0;var d=qh.exec(b.slice(c,c+3));return d?(a.L=+d[0],c+d[0].length):-1}function hb(a){var b=a.getTimezoneOffset(),c=b>0?"-":"+",d=sg(b)/60|0,e=sg(b)%60;return c+Sa(d,"0",2)+Sa(e,"0",2)}function ib(a,b,c){rh.lastIndex=0;var d=rh.exec(b.slice(c,c+1));return d?c+d[0].length:-1}function jb(a){for(var b=a.length,c=-1;++c<b;)a[c][0]=this(a[c][0]);return function(b){for(var c=0,d=a[c];!d[1](b);)d=a[++c];return d[0](b)}}function kb(){}function lb(a,b,c){var d=c.s=a+b,e=d-a,f=d-e;c.t=a-f+(b-e)}function mb(a,b){a&&vh.hasOwnProperty(a.type)&&vh[a.type](a,b)}function nb(a,b,c){var d,e=-1,f=a.length-c;for(b.lineStart();++e<f;)d=a[e],b.point(d[0],d[1],d[2]);b.lineEnd()}function ob(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)nb(a[c],b,1);b.polygonEnd()}function pb(){function a(a,b){a*=Pg,b=b*Pg/2+Lg/4;var c=a-d,g=c>=0?1:-1,h=g*c,i=Math.cos(b),j=Math.sin(b),k=f*j,l=e*i+k*Math.cos(h),m=k*g*Math.sin(h);xh.add(Math.atan2(m,l)),d=a,e=i,f=j}var b,c,d,e,f;yh.point=function(g,h){yh.point=a,d=(b=g)*Pg,e=Math.cos(h=(c=h)*Pg/2+Lg/4),f=Math.sin(h)},yh.lineEnd=function(){a(b,c)}}function qb(a){var b=a[0],c=a[1],d=Math.cos(c);return[d*Math.cos(b),d*Math.sin(b),Math.sin(c)]}function rb(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function sb(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function tb(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function ub(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function vb(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b,a[1]/=b,a[2]/=b}function wb(a){return[Math.atan2(a[1],a[0]),ca(a[2])]}function xb(a,b){return sg(a[0]-b[0])<Jg&&sg(a[1]-b[1])<Jg}function yb(a,b){a*=Pg;var c=Math.cos(b*=Pg);zb(c*Math.cos(a),c*Math.sin(a),Math.sin(b))}function zb(a,b,c){++zh,Bh+=(a-Bh)/zh,Ch+=(b-Ch)/zh,Dh+=(c-Dh)/zh}function Ab(){function a(a,e){a*=Pg;var f=Math.cos(e*=Pg),g=f*Math.cos(a),h=f*Math.sin(a),i=Math.sin(e),j=Math.atan2(Math.sqrt((j=c*i-d*h)*j+(j=d*g-b*i)*j+(j=b*h-c*g)*j),b*g+c*h+d*i);Ah+=j,Eh+=j*(b+(b=g)),Fh+=j*(c+(c=h)),Gh+=j*(d+(d=i)),zb(b,c,d)}var b,c,d;Kh.point=function(e,f){e*=Pg;var g=Math.cos(f*=Pg);b=g*Math.cos(e),c=g*Math.sin(e),d=Math.sin(f),Kh.point=a,zb(b,c,d)}}function Bb(){Kh.point=yb}function Cb(){function a(a,b){a*=Pg;var c=Math.cos(b*=Pg),g=c*Math.cos(a),h=c*Math.sin(a),i=Math.sin(b),j=e*i-f*h,k=f*g-d*i,l=d*h-e*g,m=Math.sqrt(j*j+k*k+l*l),n=d*g+e*h+f*i,o=m&&-ba(n)/m,p=Math.atan2(m,n);Hh+=o*j,Ih+=o*k,Jh+=o*l,Ah+=p,Eh+=p*(d+(d=g)),Fh+=p*(e+(e=h)),Gh+=p*(f+(f=i)),zb(d,e,f)}var b,c,d,e,f;Kh.point=function(g,h){b=g,c=h,Kh.point=a,g*=Pg;var i=Math.cos(h*=Pg);d=i*Math.cos(g),e=i*Math.sin(g),f=Math.sin(h),zb(d,e,f)},Kh.lineEnd=function(){a(b,c),Kh.lineEnd=Bb,Kh.point=yb}}function Db(a,b){function c(c,d){return c=a(c,d),b(c[0],c[1])}return a.invert&&b.invert&&(c.invert=function(c,d){return c=b.invert(c,d),c&&a.invert(c[0],c[1])}),c}function Eb(){return!0}function Fb(a,b,c,d,e){var f=[],g=[];if(a.forEach(function(a){if(!((b=a.length-1)<=0)){var b,c=a[0],d=a[b];if(xb(c,d)){e.lineStart();for(var h=0;h<b;++h)e.point((c=a[h])[0],c[1]);return void e.lineEnd()}var i=new Hb(c,a,null,!0),j=new Hb(c,null,i,!1);i.o=j,f.push(i),g.push(j),i=new Hb(d,a,null,!1),j=new Hb(d,null,i,!0),i.o=j,f.push(i),g.push(j)}}),g.sort(b),Gb(f),Gb(g),f.length){for(var h=0,i=c,j=g.length;h<j;++h)g[h].e=i=!i;for(var k,l,m=f[0];;){for(var n=m,o=!0;n.v;)if((n=n.n)===m)return;k=n.z,e.lineStart();do{if(n.v=n.o.v=!0,n.e){if(o)for(var h=0,j=k.length;h<j;++h)e.point((l=k[h])[0],l[1]);else d(n.x,n.n.x,1,e);n=n.n}else{if(o){k=n.p.z;for(var h=k.length-1;h>=0;--h)e.point((l=k[h])[0],l[1])}else d(n.x,n.p.x,-1,e);n=n.p}n=n.o,k=n.z,o=!o}while(!n.v);e.lineEnd()}}}function Gb(a){if(b=a.length){
for(var b,c,d=0,e=a[0];++d<b;)e.n=c=a[d],c.p=e,e=c;e.n=c=a[0],c.p=e}}function Hb(a,b,c,d){this.x=a,this.z=b,this.o=c,this.e=d,this.v=!1,this.n=this.p=null}function Ib(a,b,c,d){return function(e,f){function g(b,c){var d=e(b,c);a(b=d[0],c=d[1])&&f.point(b,c)}function h(a,b){var c=e(a,b);q.point(c[0],c[1])}function i(){s.point=h,q.lineStart()}function j(){s.point=g,q.lineEnd()}function k(a,b){p.push([a,b]);var c=e(a,b);u.point(c[0],c[1])}function l(){u.lineStart(),p=[]}function m(){k(p[0][0],p[0][1]),u.lineEnd();var a,b=u.clean(),c=t.buffer(),d=c.length;if(p.pop(),o.push(p),p=null,d)if(1&b){a=c[0];var e,d=a.length-1,g=-1;if(d>0){for(v||(f.polygonStart(),v=!0),f.lineStart();++g<d;)f.point((e=a[g])[0],e[1]);f.lineEnd()}}else d>1&&2&b&&c.push(c.pop().concat(c.shift())),n.push(c.filter(Jb))}var n,o,p,q=b(f),r=e.invert(d[0],d[1]),s={point:g,lineStart:i,lineEnd:j,polygonStart:function(){s.point=k,s.lineStart=l,s.lineEnd=m,n=[],o=[]},polygonEnd:function(){s.point=g,s.lineStart=i,s.lineEnd=j,n=ig.merge(n);var a=Pb(r,o);n.length?(v||(f.polygonStart(),v=!0),Fb(n,Lb,a,c,f)):a&&(v||(f.polygonStart(),v=!0),f.lineStart(),c(null,null,1,f),f.lineEnd()),v&&(f.polygonEnd(),v=!1),n=o=null},sphere:function(){f.polygonStart(),f.lineStart(),c(null,null,1,f),f.lineEnd(),f.polygonEnd()}},t=Kb(),u=b(t),v=!1;return s}}function Jb(a){return a.length>1}function Kb(){var a,b=[];return{lineStart:function(){b.push(a=[])},point:function(b,c){a.push([b,c])},lineEnd:w,buffer:function(){var c=b;return b=[],a=null,c},rejoin:function(){b.length>1&&b.push(b.pop().concat(b.shift()))}}}function Lb(a,b){return((a=a.x)[0]<0?a[1]-Og-Jg:Og-a[1])-((b=b.x)[0]<0?b[1]-Og-Jg:Og-b[1])}function Mb(a){var b,c=NaN,d=NaN,e=NaN;return{lineStart:function(){a.lineStart(),b=1},point:function(f,g){var h=f>0?Lg:-Lg,i=sg(f-c);sg(i-Lg)<Jg?(a.point(c,d=(d+g)/2>0?Og:-Og),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),a.point(f,d),b=0):e!==h&&i>=Lg&&(sg(c-e)<Jg&&(c-=e*Jg),sg(f-h)<Jg&&(f-=h*Jg),d=Nb(c,d,f,g),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),b=0),a.point(c=f,d=g),e=h},lineEnd:function(){a.lineEnd(),c=d=NaN},clean:function(){return 2-b}}}function Nb(a,b,c,d){var e,f,g=Math.sin(a-c);return sg(g)>Jg?Math.atan((Math.sin(b)*(f=Math.cos(d))*Math.sin(c)-Math.sin(d)*(e=Math.cos(b))*Math.sin(a))/(e*f*g)):(b+d)/2}function Ob(a,b,c,d){var e;if(null==a)e=c*Og,d.point(-Lg,e),d.point(0,e),d.point(Lg,e),d.point(Lg,0),d.point(Lg,-e),d.point(0,-e),d.point(-Lg,-e),d.point(-Lg,0),d.point(-Lg,e);else if(sg(a[0]-b[0])>Jg){var f=a[0]<b[0]?Lg:-Lg;e=c*f/2,d.point(-f,e),d.point(0,e),d.point(f,e)}else d.point(b[0],b[1])}function Pb(a,b){var c=a[0],d=a[1],e=[Math.sin(c),-Math.cos(c),0],f=0,g=0;xh.reset();for(var h=0,i=b.length;h<i;++h){var j=b[h],k=j.length;if(k)for(var l=j[0],m=l[0],n=l[1]/2+Lg/4,o=Math.sin(n),p=Math.cos(n),q=1;;){q===k&&(q=0),a=j[q];var r=a[0],s=a[1]/2+Lg/4,t=Math.sin(s),u=Math.cos(s),v=r-m,w=v>=0?1:-1,x=w*v,y=x>Lg,z=o*t;if(xh.add(Math.atan2(z*w*Math.sin(x),p*u+z*Math.cos(x))),f+=y?v+w*Mg:v,y^m>=c^r>=c){var A=sb(qb(l),qb(a));vb(A);var B=sb(e,A);vb(B);var C=(y^v>=0?-1:1)*ca(B[2]);(d>C||d===C&&(A[0]||A[1]))&&(g+=y^v>=0?1:-1)}if(!q++)break;m=r,o=t,p=u,l=a}}return(f<-Jg||f<Jg&&xh<-Jg)^1&g}function Qb(a){function b(a,b){return Math.cos(a)*Math.cos(b)>f}function c(a){var c,f,i,j,k;return{lineStart:function(){j=i=!1,k=1},point:function(l,m){var n,o=[l,m],p=b(l,m),q=g?p?0:e(l,m):p?e(l+(l<0?Lg:-Lg),m):0;if(!c&&(j=i=p)&&a.lineStart(),p!==i&&(n=d(c,o),(xb(c,n)||xb(o,n))&&(o[0]+=Jg,o[1]+=Jg,p=b(o[0],o[1]))),p!==i)k=0,p?(a.lineStart(),n=d(o,c),a.point(n[0],n[1])):(n=d(c,o),a.point(n[0],n[1]),a.lineEnd()),c=n;else if(h&&c&&g^p){var r;q&f||!(r=d(o,c,!0))||(k=0,g?(a.lineStart(),a.point(r[0][0],r[0][1]),a.point(r[1][0],r[1][1]),a.lineEnd()):(a.point(r[1][0],r[1][1]),a.lineEnd(),a.lineStart(),a.point(r[0][0],r[0][1])))}!p||c&&xb(c,o)||a.point(o[0],o[1]),c=o,i=p,f=q},lineEnd:function(){i&&a.lineEnd(),c=null},clean:function(){return k|(j&&i)<<1}}}function d(a,b,c){var d=qb(a),e=qb(b),g=[1,0,0],h=sb(d,e),i=rb(h,h),j=h[0],k=i-j*j;if(!k)return!c&&a;var l=f*i/k,m=-f*j/k,n=sb(g,h),o=ub(g,l),p=ub(h,m);tb(o,p);var q=n,r=rb(o,q),s=rb(q,q),t=r*r-s*(rb(o,o)-1);if(!(t<0)){var u=Math.sqrt(t),v=ub(q,(-r-u)/s);if(tb(v,o),v=wb(v),!c)return v;var w,x=a[0],y=b[0],z=a[1],A=b[1];y<x&&(w=x,x=y,y=w);var B=y-x,C=sg(B-Lg)<Jg,D=C||B<Jg;if(!C&&A<z&&(w=z,z=A,A=w),D?C?z+A>0^v[1]<(sg(v[0]-x)<Jg?z:A):z<=v[1]&&v[1]<=A:B>Lg^(x<=v[0]&&v[0]<=y)){var E=ub(q,(-r+u)/s);return tb(E,o),[v,wb(E)]}}}function e(b,c){var d=g?a:Lg-a,e=0;return b<-d?e|=1:b>d&&(e|=2),c<-d?e|=4:c>d&&(e|=8),e}var f=Math.cos(a),g=f>0,h=sg(f)>Jg,i=pc(a,6*Pg);return Ib(b,c,i,g?[0,-a]:[-Lg,a-Lg])}function Rb(a,b,c,d){return function(e){var f,g=e.a,h=e.b,i=g.x,j=g.y,k=h.x,l=h.y,m=0,n=1,o=k-i,p=l-j;if(f=a-i,o||!(f>0)){if(f/=o,o<0){if(f<m)return;f<n&&(n=f)}else if(o>0){if(f>n)return;f>m&&(m=f)}if(f=c-i,o||!(f<0)){if(f/=o,o<0){if(f>n)return;f>m&&(m=f)}else if(o>0){if(f<m)return;f<n&&(n=f)}if(f=b-j,p||!(f>0)){if(f/=p,p<0){if(f<m)return;f<n&&(n=f)}else if(p>0){if(f>n)return;f>m&&(m=f)}if(f=d-j,p||!(f<0)){if(f/=p,p<0){if(f>n)return;f>m&&(m=f)}else if(p>0){if(f<m)return;f<n&&(n=f)}return m>0&&(e.a={x:i+m*o,y:j+m*p}),n<1&&(e.b={x:i+n*o,y:j+n*p}),e}}}}}}function Sb(a,b,c,d){function e(d,e){return sg(d[0]-a)<Jg?e>0?0:3:sg(d[0]-c)<Jg?e>0?2:1:sg(d[1]-b)<Jg?e>0?1:0:e>0?3:2}function f(a,b){return g(a.x,b.x)}function g(a,b){var c=e(a,1),d=e(b,1);return c!==d?c-d:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(h){function i(a){for(var b=0,c=q.length,d=a[1],e=0;e<c;++e)for(var f,g=1,h=q[e],i=h.length,j=h[0];g<i;++g)f=h[g],j[1]<=d?f[1]>d&&aa(j,f,a)>0&&++b:f[1]<=d&&aa(j,f,a)<0&&--b,j=f;return 0!==b}function j(f,h,i,j){var k=0,l=0;if(null==f||(k=e(f,i))!==(l=e(h,i))||g(f,h)<0^i>0){do j.point(0===k||3===k?a:c,k>1?d:b);while((k=(k+i+4)%4)!==l)}else j.point(h[0],h[1])}function k(e,f){return a<=e&&e<=c&&b<=f&&f<=d}function l(a,b){k(a,b)&&h.point(a,b)}function m(){D.point=o,q&&q.push(r=[]),y=!0,x=!1,v=w=NaN}function n(){p&&(o(s,t),u&&x&&B.rejoin(),p.push(B.buffer())),D.point=l,x&&h.lineEnd()}function o(a,b){a=Math.max(-Mh,Math.min(Mh,a)),b=Math.max(-Mh,Math.min(Mh,b));var c=k(a,b);if(q&&r.push([a,b]),y)s=a,t=b,u=c,y=!1,c&&(h.lineStart(),h.point(a,b));else if(c&&x)h.point(a,b);else{var d={a:{x:v,y:w},b:{x:a,y:b}};C(d)?(x||(h.lineStart(),h.point(d.a.x,d.a.y)),h.point(d.b.x,d.b.y),c||h.lineEnd(),z=!1):c&&(h.lineStart(),h.point(a,b),z=!1)}v=a,w=b,x=c}var p,q,r,s,t,u,v,w,x,y,z,A=h,B=Kb(),C=Rb(a,b,c,d),D={point:l,lineStart:m,lineEnd:n,polygonStart:function(){h=B,p=[],q=[],z=!0},polygonEnd:function(){h=A,p=ig.merge(p);var b=i([a,d]),c=z&&b,e=p.length;(c||e)&&(h.polygonStart(),c&&(h.lineStart(),j(null,null,1,h),h.lineEnd()),e&&Fb(p,f,b,j,h),h.polygonEnd()),p=q=r=null}};return D}}function Tb(a){var b=0,c=Lg/3,d=hc(a),e=d(b,c);return e.parallels=function(a){return arguments.length?d(b=a[0]*Lg/180,c=a[1]*Lg/180):[b/Lg*180,c/Lg*180]},e}function Ub(a,b){function c(a,b){var c=Math.sqrt(f-2*e*Math.sin(b))/e;return[c*Math.sin(a*=e),g-c*Math.cos(a)]}var d=Math.sin(a),e=(d+Math.sin(b))/2,f=1+d*(2*e-d),g=Math.sqrt(f)/e;return c.invert=function(a,b){var c=g-b;return[Math.atan2(a,c)/e,ca((f-(a*a+c*c)*e*e)/(2*e))]},c}function Vb(){function a(a,b){Oh+=e*a-d*b,d=a,e=b}var b,c,d,e;Th.point=function(f,g){Th.point=a,b=d=f,c=e=g},Th.lineEnd=function(){a(b,c)}}function Wb(a,b){a<Ph&&(Ph=a),a>Rh&&(Rh=a),b<Qh&&(Qh=b),b>Sh&&(Sh=b)}function Xb(){function a(a,b){g.push("M",a,",",b,f)}function b(a,b){g.push("M",a,",",b),h.point=c}function c(a,b){g.push("L",a,",",b)}function d(){h.point=a}function e(){g.push("Z")}var f=Yb(4.5),g=[],h={point:a,lineStart:function(){h.point=b},lineEnd:d,polygonStart:function(){h.lineEnd=e},polygonEnd:function(){h.lineEnd=d,h.point=a},pointRadius:function(a){return f=Yb(a),h},result:function(){if(g.length){var a=g.join("");return g=[],a}}};return h}function Yb(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function Zb(a,b){Bh+=a,Ch+=b,++Dh}function $b(){function a(a,d){var e=a-b,f=d-c,g=Math.sqrt(e*e+f*f);Eh+=g*(b+a)/2,Fh+=g*(c+d)/2,Gh+=g,Zb(b=a,c=d)}var b,c;Vh.point=function(d,e){Vh.point=a,Zb(b=d,c=e)}}function _b(){Vh.point=Zb}function ac(){function a(a,b){var c=a-d,f=b-e,g=Math.sqrt(c*c+f*f);Eh+=g*(d+a)/2,Fh+=g*(e+b)/2,Gh+=g,g=e*a-d*b,Hh+=g*(d+a),Ih+=g*(e+b),Jh+=3*g,Zb(d=a,e=b)}var b,c,d,e;Vh.point=function(f,g){Vh.point=a,Zb(b=d=f,c=e=g)},Vh.lineEnd=function(){a(b,c)}}function bc(a){function b(b,c){a.moveTo(b+g,c),a.arc(b,c,g,0,Mg)}function c(b,c){a.moveTo(b,c),h.point=d}function d(b,c){a.lineTo(b,c)}function e(){h.point=b}function f(){a.closePath()}var g=4.5,h={point:b,lineStart:function(){h.point=c},lineEnd:e,polygonStart:function(){h.lineEnd=f},polygonEnd:function(){h.lineEnd=e,h.point=b},pointRadius:function(a){return g=a,h},result:w};return h}function cc(a){function b(a){return(h?d:c)(a)}function c(b){return fc(b,function(c,d){c=a(c,d),b.point(c[0],c[1])})}function d(b){function c(c,d){c=a(c,d),b.point(c[0],c[1])}function d(){t=NaN,y.point=f,b.lineStart()}function f(c,d){var f=qb([c,d]),g=a(c,d);e(t,u,s,v,w,x,t=g[0],u=g[1],s=c,v=f[0],w=f[1],x=f[2],h,b),b.point(t,u)}function g(){y.point=c,b.lineEnd()}function i(){d(),y.point=j,y.lineEnd=k}function j(a,b){f(l=a,m=b),n=t,o=u,p=v,q=w,r=x,y.point=f}function k(){e(t,u,s,v,w,x,n,o,l,p,q,r,h,b),y.lineEnd=g,g()}var l,m,n,o,p,q,r,s,t,u,v,w,x,y={point:c,lineStart:d,lineEnd:g,polygonStart:function(){b.polygonStart(),y.lineStart=i},polygonEnd:function(){b.polygonEnd(),y.lineStart=d}};return y}function e(b,c,d,h,i,j,k,l,m,n,o,p,q,r){var s=k-b,t=l-c,u=s*s+t*t;if(u>4*f&&q--){var v=h+n,w=i+o,x=j+p,y=Math.sqrt(v*v+w*w+x*x),z=Math.asin(x/=y),A=sg(sg(x)-1)<Jg||sg(d-m)<Jg?(d+m)/2:Math.atan2(w,v),B=a(A,z),C=B[0],D=B[1],E=C-b,F=D-c,G=t*E-s*F;(G*G/u>f||sg((s*E+t*F)/u-.5)>.3||h*n+i*o+j*p<g)&&(e(b,c,d,h,i,j,C,D,A,v/=y,w/=y,x,q,r),r.point(C,D),e(C,D,A,v,w,x,k,l,m,n,o,p,q,r))}}var f=.5,g=Math.cos(30*Pg),h=16;return b.precision=function(a){return arguments.length?(h=(f=a*a)>0&&16,b):Math.sqrt(f)},b}function dc(a){var b=cc(function(b,c){return a([b*Qg,c*Qg])});return function(a){return ic(b(a))}}function ec(a){this.stream=a}function fc(a,b){return{point:b,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function gc(a){return hc(function(){return a})()}function hc(a){function b(a){return a=h(a[0]*Pg,a[1]*Pg),[a[0]*m+i,j-a[1]*m]}function c(a){return a=h.invert((a[0]-i)/m,(j-a[1])/m),a&&[a[0]*Qg,a[1]*Qg]}function d(){h=Db(g=lc(r,s,u),f);var a=f(p,q);return i=n-a[0]*m,j=o+a[1]*m,e()}function e(){return k&&(k.valid=!1,k=null),b}var f,g,h,i,j,k,l=cc(function(a,b){return a=f(a,b),[a[0]*m+i,j-a[1]*m]}),m=150,n=480,o=250,p=0,q=0,r=0,s=0,u=0,v=Lh,w=t,x=null,y=null;return b.stream=function(a){return k&&(k.valid=!1),k=ic(v(g,l(w(a)))),k.valid=!0,k},b.clipAngle=function(a){return arguments.length?(v=null==a?(x=a,Lh):Qb((x=+a)*Pg),e()):x},b.clipExtent=function(a){return arguments.length?(y=a,w=a?Sb(a[0][0],a[0][1],a[1][0],a[1][1]):t,e()):y},b.scale=function(a){return arguments.length?(m=+a,d()):m},b.translate=function(a){return arguments.length?(n=+a[0],o=+a[1],d()):[n,o]},b.center=function(a){return arguments.length?(p=a[0]%360*Pg,q=a[1]%360*Pg,d()):[p*Qg,q*Qg]},b.rotate=function(a){return arguments.length?(r=a[0]%360*Pg,s=a[1]%360*Pg,u=a.length>2?a[2]%360*Pg:0,d()):[r*Qg,s*Qg,u*Qg]},ig.rebind(b,l,"precision"),function(){return f=a.apply(this,arguments),b.invert=f.invert&&c,d()}}function ic(a){return fc(a,function(b,c){a.point(b*Pg,c*Pg)})}function jc(a,b){return[a,b]}function kc(a,b){return[a>Lg?a-Mg:a<-Lg?a+Mg:a,b]}function lc(a,b,c){return a?b||c?Db(nc(a),oc(b,c)):nc(a):b||c?oc(b,c):kc}function mc(a){return function(b,c){return b+=a,[b>Lg?b-Mg:b<-Lg?b+Mg:b,c]}}function nc(a){var b=mc(a);return b.invert=mc(-a),b}function oc(a,b){function c(a,b){var c=Math.cos(b),h=Math.cos(a)*c,i=Math.sin(a)*c,j=Math.sin(b),k=j*d+h*e;return[Math.atan2(i*f-k*g,h*d-j*e),ca(k*f+i*g)]}var d=Math.cos(a),e=Math.sin(a),f=Math.cos(b),g=Math.sin(b);return c.invert=function(a,b){var c=Math.cos(b),h=Math.cos(a)*c,i=Math.sin(a)*c,j=Math.sin(b),k=j*f-i*g;return[Math.atan2(i*f+j*g,h*d+k*e),ca(k*d-h*e)]},c}function pc(a,b){var c=Math.cos(a),d=Math.sin(a);return function(e,f,g,h){var i=g*b;null!=e?(e=qc(c,e),f=qc(c,f),(g>0?e<f:e>f)&&(e+=g*Mg)):(e=a+g*Mg,f=a-.5*i);for(var j,k=e;g>0?k>f:k<f;k-=i)h.point((j=wb([c,-d*Math.cos(k),-d*Math.sin(k)]))[0],j[1])}}function qc(a,b){var c=qb(b);c[0]-=a,vb(c);var d=ba(-c[1]);return((-c[2]<0?-d:d)+2*Math.PI-Jg)%(2*Math.PI)}function rc(a,b,c){var d=ig.range(a,b-Jg,c).concat(b);return function(a){return d.map(function(b){return[a,b]})}}function sc(a,b,c){var d=ig.range(a,b-Jg,c).concat(b);return function(a){return d.map(function(b){return[b,a]})}}function tc(a){return a.source}function uc(a){return a.target}function vc(a,b,c,d){var e=Math.cos(b),f=Math.sin(b),g=Math.cos(d),h=Math.sin(d),i=e*Math.cos(a),j=e*Math.sin(a),k=g*Math.cos(c),l=g*Math.sin(c),m=2*Math.asin(Math.sqrt(ga(d-b)+e*g*ga(c-a))),n=1/Math.sin(m),o=m?function(a){var b=Math.sin(a*=m)*n,c=Math.sin(m-a)*n,d=c*i+b*k,e=c*j+b*l,g=c*f+b*h;return[Math.atan2(e,d)*Qg,Math.atan2(g,Math.sqrt(d*d+e*e))*Qg]}:function(){return[a*Qg,b*Qg]};return o.distance=m,o}function wc(){function a(a,e){var f=Math.sin(e*=Pg),g=Math.cos(e),h=sg((a*=Pg)-b),i=Math.cos(h);Wh+=Math.atan2(Math.sqrt((h=g*Math.sin(h))*h+(h=d*f-c*g*i)*h),c*f+d*g*i),b=a,c=f,d=g}var b,c,d;Xh.point=function(e,f){b=e*Pg,c=Math.sin(f*=Pg),d=Math.cos(f),Xh.point=a},Xh.lineEnd=function(){Xh.point=Xh.lineEnd=w}}function xc(a,b){function c(b,c){var d=Math.cos(b),e=Math.cos(c),f=a(d*e);return[f*e*Math.sin(b),f*Math.sin(c)]}return c.invert=function(a,c){var d=Math.sqrt(a*a+c*c),e=b(d),f=Math.sin(e),g=Math.cos(e);return[Math.atan2(a*f,d*g),Math.asin(d&&c*f/d)]},c}function yc(a,b){function c(a,b){g>0?b<-Og+Jg&&(b=-Og+Jg):b>Og-Jg&&(b=Og-Jg);var c=g/Math.pow(e(b),f);return[c*Math.sin(f*a),g-c*Math.cos(f*a)]}var d=Math.cos(a),e=function(a){return Math.tan(Lg/4+a/2)},f=a===b?Math.sin(a):Math.log(d/Math.cos(b))/Math.log(e(b)/e(a)),g=d*Math.pow(e(a),f)/f;return f?(c.invert=function(a,b){var c=g-b,d=_(f)*Math.sqrt(a*a+c*c);return[Math.atan2(a,c)/f,2*Math.atan(Math.pow(g/d,1/f))-Og]},c):Ac}function zc(a,b){function c(a,b){var c=f-b;return[c*Math.sin(e*a),f-c*Math.cos(e*a)]}var d=Math.cos(a),e=a===b?Math.sin(a):(d-Math.cos(b))/(b-a),f=d/e+a;return sg(e)<Jg?jc:(c.invert=function(a,b){var c=f-b;return[Math.atan2(a,c)/e,f-_(e)*Math.sqrt(a*a+c*c)]},c)}function Ac(a,b){return[a,Math.log(Math.tan(Lg/4+b/2))]}function Bc(a){var b,c=gc(a),d=c.scale,e=c.translate,f=c.clipExtent;return c.scale=function(){var a=d.apply(c,arguments);return a===c?b?c.clipExtent(null):c:a},c.translate=function(){var a=e.apply(c,arguments);return a===c?b?c.clipExtent(null):c:a},c.clipExtent=function(a){var g=f.apply(c,arguments);if(g===c){if(b=null==a){var h=Lg*d(),i=e();f([[i[0]-h,i[1]-h],[i[0]+h,i[1]+h]])}}else b&&(g=null);return g},c.clipExtent(null)}function Cc(a,b){return[Math.log(Math.tan(Lg/4+b/2)),-a]}function Dc(a){return a[0]}function Ec(a){return a[1]}function Fc(a){for(var b=a.length,c=[0,1],d=2,e=2;e<b;e++){for(;d>1&&aa(a[c[d-2]],a[c[d-1]],a[e])<=0;)--d;c[d++]=e}return c.slice(0,d)}function Gc(a,b){return a[0]-b[0]||a[1]-b[1]}function Hc(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function Ic(a,b,c,d){var e=a[0],f=c[0],g=b[0]-e,h=d[0]-f,i=a[1],j=c[1],k=b[1]-i,l=d[1]-j,m=(h*(i-j)-l*(e-f))/(l*g-h*k);return[e+m*g,i+m*k]}function Jc(a){var b=a[0],c=a[a.length-1];return!(b[0]-c[0]||b[1]-c[1])}function Kc(){dd(this),this.edge=this.site=this.circle=null}function Lc(a){var b=hi.pop()||new Kc;return b.site=a,b}function Mc(a){Wc(a),ei.remove(a),hi.push(a),dd(a)}function Nc(a){var b=a.circle,c=b.x,d=b.cy,e={x:c,y:d},f=a.P,g=a.N,h=[a];Mc(a);for(var i=f;i.circle&&sg(c-i.circle.x)<Jg&&sg(d-i.circle.cy)<Jg;)f=i.P,h.unshift(i),Mc(i),i=f;h.unshift(i),Wc(i);for(var j=g;j.circle&&sg(c-j.circle.x)<Jg&&sg(d-j.circle.cy)<Jg;)g=j.N,h.push(j),Mc(j),j=g;h.push(j),Wc(j);var k,l=h.length;for(k=1;k<l;++k)j=h[k],i=h[k-1],ad(j.edge,i.site,j.site,e);i=h[0],j=h[l-1],j.edge=$c(i.site,j.site,null,e),Vc(i),Vc(j)}function Oc(a){for(var b,c,d,e,f=a.x,g=a.y,h=ei._;h;)if(d=Pc(h,g)-f,d>Jg)h=h.L;else{if(e=f-Qc(h,g),!(e>Jg)){d>-Jg?(b=h.P,c=h):e>-Jg?(b=h,c=h.N):b=c=h;break}if(!h.R){b=h;break}h=h.R}var i=Lc(a);if(ei.insert(b,i),b||c){if(b===c)return Wc(b),c=Lc(b.site),ei.insert(i,c),i.edge=c.edge=$c(b.site,i.site),Vc(b),void Vc(c);if(!c)return void(i.edge=$c(b.site,i.site));Wc(b),Wc(c);var j=b.site,k=j.x,l=j.y,m=a.x-k,n=a.y-l,o=c.site,p=o.x-k,q=o.y-l,r=2*(m*q-n*p),s=m*m+n*n,t=p*p+q*q,u={x:(q*s-n*t)/r+k,y:(m*t-p*s)/r+l};ad(c.edge,j,o,u),i.edge=$c(j,a,null,u),c.edge=$c(a,o,null,u),Vc(b),Vc(c)}}function Pc(a,b){var c=a.site,d=c.x,e=c.y,f=e-b;if(!f)return d;var g=a.P;if(!g)return-(1/0);c=g.site;var h=c.x,i=c.y,j=i-b;if(!j)return h;var k=h-d,l=1/f-1/j,m=k/j;return l?(-m+Math.sqrt(m*m-2*l*(k*k/(-2*j)-i+j/2+e-f/2)))/l+d:(d+h)/2}function Qc(a,b){var c=a.N;if(c)return Pc(c,b);var d=a.site;return d.y===b?d.x:1/0}function Rc(a){this.site=a,this.edges=[]}function Sc(a){for(var b,c,d,e,f,g,h,i,j,k,l=a[0][0],m=a[1][0],n=a[0][1],o=a[1][1],p=di,q=p.length;q--;)if(f=p[q],f&&f.prepare())for(h=f.edges,i=h.length,g=0;g<i;)k=h[g].end(),d=k.x,e=k.y,j=h[++g%i].start(),b=j.x,c=j.y,(sg(d-b)>Jg||sg(e-c)>Jg)&&(h.splice(g,0,new bd(_c(f.site,k,sg(d-l)<Jg&&o-e>Jg?{x:l,y:sg(b-l)<Jg?c:o}:sg(e-o)<Jg&&m-d>Jg?{x:sg(c-o)<Jg?b:m,y:o}:sg(d-m)<Jg&&e-n>Jg?{x:m,y:sg(b-m)<Jg?c:n}:sg(e-n)<Jg&&d-l>Jg?{x:sg(c-n)<Jg?b:l,y:n}:null),f.site,null)),++i)}function Tc(a,b){return b.angle-a.angle}function Uc(){dd(this),this.x=this.y=this.arc=this.site=this.cy=null}function Vc(a){var b=a.P,c=a.N;if(b&&c){var d=b.site,e=a.site,f=c.site;if(d!==f){var g=e.x,h=e.y,i=d.x-g,j=d.y-h,k=f.x-g,l=f.y-h,m=2*(i*l-j*k);if(!(m>=-Kg)){var n=i*i+j*j,o=k*k+l*l,p=(l*n-j*o)/m,q=(i*o-k*n)/m,l=q+h,r=ii.pop()||new Uc;r.arc=a,r.site=e,r.x=p+g,r.y=l+Math.sqrt(p*p+q*q),r.cy=l,a.circle=r;for(var s=null,t=gi._;t;)if(r.y<t.y||r.y===t.y&&r.x<=t.x){if(!t.L){s=t.P;break}t=t.L}else{if(!t.R){s=t;break}t=t.R}gi.insert(s,r),s||(fi=r)}}}}function Wc(a){var b=a.circle;b&&(b.P||(fi=b.N),gi.remove(b),ii.push(b),dd(b),a.circle=null)}function Xc(a){for(var b,c=ci,d=Rb(a[0][0],a[0][1],a[1][0],a[1][1]),e=c.length;e--;)b=c[e],(!Yc(b,a)||!d(b)||sg(b.a.x-b.b.x)<Jg&&sg(b.a.y-b.b.y)<Jg)&&(b.a=b.b=null,c.splice(e,1))}function Yc(a,b){var c=a.b;if(c)return!0;var d,e,f=a.a,g=b[0][0],h=b[1][0],i=b[0][1],j=b[1][1],k=a.l,l=a.r,m=k.x,n=k.y,o=l.x,p=l.y,q=(m+o)/2,r=(n+p)/2;if(p===n){if(q<g||q>=h)return;if(m>o){if(f){if(f.y>=j)return}else f={x:q,y:i};c={x:q,y:j}}else{if(f){if(f.y<i)return}else f={x:q,y:j};c={x:q,y:i}}}else if(d=(m-o)/(p-n),e=r-d*q,d<-1||d>1)if(m>o){if(f){if(f.y>=j)return}else f={x:(i-e)/d,y:i};c={x:(j-e)/d,y:j}}else{if(f){if(f.y<i)return}else f={x:(j-e)/d,y:j};c={x:(i-e)/d,y:i}}else if(n<p){if(f){if(f.x>=h)return}else f={x:g,y:d*g+e};c={x:h,y:d*h+e}}else{if(f){if(f.x<g)return}else f={x:h,y:d*h+e};c={x:g,y:d*g+e}}return a.a=f,a.b=c,!0}function Zc(a,b){this.l=a,this.r=b,this.a=this.b=null}function $c(a,b,c,d){var e=new Zc(a,b);return ci.push(e),c&&ad(e,a,b,c),d&&ad(e,b,a,d),di[a.i].edges.push(new bd(e,a,b)),di[b.i].edges.push(new bd(e,b,a)),e}function _c(a,b,c){var d=new Zc(a,null);return d.a=b,d.b=c,ci.push(d),d}function ad(a,b,c,d){a.a||a.b?a.l===c?a.b=d:a.a=d:(a.a=d,a.l=b,a.r=c)}function bd(a,b,c){var d=a.a,e=a.b;this.edge=a,this.site=b,this.angle=c?Math.atan2(c.y-b.y,c.x-b.x):a.l===b?Math.atan2(e.x-d.x,d.y-e.y):Math.atan2(d.x-e.x,e.y-d.y)}function cd(){this._=null}function dd(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function ed(a,b){var c=b,d=b.R,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.R=d.L,c.R&&(c.R.U=c),d.L=c}function fd(a,b){var c=b,d=b.L,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.L=d.R,c.L&&(c.L.U=c),d.R=c}function gd(a){for(;a.L;)a=a.L;return a}function hd(a,b){var c,d,e,f=a.sort(id).pop();for(ci=[],di=new Array(a.length),ei=new cd,gi=new cd;;)if(e=fi,f&&(!e||f.y<e.y||f.y===e.y&&f.x<e.x))f.x===c&&f.y===d||(di[f.i]=new Rc(f),Oc(f),c=f.x,d=f.y),f=a.pop();else{if(!e)break;Nc(e.arc)}b&&(Xc(b),Sc(b));var g={cells:di,edges:ci};return ei=gi=ci=di=null,g}function id(a,b){return b.y-a.y||b.x-a.x}function jd(a,b,c){return(a.x-c.x)*(b.y-a.y)-(a.x-b.x)*(c.y-a.y)}function kd(a){return a.x}function ld(a){return a.y}function md(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function nd(a,b,c,d,e,f){if(!a(b,c,d,e,f)){var g=.5*(c+e),h=.5*(d+f),i=b.nodes;i[0]&&nd(a,i[0],c,d,g,h),i[1]&&nd(a,i[1],g,d,e,h),i[2]&&nd(a,i[2],c,h,g,f),i[3]&&nd(a,i[3],g,h,e,f)}}function od(a,b,c,d,e,f,g){var h,i=1/0;return function a(j,k,l,m,n){if(!(k>f||l>g||m<d||n<e)){if(o=j.point){var o,p=b-j.x,q=c-j.y,r=p*p+q*q;if(r<i){var s=Math.sqrt(i=r);d=b-s,e=c-s,f=b+s,g=c+s,h=o}}for(var t=j.nodes,u=.5*(k+m),v=.5*(l+n),w=b>=u,x=c>=v,y=x<<1|w,z=y+4;y<z;++y)if(j=t[3&y])switch(3&y){case 0:a(j,k,l,u,v);break;case 1:a(j,u,l,m,v);break;case 2:a(j,k,v,u,n);break;case 3:a(j,u,v,m,n)}}}(a,d,e,f,g),h}function pd(a,b){a=ig.rgb(a),b=ig.rgb(b);var c=a.r,d=a.g,e=a.b,f=b.r-c,g=b.g-d,h=b.b-e;return function(a){return"#"+va(Math.round(c+f*a))+va(Math.round(d+g*a))+va(Math.round(e+h*a))}}function qd(a,b){var c,d={},e={};for(c in a)c in b?d[c]=td(a[c],b[c]):e[c]=a[c];for(c in b)c in a||(e[c]=b[c]);return function(a){for(c in d)e[c]=d[c](a);return e}}function rd(a,b){return a=+a,b=+b,function(c){return a*(1-c)+b*c}}function sd(a,b){var c,d,e,f=ki.lastIndex=li.lastIndex=0,g=-1,h=[],i=[];for(a+="",b+="";(c=ki.exec(a))&&(d=li.exec(b));)(e=d.index)>f&&(e=b.slice(f,e),h[g]?h[g]+=e:h[++g]=e),(c=c[0])===(d=d[0])?h[g]?h[g]+=d:h[++g]=d:(h[++g]=null,i.push({i:g,x:rd(c,d)})),f=li.lastIndex;return f<b.length&&(e=b.slice(f),h[g]?h[g]+=e:h[++g]=e),h.length<2?i[0]?(b=i[0].x,function(a){return b(a)+""}):function(){return b}:(b=i.length,function(a){for(var c,d=0;d<b;++d)h[(c=i[d]).i]=c.x(a);return h.join("")})}function td(a,b){for(var c,d=ig.interpolators.length;--d>=0&&!(c=ig.interpolators[d](a,b)););return c}function ud(a,b){var c,d=[],e=[],f=a.length,g=b.length,h=Math.min(a.length,b.length);for(c=0;c<h;++c)d.push(td(a[c],b[c]));for(;c<f;++c)e[c]=a[c];for(;c<g;++c)e[c]=b[c];return function(a){for(c=0;c<h;++c)e[c]=d[c](a);return e}}function vd(a){return function(b){return b<=0?0:b>=1?1:a(b)}}function wd(a){return function(b){return 1-a(1-b)}}function xd(a){return function(b){return.5*(b<.5?a(2*b):2-a(2-2*b))}}function yd(a){return a*a}function zd(a){return a*a*a}function Ad(a){if(a<=0)return 0;if(a>=1)return 1;var b=a*a,c=b*a;return 4*(a<.5?c:3*(a-b)+c-.75)}function Bd(a){return function(b){return Math.pow(b,a)}}function Cd(a){return 1-Math.cos(a*Og)}function Dd(a){return Math.pow(2,10*(a-1))}function Ed(a){return 1-Math.sqrt(1-a*a)}function Fd(a,b){var c;return arguments.length<2&&(b=.45),arguments.length?c=b/Mg*Math.asin(1/a):(a=1,c=b/4),function(d){return 1+a*Math.pow(2,-10*d)*Math.sin((d-c)*Mg/b)}}function Gd(a){return a||(a=1.70158),function(b){return b*b*((a+1)*b-a)}}function Hd(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function Id(a,b){a=ig.hcl(a),b=ig.hcl(b);var c=a.h,d=a.c,e=a.l,f=b.h-c,g=b.c-d,h=b.l-e;return isNaN(g)&&(g=0,d=isNaN(d)?b.c:d),isNaN(f)?(f=0,c=isNaN(c)?b.h:c):f>180?f-=360:f<-180&&(f+=360),function(a){return la(c+f*a,d+g*a,e+h*a)+""}}function Jd(a,b){a=ig.hsl(a),b=ig.hsl(b);var c=a.h,d=a.s,e=a.l,f=b.h-c,g=b.s-d,h=b.l-e;return isNaN(g)&&(g=0,d=isNaN(d)?b.s:d),isNaN(f)?(f=0,c=isNaN(c)?b.h:c):f>180?f-=360:f<-180&&(f+=360),function(a){return ja(c+f*a,d+g*a,e+h*a)+""}}function Kd(a,b){a=ig.lab(a),b=ig.lab(b);var c=a.l,d=a.a,e=a.b,f=b.l-c,g=b.a-d,h=b.b-e;return function(a){return na(c+f*a,d+g*a,e+h*a)+""}}function Ld(a,b){return b-=a,function(c){return Math.round(a+b*c)}}function Md(a){var b=[a.a,a.b],c=[a.c,a.d],d=Od(b),e=Nd(b,c),f=Od(Pd(c,b,-e))||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1),this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*Qg,this.translate=[a.e,a.f],this.scale=[d,f],this.skew=f?Math.atan2(e,f)*Qg:0}function Nd(a,b){return a[0]*b[0]+a[1]*b[1]}function Od(a){var b=Math.sqrt(Nd(a,a));return b&&(a[0]/=b,a[1]/=b),b}function Pd(a,b,c){return a[0]+=c*b[0],a[1]+=c*b[1],a}function Qd(a){return a.length?a.pop()+",":""}function Rd(a,b,c,d){if(a[0]!==b[0]||a[1]!==b[1]){var e=c.push("translate(",null,",",null,")");d.push({i:e-4,x:rd(a[0],b[0])},{i:e-2,x:rd(a[1],b[1])})}else(b[0]||b[1])&&c.push("translate("+b+")")}function Sd(a,b,c,d){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),d.push({i:c.push(Qd(c)+"rotate(",null,")")-2,x:rd(a,b)})):b&&c.push(Qd(c)+"rotate("+b+")")}function Td(a,b,c,d){a!==b?d.push({i:c.push(Qd(c)+"skewX(",null,")")-2,x:rd(a,b)}):b&&c.push(Qd(c)+"skewX("+b+")")}function Ud(a,b,c,d){if(a[0]!==b[0]||a[1]!==b[1]){var e=c.push(Qd(c)+"scale(",null,",",null,")");d.push({i:e-4,x:rd(a[0],b[0])},{i:e-2,x:rd(a[1],b[1])})}else 1===b[0]&&1===b[1]||c.push(Qd(c)+"scale("+b+")")}function Vd(a,b){var c=[],d=[];return a=ig.transform(a),b=ig.transform(b),Rd(a.translate,b.translate,c,d),Sd(a.rotate,b.rotate,c,d),Td(a.skew,b.skew,c,d),Ud(a.scale,b.scale,c,d),a=b=null,function(a){for(var b,e=-1,f=d.length;++e<f;)c[(b=d[e]).i]=b.x(a);return c.join("")}}function Wd(a,b){return b=(b-=a=+a)||1/b,function(c){return(c-a)/b}}function Xd(a,b){return b=(b-=a=+a)||1/b,function(c){return Math.max(0,Math.min(1,(c-a)/b))}}function Yd(a){for(var b=a.source,c=a.target,d=$d(b,c),e=[b];b!==d;)b=b.parent,e.push(b);for(var f=e.length;c!==d;)e.splice(f,0,c),c=c.parent;return e}function Zd(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;return b.push(a),b}function $d(a,b){if(a===b)return a;for(var c=Zd(a),d=Zd(b),e=c.pop(),f=d.pop(),g=null;e===f;)g=e,e=c.pop(),f=d.pop();return g}function _d(a){a.fixed|=2}function ae(a){a.fixed&=-7}function be(a){a.fixed|=4,a.px=a.x,a.py=a.y}function ce(a){a.fixed&=-5}function de(a,b,c){var d=0,e=0;if(a.charge=0,!a.leaf)for(var f,g=a.nodes,h=g.length,i=-1;++i<h;)f=g[i],null!=f&&(de(f,b,c),a.charge+=f.charge,d+=f.charge*f.cx,e+=f.charge*f.cy);if(a.point){a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5);var j=b*c[a.point.index];a.charge+=a.pointCharge=j,d+=j*a.point.x,e+=j*a.point.y}a.cx=d/a.charge,a.cy=e/a.charge}function ee(a,b){return ig.rebind(a,b,"sort","children","value"),a.nodes=a,a.links=ke,a}function fe(a,b){for(var c=[a];null!=(a=c.pop());)if(b(a),(e=a.children)&&(d=e.length))for(var d,e;--d>=0;)c.push(e[d])}function ge(a,b){for(var c=[a],d=[];null!=(a=c.pop());)if(d.push(a),(f=a.children)&&(e=f.length))for(var e,f,g=-1;++g<e;)c.push(f[g]);for(;null!=(a=d.pop());)b(a)}function he(a){return a.children}function ie(a){return a.value}function je(a,b){return b.value-a.value}function ke(a){return ig.merge(a.map(function(a){return(a.children||[]).map(function(b){return{source:a,target:b}})}))}function le(a){return a.x}function me(a){return a.y}function ne(a,b,c){a.y0=b,a.y=c}function oe(a){return ig.range(a.length)}function pe(a){for(var b=-1,c=a[0].length,d=[];++b<c;)d[b]=0;return d}function qe(a){for(var b,c=1,d=0,e=a[0][1],f=a.length;c<f;++c)(b=a[c][1])>e&&(d=c,e=b);return d}function re(a){return a.reduce(se,0)}function se(a,b){return a+b[1]}function te(a,b){return ue(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function ue(a,b){for(var c=-1,d=+a[0],e=(a[1]-d)/b,f=[];++c<=b;)f[c]=e*c+d;return f}function ve(a){return[ig.min(a),ig.max(a)]}function we(a,b){return a.value-b.value}function xe(a,b){var c=a._pack_next;a._pack_next=b,b._pack_prev=a,b._pack_next=c,c._pack_prev=b}function ye(a,b){a._pack_next=b,b._pack_prev=a}function ze(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return.999*e*e>c*c+d*d}function Ae(a){function b(a){k=Math.min(a.x-a.r,k),l=Math.max(a.x+a.r,l),m=Math.min(a.y-a.r,m),n=Math.max(a.y+a.r,n)}if((c=a.children)&&(j=c.length)){var c,d,e,f,g,h,i,j,k=1/0,l=-(1/0),m=1/0,n=-(1/0);if(c.forEach(Be),d=c[0],d.x=-d.r,d.y=0,b(d),j>1&&(e=c[1],e.x=e.r,e.y=0,b(e),j>2))for(f=c[2],Ee(d,e,f),b(f),xe(d,f),d._pack_prev=f,xe(f,e),e=d._pack_next,g=3;g<j;g++){Ee(d,e,f=c[g]);var o=0,p=1,q=1;for(h=e._pack_next;h!==e;h=h._pack_next,p++)if(ze(h,f)){o=1;break}if(1==o)for(i=d._pack_prev;i!==h._pack_prev&&!ze(i,f);i=i._pack_prev,q++);o?(p<q||p==q&&e.r<d.r?ye(d,e=h):ye(d=i,e),g--):(xe(d,f),e=f,b(f))}var r=(k+l)/2,s=(m+n)/2,t=0;for(g=0;g<j;g++)f=c[g],f.x-=r,f.y-=s,t=Math.max(t,f.r+Math.sqrt(f.x*f.x+f.y*f.y));a.r=t,c.forEach(Ce)}}function Be(a){a._pack_next=a._pack_prev=a}function Ce(a){delete a._pack_next,delete a._pack_prev}function De(a,b,c,d){var e=a.children;if(a.x=b+=d*a.x,a.y=c+=d*a.y,a.r*=d,e)for(var f=-1,g=e.length;++f<g;)De(e[f],b,c,d)}function Ee(a,b,c){var d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;if(d&&(e||f)){var g=b.r+c.r,h=e*e+f*f;g*=g,d*=d;var i=.5+(d-g)/(2*h),j=Math.sqrt(Math.max(0,2*g*(d+h)-(d-=h)*d-g*g))/(2*h);c.x=a.x+i*e+j*f,c.y=a.y+i*f-j*e}else c.x=a.x+d,c.y=a.y}function Fe(a,b){return a.parent==b.parent?1:2}function Ge(a){var b=a.children;return b.length?b[0]:a.t}function He(a){var b,c=a.children;return(b=c.length)?c[b-1]:a.t}function Ie(a,b,c){var d=c/(b.i-a.i);b.c-=d,b.s+=c,a.c+=d,b.z+=c,b.m+=c}function Je(a){for(var b,c=0,d=0,e=a.children,f=e.length;--f>=0;)b=e[f],b.z+=c,b.m+=c,c+=b.s+(d+=b.c)}function Ke(a,b,c){return a.a.parent===b.parent?a.a:c}function Le(a){return 1+ig.max(a,function(a){return a.y})}function Me(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function Ne(a){var b=a.children;return b&&b.length?Ne(b[0]):a}function Oe(a){var b,c=a.children;return c&&(b=c.length)?Oe(c[b-1]):a}function Pe(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function Qe(a,b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];return e<0&&(c+=e/2,e=0),f<0&&(d+=f/2,f=0),{x:c,y:d,dx:e,dy:f}}function Re(a){var b=a[0],c=a[a.length-1];return b<c?[b,c]:[c,b]}function Se(a){return a.rangeExtent?a.rangeExtent():Re(a.range())}function Te(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}function Ue(a,b){var c,d=0,e=a.length-1,f=a[d],g=a[e];return g<f&&(c=d,d=e,e=c,c=f,f=g,g=c),a[d]=b.floor(f),a[e]=b.ceil(g),a}function Ve(a){return a?{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:wi}function We(a,b,c,d){var e=[],f=[],g=0,h=Math.min(a.length,b.length)-1;for(a[h]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());++g<=h;)e.push(c(a[g-1],a[g])),f.push(d(b[g-1],b[g]));return function(b){var c=ig.bisect(a,b,1,h)-1;return f[c](e[c](b))}}function Xe(a,b,c,d){function e(){var e=Math.min(a.length,b.length)>2?We:Te,i=d?Xd:Wd;return g=e(a,b,i,c),h=e(b,a,i,td),f}function f(a){return g(a)}var g,h;return f.invert=function(a){return h(a)},f.domain=function(b){return arguments.length?(a=b.map(Number),e()):a},f.range=function(a){return arguments.length?(b=a,e()):b},f.rangeRound=function(a){return f.range(a).interpolate(Ld)},f.clamp=function(a){return arguments.length?(d=a,e()):d},f.interpolate=function(a){return arguments.length?(c=a,e()):c},f.ticks=function(b){return _e(a,b)},f.tickFormat=function(b,c){return af(a,b,c)},f.nice=function(b){return Ze(a,b),e()},f.copy=function(){return Xe(a,b,c,d)},e()}function Ye(a,b){return ig.rebind(a,b,"range","rangeRound","interpolate","clamp")}function Ze(a,b){return Ue(a,Ve($e(a,b)[2])),Ue(a,Ve($e(a,b)[2])),a}function $e(a,b){null==b&&(b=10);var c=Re(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),f=b/d*e;return f<=.15?e*=10:f<=.35?e*=5:f<=.75&&(e*=2),c[0]=Math.ceil(c[0]/e)*e,c[1]=Math.floor(c[1]/e)*e+.5*e,c[2]=e,c}function _e(a,b){return ig.range.apply(ig,$e(a,b))}function af(a,b,c){var d=$e(a,b);if(c){var e=kh.exec(c);if(e.shift(),"s"===e[8]){var f=ig.formatPrefix(Math.max(sg(d[0]),sg(d[1])));return e[7]||(e[7]="."+bf(f.scale(d[2]))),e[8]="f",c=ig.format(e.join("")),function(a){return c(f.scale(a))+f.symbol}}e[7]||(e[7]="."+cf(e[8],d)),c=e.join("")}else c=",."+bf(d[2])+"f";return ig.format(c)}function bf(a){return-Math.floor(Math.log(a)/Math.LN10+.01)}function cf(a,b){var c=bf(b[2]);return a in xi?Math.abs(c-bf(Math.max(sg(b[0]),sg(b[1]))))+ +("e"!==a):c-2*("%"===a);
}function df(a,b,c,d){function e(a){return(c?Math.log(a<0?0:a):-Math.log(a>0?0:-a))/Math.log(b)}function f(a){return c?Math.pow(b,a):-Math.pow(b,-a)}function g(b){return a(e(b))}return g.invert=function(b){return f(a.invert(b))},g.domain=function(b){return arguments.length?(c=b[0]>=0,a.domain((d=b.map(Number)).map(e)),g):d},g.base=function(c){return arguments.length?(b=+c,a.domain(d.map(e)),g):b},g.nice=function(){var b=Ue(d.map(e),c?Math:zi);return a.domain(b),d=b.map(f),g},g.ticks=function(){var a=Re(d),g=[],h=a[0],i=a[1],j=Math.floor(e(h)),k=Math.ceil(e(i)),l=b%1?2:b;if(isFinite(k-j)){if(c){for(;j<k;j++)for(var m=1;m<l;m++)g.push(f(j)*m);g.push(f(j))}else for(g.push(f(j));j++<k;)for(var m=l-1;m>0;m--)g.push(f(j)*m);for(j=0;g[j]<h;j++);for(k=g.length;g[k-1]>i;k--);g=g.slice(j,k)}return g},g.tickFormat=function(a,c){if(!arguments.length)return yi;arguments.length<2?c=yi:"function"!=typeof c&&(c=ig.format(c));var d=Math.max(1,b*a/g.ticks().length);return function(a){var g=a/f(Math.round(e(a)));return g*b<b-.5&&(g*=b),g<=d?c(a):""}},g.copy=function(){return df(a.copy(),b,c,d)},Ye(g,a)}function ef(a,b,c){function d(b){return a(e(b))}var e=ff(b),f=ff(1/b);return d.invert=function(b){return f(a.invert(b))},d.domain=function(b){return arguments.length?(a.domain((c=b.map(Number)).map(e)),d):c},d.ticks=function(a){return _e(c,a)},d.tickFormat=function(a,b){return af(c,a,b)},d.nice=function(a){return d.domain(Ze(c,a))},d.exponent=function(g){return arguments.length?(e=ff(b=g),f=ff(1/b),a.domain(c.map(e)),d):b},d.copy=function(){return ef(a.copy(),b,c)},Ye(d,a)}function ff(a){return function(b){return b<0?-Math.pow(-b,a):Math.pow(b,a)}}function gf(a,b){function c(c){return f[((e.get(c)||("range"===b.t?e.set(c,a.push(c)):NaN))-1)%f.length]}function d(b,c){return ig.range(a.length).map(function(a){return b+c*a})}var e,f,g;return c.domain=function(d){if(!arguments.length)return a;a=[],e=new k;for(var f,g=-1,h=d.length;++g<h;)e.has(f=d[g])||e.set(f,a.push(f));return c[b.t].apply(c,b.a)},c.range=function(a){return arguments.length?(f=a,g=0,b={t:"range",a:arguments},c):f},c.rangePoints=function(e,h){arguments.length<2&&(h=0);var i=e[0],j=e[1],k=a.length<2?(i=(i+j)/2,0):(j-i)/(a.length-1+h);return f=d(i+k*h/2,k),g=0,b={t:"rangePoints",a:arguments},c},c.rangeRoundPoints=function(e,h){arguments.length<2&&(h=0);var i=e[0],j=e[1],k=a.length<2?(i=j=Math.round((i+j)/2),0):(j-i)/(a.length-1+h)|0;return f=d(i+Math.round(k*h/2+(j-i-(a.length-1+h)*k)/2),k),g=0,b={t:"rangeRoundPoints",a:arguments},c},c.rangeBands=function(e,h,i){arguments.length<2&&(h=0),arguments.length<3&&(i=h);var j=e[1]<e[0],k=e[j-0],l=e[1-j],m=(l-k)/(a.length-h+2*i);return f=d(k+m*i,m),j&&f.reverse(),g=m*(1-h),b={t:"rangeBands",a:arguments},c},c.rangeRoundBands=function(e,h,i){arguments.length<2&&(h=0),arguments.length<3&&(i=h);var j=e[1]<e[0],k=e[j-0],l=e[1-j],m=Math.floor((l-k)/(a.length-h+2*i));return f=d(k+Math.round((l-k-(a.length-h)*m)/2),m),j&&f.reverse(),g=Math.round(m*(1-h)),b={t:"rangeRoundBands",a:arguments},c},c.rangeBand=function(){return g},c.rangeExtent=function(){return Re(b.a[0])},c.copy=function(){return gf(a,b)},c.domain(a)}function hf(a,b){function c(){var c=0,d=b.length;for(h=[];++c<d;)h[c-1]=ig.quantile(a,c/d);return g}function g(a){if(!isNaN(a=+a))return b[ig.bisect(h,a)]}var h;return g.domain=function(b){return arguments.length?(a=b.map(e).filter(f).sort(d),c()):a},g.range=function(a){return arguments.length?(b=a,c()):b},g.quantiles=function(){return h},g.invertExtent=function(c){return c=b.indexOf(c),c<0?[NaN,NaN]:[c>0?h[c-1]:a[0],c<h.length?h[c]:a[a.length-1]]},g.copy=function(){return hf(a,b)},c()}function jf(a,b,c){function d(b){return c[Math.max(0,Math.min(g,Math.floor(f*(b-a))))]}function e(){return f=c.length/(b-a),g=c.length-1,d}var f,g;return d.domain=function(c){return arguments.length?(a=+c[0],b=+c[c.length-1],e()):[a,b]},d.range=function(a){return arguments.length?(c=a,e()):c},d.invertExtent=function(b){return b=c.indexOf(b),b=b<0?NaN:b/f+a,[b,b+1/f]},d.copy=function(){return jf(a,b,c)},e()}function kf(a,b){function c(c){if(c<=c)return b[ig.bisect(a,c)]}return c.domain=function(b){return arguments.length?(a=b,c):a},c.range=function(a){return arguments.length?(b=a,c):b},c.invertExtent=function(c){return c=b.indexOf(c),[a[c-1],a[c]]},c.copy=function(){return kf(a,b)},c}function lf(a){function b(a){return+a}return b.invert=b,b.domain=b.range=function(c){return arguments.length?(a=c.map(b),b):a},b.ticks=function(b){return _e(a,b)},b.tickFormat=function(b,c){return af(a,b,c)},b.copy=function(){return lf(a)},b}function mf(){return 0}function nf(a){return a.innerRadius}function of(a){return a.outerRadius}function pf(a){return a.startAngle}function qf(a){return a.endAngle}function rf(a){return a&&a.padAngle}function sf(a,b,c,d){return(a-c)*b-(b-d)*a>0?0:1}function tf(a,b,c,d,e){var f=a[0]-b[0],g=a[1]-b[1],h=(e?d:-d)/Math.sqrt(f*f+g*g),i=h*g,j=-h*f,k=a[0]+i,l=a[1]+j,m=b[0]+i,n=b[1]+j,o=(k+m)/2,p=(l+n)/2,q=m-k,r=n-l,s=q*q+r*r,t=c-d,u=k*n-m*l,v=(r<0?-1:1)*Math.sqrt(Math.max(0,t*t*s-u*u)),w=(u*r-q*v)/s,x=(-u*q-r*v)/s,y=(u*r+q*v)/s,z=(-u*q+r*v)/s,A=w-o,B=x-p,C=y-o,D=z-p;return A*A+B*B>C*C+D*D&&(w=y,x=z),[[w-i,x-j],[w*c/t,x*c/t]]}function uf(a){function b(b){function g(){j.push("M",f(a(k),h))}for(var i,j=[],k=[],l=-1,m=b.length,n=Ba(c),o=Ba(d);++l<m;)e.call(this,i=b[l],l)?k.push([+n.call(this,i,l),+o.call(this,i,l)]):k.length&&(g(),k=[]);return k.length&&g(),j.length?j.join(""):null}var c=Dc,d=Ec,e=Eb,f=vf,g=f.key,h=.7;return b.x=function(a){return arguments.length?(c=a,b):c},b.y=function(a){return arguments.length?(d=a,b):d},b.defined=function(a){return arguments.length?(e=a,b):e},b.interpolate=function(a){return arguments.length?(g="function"==typeof a?f=a:(f=Fi.get(a)||vf).key,b):g},b.tension=function(a){return arguments.length?(h=a,b):h},b}function vf(a){return a.length>1?a.join("L"):a+"Z"}function wf(a){return a.join("L")+"Z"}function xf(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d[0]+(d=a[b])[0])/2,"V",d[1]);return c>1&&e.push("H",d[0]),e.join("")}function yf(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function zf(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function Af(a,b){return a.length<4?vf(a):a[1]+Df(a.slice(1,-1),Ef(a,b))}function Bf(a,b){return a.length<3?wf(a):a[0]+Df((a.push(a[0]),a),Ef([a[a.length-2]].concat(a,[a[1]]),b))}function Cf(a,b){return a.length<3?vf(a):a[0]+Df(a,Ef(a,b))}function Df(a,b){if(b.length<1||a.length!=b.length&&a.length!=b.length+2)return vf(a);var c=a.length!=b.length,d="",e=a[0],f=a[1],g=b[0],h=g,i=1;if(c&&(d+="Q"+(f[0]-2*g[0]/3)+","+(f[1]-2*g[1]/3)+","+f[0]+","+f[1],e=a[1],i=2),b.length>1){h=b[1],f=a[i],i++,d+="C"+(e[0]+g[0])+","+(e[1]+g[1])+","+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1];for(var j=2;j<b.length;j++,i++)f=a[i],h=b[j],d+="S"+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1]}if(c){var k=a[i];d+="Q"+(f[0]+2*h[0]/3)+","+(f[1]+2*h[1]/3)+","+k[0]+","+k[1]}return d}function Ef(a,b){for(var c,d=[],e=(1-b)/2,f=a[0],g=a[1],h=1,i=a.length;++h<i;)c=f,f=g,g=a[h],d.push([e*(g[0]-c[0]),e*(g[1]-c[1])]);return d}function Ff(a){if(a.length<3)return vf(a);var b=1,c=a.length,d=a[0],e=d[0],f=d[1],g=[e,e,e,(d=a[1])[0]],h=[f,f,f,d[1]],i=[e,",",f,"L",Jf(Ii,g),",",Jf(Ii,h)];for(a.push(a[c-1]);++b<=c;)d=a[b],g.shift(),g.push(d[0]),h.shift(),h.push(d[1]),Kf(i,g,h);return a.pop(),i.push("L",d),i.join("")}function Gf(a){if(a.length<4)return vf(a);for(var b,c=[],d=-1,e=a.length,f=[0],g=[0];++d<3;)b=a[d],f.push(b[0]),g.push(b[1]);for(c.push(Jf(Ii,f)+","+Jf(Ii,g)),--d;++d<e;)b=a[d],f.shift(),f.push(b[0]),g.shift(),g.push(b[1]),Kf(c,f,g);return c.join("")}function Hf(a){for(var b,c,d=-1,e=a.length,f=e+4,g=[],h=[];++d<4;)c=a[d%e],g.push(c[0]),h.push(c[1]);for(b=[Jf(Ii,g),",",Jf(Ii,h)],--d;++d<f;)c=a[d%e],g.shift(),g.push(c[0]),h.shift(),h.push(c[1]),Kf(b,g,h);return b.join("")}function If(a,b){var c=a.length-1;if(c)for(var d,e,f=a[0][0],g=a[0][1],h=a[c][0]-f,i=a[c][1]-g,j=-1;++j<=c;)d=a[j],e=j/c,d[0]=b*d[0]+(1-b)*(f+e*h),d[1]=b*d[1]+(1-b)*(g+e*i);return Ff(a)}function Jf(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function Kf(a,b,c){a.push("C",Jf(Gi,b),",",Jf(Gi,c),",",Jf(Hi,b),",",Jf(Hi,c),",",Jf(Ii,b),",",Jf(Ii,c))}function Lf(a,b){return(b[1]-a[1])/(b[0]-a[0])}function Mf(a){for(var b=0,c=a.length-1,d=[],e=a[0],f=a[1],g=d[0]=Lf(e,f);++b<c;)d[b]=(g+(g=Lf(e=f,f=a[b+1])))/2;return d[b]=g,d}function Nf(a){for(var b,c,d,e,f=[],g=Mf(a),h=-1,i=a.length-1;++h<i;)b=Lf(a[h],a[h+1]),sg(b)<Jg?g[h]=g[h+1]=0:(c=g[h]/b,d=g[h+1]/b,e=c*c+d*d,e>9&&(e=3*b/Math.sqrt(e),g[h]=e*c,g[h+1]=e*d));for(h=-1;++h<=i;)e=(a[Math.min(i,h+1)][0]-a[Math.max(0,h-1)][0])/(6*(1+g[h]*g[h])),f.push([e||0,g[h]*e||0]);return f}function Of(a){return a.length<3?vf(a):a[0]+Df(a,Nf(a))}function Pf(a){for(var b,c,d,e=-1,f=a.length;++e<f;)b=a[e],c=b[0],d=b[1]-Og,b[0]=c*Math.cos(d),b[1]=c*Math.sin(d);return a}function Qf(a){function b(b){function i(){p.push("M",h(a(r),l),k,j(a(q.reverse()),l),"Z")}for(var m,n,o,p=[],q=[],r=[],s=-1,t=b.length,u=Ba(c),v=Ba(e),w=c===d?function(){return n}:Ba(d),x=e===f?function(){return o}:Ba(f);++s<t;)g.call(this,m=b[s],s)?(q.push([n=+u.call(this,m,s),o=+v.call(this,m,s)]),r.push([+w.call(this,m,s),+x.call(this,m,s)])):q.length&&(i(),q=[],r=[]);return q.length&&i(),p.length?p.join(""):null}var c=Dc,d=Dc,e=0,f=Ec,g=Eb,h=vf,i=h.key,j=h,k="L",l=.7;return b.x=function(a){return arguments.length?(c=d=a,b):d},b.x0=function(a){return arguments.length?(c=a,b):c},b.x1=function(a){return arguments.length?(d=a,b):d},b.y=function(a){return arguments.length?(e=f=a,b):f},b.y0=function(a){return arguments.length?(e=a,b):e},b.y1=function(a){return arguments.length?(f=a,b):f},b.defined=function(a){return arguments.length?(g=a,b):g},b.interpolate=function(a){return arguments.length?(i="function"==typeof a?h=a:(h=Fi.get(a)||vf).key,j=h.reverse||h,k=h.closed?"M":"L",b):i},b.tension=function(a){return arguments.length?(l=a,b):l},b}function Rf(a){return a.radius}function Sf(a){return[a.x,a.y]}function Tf(a){return function(){var b=a.apply(this,arguments),c=b[0],d=b[1]-Og;return[c*Math.cos(d),c*Math.sin(d)]}}function Uf(){return 64}function Vf(){return"circle"}function Wf(a){var b=Math.sqrt(a/Lg);return"M0,"+b+"A"+b+","+b+" 0 1,1 0,"+-b+"A"+b+","+b+" 0 1,1 0,"+b+"Z"}function Xf(a){return function(){var b,c,d;(b=this[a])&&(d=b[c=b.active])&&(d.timer.c=null,d.timer.t=NaN,--b.count?delete b[c]:delete this[a],b.active+=.5,d.event&&d.event.interrupt.call(this,this.__data__,d.index))}}function Yf(a,b,c){return xg(a,Pi),a.namespace=b,a.id=c,a}function Zf(a,b,c,d){var e=a.id,f=a.namespace;return S(a,"function"==typeof c?function(a,g,h){a[f][e].tween.set(b,d(c.call(a,a.__data__,g,h)))}:(c=d(c),function(a){a[f][e].tween.set(b,c)}))}function $f(a){return null==a&&(a=""),function(){this.textContent=a}}function _f(a){return null==a?"__transition__":"__transition_"+a+"__"}function ag(a,b,c,d,e){function f(a){var b=p.delay;return j.t=b+i,b<=a?g(a-b):void(j.c=g)}function g(c){var e=o.active,f=o[e];f&&(f.timer.c=null,f.timer.t=NaN,--o.count,delete o[e],f.event&&f.event.interrupt.call(a,a.__data__,f.index));for(var g in o)if(+g<d){var k=o[g];k.timer.c=null,k.timer.t=NaN,--o.count,delete o[g]}j.c=h,Ga(function(){return j.c&&h(c||1)&&(j.c=null,j.t=NaN),1},0,i),o.active=d,p.event&&p.event.start.call(a,a.__data__,b),n=[],p.tween.forEach(function(c,d){(d=d.call(a,a.__data__,b))&&n.push(d)}),m=p.ease,l=p.duration}function h(e){for(var f=e/l,g=m(f),h=n.length;h>0;)n[--h].call(a,g);if(f>=1)return p.event&&p.event.end.call(a,a.__data__,b),--o.count?delete o[d]:delete a[c],1}var i,j,l,m,n,o=a[c]||(a[c]={active:0,count:0}),p=o[d];p||(i=e.time,j=Ga(f,0,i),p=o[d]={tween:new k,time:i,timer:j,delay:e.delay,duration:e.duration,ease:e.ease,index:b},e=null,++o.count)}function bg(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate("+(isFinite(d)?d:c(a))+",0)"})}function cg(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate(0,"+(isFinite(d)?d:c(a))+")"})}function dg(a){return a.toISOString()}function eg(a,b,c){function d(b){return a(b)}function e(a,c){var d=a[1]-a[0],e=d/c,f=ig.bisect(Yi,e);return f==Yi.length?[b.year,$e(a.map(function(a){return a/31536e6}),c)[2]]:f?b[e/Yi[f-1]<Yi[f]/e?f-1:f]:[_i,$e(a,c)[2]]}return d.invert=function(b){return fg(a.invert(b))},d.domain=function(b){return arguments.length?(a.domain(b),d):a.domain().map(fg)},d.nice=function(a,b){function c(c){return!isNaN(c)&&!a.range(c,fg(+c+1),b).length}var f=d.domain(),g=Re(f),h=null==a?e(g,10):"number"==typeof a&&e(g,a);return h&&(a=h[0],b=h[1]),d.domain(Ue(f,b>1?{floor:function(b){for(;c(b=a.floor(b));)b=fg(b-1);return b},ceil:function(b){for(;c(b=a.ceil(b));)b=fg(+b+1);return b}}:a))},d.ticks=function(a,b){var c=Re(d.domain()),f=null==a?e(c,10):"number"==typeof a?e(c,a):!a.range&&[{range:a},b];return f&&(a=f[0],b=f[1]),a.range(c[0],fg(+c[1]+1),b<1?1:b)},d.tickFormat=function(){return c},d.copy=function(){return eg(a.copy(),b,c)},Ye(d,a)}function fg(a){return new Date(a)}function gg(a){return JSON.parse(a.responseText)}function hg(a){var b=lg.createRange();return b.selectNode(lg.body),b.createContextualFragment(a.responseText)}var ig={version:"3.5.17"},jg=[].slice,kg=function(a){return jg.call(a)},lg=this.document;if(lg)try{kg(lg.documentElement.childNodes)[0].nodeType}catch(a){kg=function(a){for(var b=a.length,c=new Array(b);b--;)c[b]=a[b];return c}}if(Date.now||(Date.now=function(){return+new Date}),lg)try{lg.createElement("DIV").style.setProperty("opacity",0,"")}catch(a){var mg=this.Element.prototype,ng=mg.setAttribute,og=mg.setAttributeNS,pg=this.CSSStyleDeclaration.prototype,qg=pg.setProperty;mg.setAttribute=function(a,b){ng.call(this,a,b+"")},mg.setAttributeNS=function(a,b,c){og.call(this,a,b,c+"")},pg.setProperty=function(a,b,c){qg.call(this,a,b+"",c)}}ig.ascending=d,ig.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN},ig.min=function(a,b){var c,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<f;)if(null!=(d=a[e])&&d>=d){c=d;break}for(;++e<f;)null!=(d=a[e])&&c>d&&(c=d)}else{for(;++e<f;)if(null!=(d=b.call(a,a[e],e))&&d>=d){c=d;break}for(;++e<f;)null!=(d=b.call(a,a[e],e))&&c>d&&(c=d)}return c},ig.max=function(a,b){var c,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<f;)if(null!=(d=a[e])&&d>=d){c=d;break}for(;++e<f;)null!=(d=a[e])&&d>c&&(c=d)}else{for(;++e<f;)if(null!=(d=b.call(a,a[e],e))&&d>=d){c=d;break}for(;++e<f;)null!=(d=b.call(a,a[e],e))&&d>c&&(c=d)}return c},ig.extent=function(a,b){var c,d,e,f=-1,g=a.length;if(1===arguments.length){for(;++f<g;)if(null!=(d=a[f])&&d>=d){c=e=d;break}for(;++f<g;)null!=(d=a[f])&&(c>d&&(c=d),e<d&&(e=d))}else{for(;++f<g;)if(null!=(d=b.call(a,a[f],f))&&d>=d){c=e=d;break}for(;++f<g;)null!=(d=b.call(a,a[f],f))&&(c>d&&(c=d),e<d&&(e=d))}return[c,e]},ig.sum=function(a,b){var c,d=0,e=a.length,g=-1;if(1===arguments.length)for(;++g<e;)f(c=+a[g])&&(d+=c);else for(;++g<e;)f(c=+b.call(a,a[g],g))&&(d+=c);return d},ig.mean=function(a,b){var c,d=0,g=a.length,h=-1,i=g;if(1===arguments.length)for(;++h<g;)f(c=e(a[h]))?d+=c:--i;else for(;++h<g;)f(c=e(b.call(a,a[h],h)))?d+=c:--i;if(i)return d/i},ig.quantile=function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1],f=c-d;return f?e+f*(a[d]-e):e},ig.median=function(a,b){var c,g=[],h=a.length,i=-1;if(1===arguments.length)for(;++i<h;)f(c=e(a[i]))&&g.push(c);else for(;++i<h;)f(c=e(b.call(a,a[i],i)))&&g.push(c);if(g.length)return ig.quantile(g.sort(d),.5)},ig.variance=function(a,b){var c,d,g=a.length,h=0,i=0,j=-1,k=0;if(1===arguments.length)for(;++j<g;)f(c=e(a[j]))&&(d=c-h,h+=d/++k,i+=d*(c-h));else for(;++j<g;)f(c=e(b.call(a,a[j],j)))&&(d=c-h,h+=d/++k,i+=d*(c-h));if(k>1)return i/(k-1)},ig.deviation=function(){var a=ig.variance.apply(this,arguments);return a?Math.sqrt(a):a};var rg=g(d);ig.bisectLeft=rg.left,ig.bisect=ig.bisectRight=rg.right,ig.bisector=function(a){return g(1===a.length?function(b,c){return d(a(b),c)}:a)},ig.shuffle=function(a,b,c){(f=arguments.length)<3&&(c=a.length,f<2&&(b=0));for(var d,e,f=c-b;f;)e=Math.random()*f--|0,d=a[f+b],a[f+b]=a[e+b],a[e+b]=d;return a},ig.permute=function(a,b){for(var c=b.length,d=new Array(c);c--;)d[c]=a[b[c]];return d},ig.pairs=function(a){for(var b,c=0,d=a.length-1,e=a[0],f=new Array(d<0?0:d);c<d;)f[c]=[b=e,e=a[++c]];return f},ig.transpose=function(a){if(!(e=a.length))return[];for(var b=-1,c=ig.min(a,h),d=new Array(c);++b<c;)for(var e,f=-1,g=d[b]=new Array(e);++f<e;)g[f]=a[f][b];return d},ig.zip=function(){return ig.transpose(arguments)},ig.keys=function(a){var b=[];for(var c in a)b.push(c);return b},ig.values=function(a){var b=[];for(var c in a)b.push(a[c]);return b},ig.entries=function(a){var b=[];for(var c in a)b.push({key:c,value:a[c]});return b},ig.merge=function(a){for(var b,c,d,e=a.length,f=-1,g=0;++f<e;)g+=a[f].length;for(c=new Array(g);--e>=0;)for(d=a[e],b=d.length;--b>=0;)c[--g]=d[b];return c};var sg=Math.abs;ig.range=function(a,b,c){if(arguments.length<3&&(c=1,arguments.length<2&&(b=a,a=0)),(b-a)/c===1/0)throw new Error("infinite range");var d,e=[],f=i(sg(c)),g=-1;if(a*=f,b*=f,c*=f,c<0)for(;(d=a+c*++g)>b;)e.push(d/f);else for(;(d=a+c*++g)<b;)e.push(d/f);return e},ig.map=function(a,b){var c=new k;if(a instanceof k)a.forEach(function(a,b){c.set(a,b)});else if(Array.isArray(a)){var d,e=-1,f=a.length;if(1===arguments.length)for(;++e<f;)c.set(e,a[e]);else for(;++e<f;)c.set(b.call(a,d=a[e],e),d)}else for(var g in a)c.set(g,a[g]);return c};var tg="__proto__",ug="\0";j(k,{has:n,get:function(a){return this._[l(a)]},set:function(a,b){return this._[l(a)]=b},remove:o,keys:p,values:function(){var a=[];for(var b in this._)a.push(this._[b]);return a},entries:function(){var a=[];for(var b in this._)a.push({key:m(b),value:this._[b]});return a},size:q,empty:r,forEach:function(a){for(var b in this._)a.call(this,m(b),this._[b])}}),ig.nest=function(){function a(b,g,h){if(h>=f.length)return d?d.call(e,g):c?g.sort(c):g;for(var i,j,l,m,n=-1,o=g.length,p=f[h++],q=new k;++n<o;)(m=q.get(i=p(j=g[n])))?m.push(j):q.set(i,[j]);return b?(j=b(),l=function(c,d){j.set(c,a(b,d,h))}):(j={},l=function(c,d){j[c]=a(b,d,h)}),q.forEach(l),j}function b(a,c){if(c>=f.length)return a;var d=[],e=g[c++];return a.forEach(function(a,e){d.push({key:a,values:b(e,c)})}),e?d.sort(function(a,b){return e(a.key,b.key)}):d}var c,d,e={},f=[],g=[];return e.map=function(b,c){return a(c,b,0)},e.entries=function(c){return b(a(ig.map,c,0),0)},e.key=function(a){return f.push(a),e},e.sortKeys=function(a){return g[f.length-1]=a,e},e.sortValues=function(a){return c=a,e},e.rollup=function(a){return d=a,e},e},ig.set=function(a){var b=new s;if(a)for(var c=0,d=a.length;c<d;++c)b.add(a[c]);return b},j(s,{has:n,add:function(a){return this._[l(a+="")]=!0,a},remove:o,values:p,size:q,empty:r,forEach:function(a){for(var b in this._)a.call(this,m(b))}}),ig.behavior={},ig.rebind=function(a,b){for(var c,d=1,e=arguments.length;++d<e;)a[c=arguments[d]]=u(a,b,b[c]);return a};var vg=["webkit","ms","moz","Moz","o","O"];ig.dispatch=function(){for(var a=new x,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=y(a);return a},x.prototype.on=function(a,b){var c=a.indexOf("."),d="";if(c>=0&&(d=a.slice(c+1),a=a.slice(0,c)),a)return arguments.length<2?this[a].on(d):this[a].on(d,b);if(2===arguments.length){if(null==b)for(a in this)this.hasOwnProperty(a)&&this[a].on(d,null);return this}},ig.event=null,ig.requote=function(a){return a.replace(wg,"\\$&")};var wg=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,xg={}.__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]},yg=function(a,b){return b.querySelector(a)},zg=function(a,b){return b.querySelectorAll(a)},Ag=function(a,b){var c=a.matches||a[v(a,"matchesSelector")];return(Ag=function(a,b){return c.call(a,b)})(a,b)};"function"==typeof Sizzle&&(yg=function(a,b){return Sizzle(a,b)[0]||null},zg=Sizzle,Ag=Sizzle.matchesSelector),ig.selection=function(){return ig.select(lg.documentElement)};var Bg=ig.selection.prototype=[];Bg.select=function(a){var b,c,d,e,f=[];a=D(a);for(var g=-1,h=this.length;++g<h;){f.push(b=[]),b.parentNode=(d=this[g]).parentNode;for(var i=-1,j=d.length;++i<j;)(e=d[i])?(b.push(c=a.call(e,e.__data__,i,g)),c&&"__data__"in e&&(c.__data__=e.__data__)):b.push(null)}return C(f)},Bg.selectAll=function(a){var b,c,d=[];a=E(a);for(var e=-1,f=this.length;++e<f;)for(var g=this[e],h=-1,i=g.length;++h<i;)(c=g[h])&&(d.push(b=kg(a.call(c,c.__data__,h,e))),b.parentNode=c);return C(d)};var Cg="http://www.w3.org/1999/xhtml",Dg={svg:"http://www.w3.org/2000/svg",xhtml:Cg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ig.ns={prefix:Dg,qualify:function(a){var b=a.indexOf(":"),c=a;return b>=0&&"xmlns"!==(c=a.slice(0,b))&&(a=a.slice(b+1)),Dg.hasOwnProperty(c)?{space:Dg[c],local:a}:a}},Bg.attr=function(a,b){if(arguments.length<2){if("string"==typeof a){var c=this.node();return a=ig.ns.qualify(a),a.local?c.getAttributeNS(a.space,a.local):c.getAttribute(a)}for(b in a)this.each(F(b,a[b]));return this}return this.each(F(a,b))},Bg.classed=function(a,b){if(arguments.length<2){if("string"==typeof a){var c=this.node(),d=(a=I(a)).length,e=-1;if(b=c.classList){for(;++e<d;)if(!b.contains(a[e]))return!1}else for(b=c.getAttribute("class");++e<d;)if(!H(a[e]).test(b))return!1;return!0}for(b in a)this.each(J(b,a[b]));return this}return this.each(J(a,b))},Bg.style=function(a,b,d){var e=arguments.length;if(e<3){if("string"!=typeof a){e<2&&(b="");for(d in a)this.each(L(d,a[d],b));return this}if(e<2){var f=this.node();return c(f).getComputedStyle(f,null).getPropertyValue(a)}d=""}return this.each(L(a,b,d))},Bg.property=function(a,b){if(arguments.length<2){if("string"==typeof a)return this.node()[a];for(b in a)this.each(M(b,a[b]));return this}return this.each(M(a,b))},Bg.text=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent},Bg.html=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML},Bg.append=function(a){return a=N(a),this.select(function(){return this.appendChild(a.apply(this,arguments))})},Bg.insert=function(a,b){return a=N(a),b=D(b),this.select(function(){return this.insertBefore(a.apply(this,arguments),b.apply(this,arguments)||null)})},Bg.remove=function(){return this.each(O)},Bg.data=function(a,b){function c(a,c){var d,e,f,g=a.length,l=c.length,m=Math.min(g,l),n=new Array(l),o=new Array(l),p=new Array(g);if(b){var q,r=new k,s=new Array(g);for(d=-1;++d<g;)(e=a[d])&&(r.has(q=b.call(e,e.__data__,d))?p[d]=e:r.set(q,e),s[d]=q);for(d=-1;++d<l;)(e=r.get(q=b.call(c,f=c[d],d)))?e!==!0&&(n[d]=e,e.__data__=f):o[d]=P(f),r.set(q,!0);for(d=-1;++d<g;)d in s&&r.get(s[d])!==!0&&(p[d]=a[d])}else{for(d=-1;++d<m;)e=a[d],f=c[d],e?(e.__data__=f,n[d]=e):o[d]=P(f);for(;d<l;++d)o[d]=P(c[d]);for(;d<g;++d)p[d]=a[d]}o.update=n,o.parentNode=n.parentNode=p.parentNode=a.parentNode,h.push(o),i.push(n),j.push(p)}var d,e,f=-1,g=this.length;if(!arguments.length){for(a=new Array(g=(d=this[0]).length);++f<g;)(e=d[f])&&(a[f]=e.__data__);return a}var h=T([]),i=C([]),j=C([]);if("function"==typeof a)for(;++f<g;)c(d=this[f],a.call(d,d.parentNode.__data__,f));else for(;++f<g;)c(d=this[f],a);return i.enter=function(){return h},i.exit=function(){return j},i},Bg.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")},Bg.filter=function(a){var b,c,d,e=[];"function"!=typeof a&&(a=Q(a));for(var f=0,g=this.length;f<g;f++){e.push(b=[]),b.parentNode=(c=this[f]).parentNode;for(var h=0,i=c.length;h<i;h++)(d=c[h])&&a.call(d,d.__data__,h,f)&&b.push(d)}return C(e)},Bg.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c,d=this[a],e=d.length-1,f=d[e];--e>=0;)(c=d[e])&&(f&&f!==c.nextSibling&&f.parentNode.insertBefore(c,f),f=c);return this},Bg.sort=function(a){a=R.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()},Bg.each=function(a){return S(this,function(b,c,d){a.call(b,b.__data__,c,d)})},Bg.call=function(a){var b=kg(arguments);return a.apply(b[0]=this,b),this},Bg.empty=function(){return!this.node()},Bg.node=function(){for(var a=0,b=this.length;a<b;a++)for(var c=this[a],d=0,e=c.length;d<e;d++){var f=c[d];if(f)return f}return null},Bg.size=function(){var a=0;return S(this,function(){++a}),a};var Eg=[];ig.selection.enter=T,ig.selection.enter.prototype=Eg,Eg.append=Bg.append,Eg.empty=Bg.empty,Eg.node=Bg.node,Eg.call=Bg.call,Eg.size=Bg.size,Eg.select=function(a){for(var b,c,d,e,f,g=[],h=-1,i=this.length;++h<i;){d=(e=this[h]).update,g.push(b=[]),b.parentNode=e.parentNode;for(var j=-1,k=e.length;++j<k;)(f=e[j])?(b.push(d[j]=c=a.call(e.parentNode,f.__data__,j,h)),c.__data__=f.__data__):b.push(null)}return C(g)},Eg.insert=function(a,b){return arguments.length<2&&(b=U(this)),Bg.insert.call(this,a,b)},ig.select=function(b){var c;return"string"==typeof b?(c=[yg(b,lg)],c.parentNode=lg.documentElement):(c=[b],c.parentNode=a(b)),C([c])},ig.selectAll=function(a){var b;return"string"==typeof a?(b=kg(zg(a,lg)),b.parentNode=lg.documentElement):(b=kg(a),b.parentNode=null),C([b])},Bg.on=function(a,b,c){var d=arguments.length;if(d<3){if("string"!=typeof a){d<2&&(b=!1);for(c in a)this.each(V(c,a[c],b));return this}if(d<2)return(d=this.node()["__on"+a])&&d._;c=!1}return this.each(V(a,b,c))};var Fg=ig.map({mouseenter:"mouseover",mouseleave:"mouseout"});lg&&Fg.forEach(function(a){"on"+a in lg&&Fg.remove(a)});var Gg,Hg=0;ig.mouse=function(a){return Z(a,A())};var Ig=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ig.touch=function(a,b,c){if(arguments.length<3&&(c=b,b=A().changedTouches),b)for(var d,e=0,f=b.length;e<f;++e)if((d=b[e]).identifier===c)return Z(a,d)},ig.behavior.drag=function(){function a(){this.on("mousedown.drag",f).on("touchstart.drag",g)}function b(a,b,c,f,g){return function(){function h(){var a,c,d=b(m,p);d&&(a=d[0]-t[0],c=d[1]-t[1],o|=a|c,t=d,n({type:"drag",x:d[0]+j[0],y:d[1]+j[1],dx:a,dy:c}))}function i(){b(m,p)&&(r.on(f+q,null).on(g+q,null),s(o),n({type:"dragend"}))}var j,k=this,l=ig.event.target.correspondingElement||ig.event.target,m=k.parentNode,n=d.of(k,arguments),o=0,p=a(),q=".drag"+(null==p?"":"-"+p),r=ig.select(c(l)).on(f+q,h).on(g+q,i),s=Y(l),t=b(m,p);e?(j=e.apply(k,arguments),j=[j.x-t[0],j.y-t[1]]):j=[0,0],n({type:"dragstart"})}}var d=B(a,"drag","dragstart","dragend"),e=null,f=b(w,ig.mouse,c,"mousemove","mouseup"),g=b($,ig.touch,t,"touchmove","touchend");return a.origin=function(b){return arguments.length?(e=b,a):e},ig.rebind(a,d,"on")},ig.touches=function(a,b){return arguments.length<2&&(b=A().touches),b?kg(b).map(function(b){var c=Z(a,b);return c.identifier=b.identifier,c}):[]};var Jg=1e-6,Kg=Jg*Jg,Lg=Math.PI,Mg=2*Lg,Ng=Mg-Jg,Og=Lg/2,Pg=Lg/180,Qg=180/Lg,Rg=Math.SQRT2,Sg=2,Tg=4;ig.interpolateZoom=function(a,b){var c,d,e=a[0],f=a[1],g=a[2],h=b[0],i=b[1],j=b[2],k=h-e,l=i-f,m=k*k+l*l;if(m<Kg)d=Math.log(j/g)/Rg,c=function(a){return[e+a*k,f+a*l,g*Math.exp(Rg*a*d)]};else{var n=Math.sqrt(m),o=(j*j-g*g+Tg*m)/(2*g*Sg*n),p=(j*j-g*g-Tg*m)/(2*j*Sg*n),q=Math.log(Math.sqrt(o*o+1)-o),r=Math.log(Math.sqrt(p*p+1)-p);d=(r-q)/Rg,c=function(a){var b=a*d,c=ea(q),h=g/(Sg*n)*(c*fa(Rg*b+q)-da(q));return[e+h*k,f+h*l,g*c/ea(Rg*b+q)]}}return c.duration=1e3*d,c},ig.behavior.zoom=function(){function a(a){a.on(F,l).on(Vg+".zoom",n).on("dblclick.zoom",o).on(I,m)}function b(a){return[(a[0]-y.x)/y.k,(a[1]-y.y)/y.k]}function d(a){return[a[0]*y.k+y.x,a[1]*y.k+y.y]}function e(a){y.k=Math.max(C[0],Math.min(C[1],a))}function f(a,b){b=d(b),y.x+=a[0]-b[0],y.y+=a[1]-b[1]}function g(b,c,d,g){b.__chart__={x:y.x,y:y.y,k:y.k},e(Math.pow(2,g)),f(q=c,d),b=ig.select(b),D>0&&(b=b.transition().duration(D)),b.call(a.event)}function h(){v&&v.domain(u.range().map(function(a){return(a-y.x)/y.k}).map(u.invert)),x&&x.domain(w.range().map(function(a){return(a-y.y)/y.k}).map(w.invert))}function i(a){E++||a({type:"zoomstart"})}function j(a){h(),a({type:"zoom",scale:y.k,translate:[y.x,y.y]})}function k(a){--E||(a({type:"zoomend"}),q=null)}function l(){function a(){h=1,f(ig.mouse(e),m),j(g)}function d(){l.on(G,null).on(H,null),n(h),k(g)}var e=this,g=J.of(e,arguments),h=0,l=ig.select(c(e)).on(G,a).on(H,d),m=b(ig.mouse(e)),n=Y(e);Oi.call(e),i(g)}function m(){function a(){var a=ig.touches(o);return n=y.k,a.forEach(function(a){a.identifier in q&&(q[a.identifier]=b(a))}),a}function c(){var b=ig.event.target;ig.select(b).on(u,d).on(v,h),w.push(b);for(var c=ig.event.changedTouches,e=0,f=c.length;e<f;++e)q[c[e].identifier]=null;var i=a(),j=Date.now();if(1===i.length){if(j-t<500){var k=i[0];g(o,k,q[k.identifier],Math.floor(Math.log(y.k)/Math.LN2)+1),z()}t=j}else if(i.length>1){var k=i[0],l=i[1],m=k[0]-l[0],n=k[1]-l[1];r=m*m+n*n}}function d(){var a,b,c,d,g=ig.touches(o);Oi.call(o);for(var h=0,i=g.length;h<i;++h,d=null)if(c=g[h],d=q[c.identifier]){if(b)break;a=c,b=d}if(d){var k=(k=c[0]-a[0])*k+(k=c[1]-a[1])*k,l=r&&Math.sqrt(k/r);a=[(a[0]+c[0])/2,(a[1]+c[1])/2],b=[(b[0]+d[0])/2,(b[1]+d[1])/2],e(l*n)}t=null,f(a,b),j(p)}function h(){if(ig.event.touches.length){for(var b=ig.event.changedTouches,c=0,d=b.length;c<d;++c)delete q[b[c].identifier];for(var e in q)return void a()}ig.selectAll(w).on(s,null),x.on(F,l).on(I,m),A(),k(p)}var n,o=this,p=J.of(o,arguments),q={},r=0,s=".zoom-"+ig.event.changedTouches[0].identifier,u="touchmove"+s,v="touchend"+s,w=[],x=ig.select(o),A=Y(o);c(),i(p),x.on(F,null).on(I,c)}function n(){var a=J.of(this,arguments);s?clearTimeout(s):(Oi.call(this),p=b(q=r||ig.mouse(this)),i(a)),s=setTimeout(function(){s=null,k(a)},50),z(),e(Math.pow(2,.002*Ug())*y.k),f(q,p),j(a)}function o(){var a=ig.mouse(this),c=Math.log(y.k)/Math.LN2;g(this,a,b(a),ig.event.shiftKey?Math.ceil(c)-1:Math.floor(c)+1)}var p,q,r,s,t,u,v,w,x,y={x:0,y:0,k:1},A=[960,500],C=Wg,D=250,E=0,F="mousedown.zoom",G="mousemove.zoom",H="mouseup.zoom",I="touchstart.zoom",J=B(a,"zoomstart","zoom","zoomend");return Vg||(Vg="onwheel"in lg?(Ug=function(){return-ig.event.deltaY*(ig.event.deltaMode?120:1)},"wheel"):"onmousewheel"in lg?(Ug=function(){return ig.event.wheelDelta},"mousewheel"):(Ug=function(){return-ig.event.detail},"MozMousePixelScroll")),a.event=function(a){a.each(function(){var a=J.of(this,arguments),b=y;Mi?ig.select(this).transition().each("start.zoom",function(){y=this.__chart__||{x:0,y:0,k:1},i(a)}).tween("zoom:zoom",function(){var c=A[0],d=A[1],e=q?q[0]:c/2,f=q?q[1]:d/2,g=ig.interpolateZoom([(e-y.x)/y.k,(f-y.y)/y.k,c/y.k],[(e-b.x)/b.k,(f-b.y)/b.k,c/b.k]);return function(b){var d=g(b),h=c/d[2];this.__chart__=y={x:e-d[0]*h,y:f-d[1]*h,k:h},j(a)}}).each("interrupt.zoom",function(){k(a)}).each("end.zoom",function(){k(a)}):(this.__chart__=y,i(a),j(a),k(a))})},a.translate=function(b){return arguments.length?(y={x:+b[0],y:+b[1],k:y.k},h(),a):[y.x,y.y]},a.scale=function(b){return arguments.length?(y={x:y.x,y:y.y,k:null},e(+b),h(),a):y.k},a.scaleExtent=function(b){return arguments.length?(C=null==b?Wg:[+b[0],+b[1]],a):C},a.center=function(b){return arguments.length?(r=b&&[+b[0],+b[1]],a):r},a.size=function(b){return arguments.length?(A=b&&[+b[0],+b[1]],a):A},a.duration=function(b){return arguments.length?(D=+b,a):D},a.x=function(b){return arguments.length?(v=b,u=b.copy(),y={x:0,y:0,k:1},a):v},a.y=function(b){return arguments.length?(x=b,w=b.copy(),y={x:0,y:0,k:1},a):x},ig.rebind(a,J,"on")};var Ug,Vg,Wg=[0,1/0];ig.color=ha,ha.prototype.toString=function(){return this.rgb()+""},ig.hsl=ia;var Xg=ia.prototype=new ha;Xg.brighter=function(a){return a=Math.pow(.7,arguments.length?a:1),new ia(this.h,this.s,this.l/a)},Xg.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new ia(this.h,this.s,a*this.l)},Xg.rgb=function(){return ja(this.h,this.s,this.l)},ig.hcl=ka;var Yg=ka.prototype=new ha;Yg.brighter=function(a){return new ka(this.h,this.c,Math.min(100,this.l+Zg*(arguments.length?a:1)));
},Yg.darker=function(a){return new ka(this.h,this.c,Math.max(0,this.l-Zg*(arguments.length?a:1)))},Yg.rgb=function(){return la(this.h,this.c,this.l).rgb()},ig.lab=ma;var Zg=18,$g=.95047,_g=1,ah=1.08883,bh=ma.prototype=new ha;bh.brighter=function(a){return new ma(Math.min(100,this.l+Zg*(arguments.length?a:1)),this.a,this.b)},bh.darker=function(a){return new ma(Math.max(0,this.l-Zg*(arguments.length?a:1)),this.a,this.b)},bh.rgb=function(){return na(this.l,this.a,this.b)},ig.rgb=sa;var ch=sa.prototype=new ha;ch.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var b=this.r,c=this.g,d=this.b,e=30;return b||c||d?(b&&b<e&&(b=e),c&&c<e&&(c=e),d&&d<e&&(d=e),new sa(Math.min(255,b/a),Math.min(255,c/a),Math.min(255,d/a))):new sa(e,e,e)},ch.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new sa(a*this.r,a*this.g,a*this.b)},ch.hsl=function(){return xa(this.r,this.g,this.b)},ch.toString=function(){return"#"+va(this.r)+va(this.g)+va(this.b)};var dh=ig.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});dh.forEach(function(a,b){dh.set(a,ta(b))}),ig.functor=Ba,ig.xhr=Ca(t),ig.dsv=function(a,b){function c(a,c,f){arguments.length<3&&(f=c,c=null);var g=Da(a,b,null==c?d:e(c),f);return g.row=function(a){return arguments.length?g.response(null==(c=a)?d:e(a)):c},g}function d(a){return c.parse(a.responseText)}function e(a){return function(b){return c.parse(b.responseText,a)}}function f(b){return b.map(g).join(a)}function g(a){return h.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var h=new RegExp('["'+a+"\n]"),i=a.charCodeAt(0);return c.parse=function(a,b){var d;return c.parseRows(a,function(a,c){if(d)return d(a,c-1);var e=new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}");d=b?function(a,c){return b(e(a),c)}:e})},c.parseRows=function(a,b){function c(){if(k>=j)return g;if(e)return e=!1,f;var b=k;if(34===a.charCodeAt(b)){for(var c=b;c++<j;)if(34===a.charCodeAt(c)){if(34!==a.charCodeAt(c+1))break;++c}k=c+2;var d=a.charCodeAt(c+1);return 13===d?(e=!0,10===a.charCodeAt(c+2)&&++k):10===d&&(e=!0),a.slice(b+1,c).replace(/""/g,'"')}for(;k<j;){var d=a.charCodeAt(k++),h=1;if(10===d)e=!0;else if(13===d)e=!0,10===a.charCodeAt(k)&&(++k,++h);else if(d!==i)continue;return a.slice(b,k-h)}return a.slice(b)}for(var d,e,f={},g={},h=[],j=a.length,k=0,l=0;(d=c())!==g;){for(var m=[];d!==f&&d!==g;)m.push(d),d=c();b&&null==(m=b(m,l++))||h.push(m)}return h},c.format=function(b){if(Array.isArray(b[0]))return c.formatRows(b);var d=new s,e=[];return b.forEach(function(a){for(var b in a)d.has(b)||e.push(d.add(b))}),[e.map(g).join(a)].concat(b.map(function(b){return e.map(function(a){return g(b[a])}).join(a)})).join("\n")},c.formatRows=function(a){return a.map(f).join("\n")},c},ig.csv=ig.dsv(",","text/csv"),ig.tsv=ig.dsv("\t","text/tab-separated-values");var eh,fh,gh,hh,ih=this[v(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};ig.timer=function(){Ga.apply(this,arguments)},ig.timer.flush=function(){Ia(),Ja()},ig.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};var jh=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"].map(La);ig.formatPrefix=function(a,b){var c=0;return(a=+a)&&(a<0&&(a*=-1),b&&(a=ig.round(a,Ka(a,b))),c=1+Math.floor(1e-12+Math.log(a)/Math.LN10),c=Math.max(-24,Math.min(24,3*Math.floor((c-1)/3)))),jh[8+c/3]};var kh=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,lh=ig.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return(a=ig.round(a,Ka(a,b))).toFixed(Math.max(0,Math.min(20,Ka(a*(1+1e-15),b))))}}),mh=ig.time={},nh=Date;Oa.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){oh.setUTCDate.apply(this._,arguments)},setDay:function(){oh.setUTCDay.apply(this._,arguments)},setFullYear:function(){oh.setUTCFullYear.apply(this._,arguments)},setHours:function(){oh.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){oh.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){oh.setUTCMinutes.apply(this._,arguments)},setMonth:function(){oh.setUTCMonth.apply(this._,arguments)},setSeconds:function(){oh.setUTCSeconds.apply(this._,arguments)},setTime:function(){oh.setTime.apply(this._,arguments)}};var oh=Date.prototype;mh.year=Pa(function(a){return a=mh.day(a),a.setMonth(0,1),a},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()}),mh.years=mh.year.range,mh.years.utc=mh.year.utc.range,mh.day=Pa(function(a){var b=new nh(2e3,0);return b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),b},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1}),mh.days=mh.day.range,mh.days.utc=mh.day.utc.range,mh.dayOfYear=function(a){var b=mh.year(a);return Math.floor((a-b-6e4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(a,b){b=7-b;var c=mh[a]=Pa(function(a){return(a=mh.day(a)).setDate(a.getDate()-(a.getDay()+b)%7),a},function(a,b){a.setDate(a.getDate()+7*Math.floor(b))},function(a){var c=mh.year(a).getDay();return Math.floor((mh.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});mh[a+"s"]=c.range,mh[a+"s"].utc=c.utc.range,mh[a+"OfYear"]=function(a){var c=mh.year(a).getDay();return Math.floor((mh.dayOfYear(a)+(c+b)%7)/7)}}),mh.week=mh.sunday,mh.weeks=mh.sunday.range,mh.weeks.utc=mh.sunday.utc.range,mh.weekOfYear=mh.sundayOfYear;var ph={"-":"",_:" ",0:"0"},qh=/^\s*\d+/,rh=/^%/;ig.locale=function(a){return{numberFormat:Ma(a),timeFormat:Ra(a)}};var sh=ig.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ig.format=sh.numberFormat,ig.geo={},kb.prototype={s:0,t:0,add:function(a){lb(a,this.t,th),lb(th.s,this.s,this),this.s?this.t+=th.t:this.s=th.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var th=new kb;ig.geo.stream=function(a,b){a&&uh.hasOwnProperty(a.type)?uh[a.type](a,b):mb(a,b)};var uh={Feature:function(a,b){mb(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)mb(c[d].geometry,b)}},vh={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates,b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)a=c[d],b.point(a[0],a[1],a[2])},LineString:function(a,b){nb(a.coordinates,b,0)},MultiLineString:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)nb(c[d],b,0)},Polygon:function(a,b){ob(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)ob(c[d],b)},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<e;)mb(c[d],b)}};ig.geo.area=function(a){return wh=0,ig.geo.stream(a,yh),wh};var wh,xh=new kb,yh={sphere:function(){wh+=4*Lg},point:w,lineStart:w,lineEnd:w,polygonStart:function(){xh.reset(),yh.lineStart=pb},polygonEnd:function(){var a=2*xh;wh+=a<0?4*Lg+a:a,yh.lineStart=yh.lineEnd=yh.point=w}};ig.geo.bounds=function(){function a(a,b){t.push(u=[k=a,m=a]),b<l&&(l=b),b>n&&(n=b)}function b(b,c){var d=qb([b*Pg,c*Pg]);if(r){var e=sb(r,d),f=[e[1],-e[0],0],g=sb(f,e);vb(g),g=wb(g);var i=b-o,j=i>0?1:-1,p=g[0]*Qg*j,q=sg(i)>180;if(q^(j*o<p&&p<j*b)){var s=g[1]*Qg;s>n&&(n=s)}else if(p=(p+360)%360-180,q^(j*o<p&&p<j*b)){var s=-g[1]*Qg;s<l&&(l=s)}else c<l&&(l=c),c>n&&(n=c);q?b<o?h(k,b)>h(k,m)&&(m=b):h(b,m)>h(k,m)&&(k=b):m>=k?(b<k&&(k=b),b>m&&(m=b)):b>o?h(k,b)>h(k,m)&&(m=b):h(b,m)>h(k,m)&&(k=b)}else a(b,c);r=d,o=b}function c(){v.point=b}function d(){u[0]=k,u[1]=m,v.point=a,r=null}function e(a,c){if(r){var d=a-o;s+=sg(d)>180?d+(d>0?360:-360):d}else p=a,q=c;yh.point(a,c),b(a,c)}function f(){yh.lineStart()}function g(){e(p,q),yh.lineEnd(),sg(s)>Jg&&(k=-(m=180)),u[0]=k,u[1]=m,r=null}function h(a,b){return(b-=a)<0?b+360:b}function i(a,b){return a[0]-b[0]}function j(a,b){return b[0]<=b[1]?b[0]<=a&&a<=b[1]:a<b[0]||b[1]<a}var k,l,m,n,o,p,q,r,s,t,u,v={point:a,lineStart:c,lineEnd:d,polygonStart:function(){v.point=e,v.lineStart=f,v.lineEnd=g,s=0,yh.polygonStart()},polygonEnd:function(){yh.polygonEnd(),v.point=a,v.lineStart=c,v.lineEnd=d,xh<0?(k=-(m=180),l=-(n=90)):s>Jg?n=90:s<-Jg&&(l=-90),u[0]=k,u[1]=m}};return function(a){n=m=-(k=l=1/0),t=[],ig.geo.stream(a,v);var b=t.length;if(b){t.sort(i);for(var c,d=1,e=t[0],f=[e];d<b;++d)c=t[d],j(c[0],e)||j(c[1],e)?(h(e[0],c[1])>h(e[0],e[1])&&(e[1]=c[1]),h(c[0],e[1])>h(e[0],e[1])&&(e[0]=c[0])):f.push(e=c);for(var g,c,o=-(1/0),b=f.length-1,d=0,e=f[b];d<=b;e=c,++d)c=f[d],(g=h(e[1],c[0]))>o&&(o=g,k=c[0],m=e[1])}return t=u=null,k===1/0||l===1/0?[[NaN,NaN],[NaN,NaN]]:[[k,l],[m,n]]}}(),ig.geo.centroid=function(a){zh=Ah=Bh=Ch=Dh=Eh=Fh=Gh=Hh=Ih=Jh=0,ig.geo.stream(a,Kh);var b=Hh,c=Ih,d=Jh,e=b*b+c*c+d*d;return e<Kg&&(b=Eh,c=Fh,d=Gh,Ah<Jg&&(b=Bh,c=Ch,d=Dh),e=b*b+c*c+d*d,e<Kg)?[NaN,NaN]:[Math.atan2(c,b)*Qg,ca(d/Math.sqrt(e))*Qg]};var zh,Ah,Bh,Ch,Dh,Eh,Fh,Gh,Hh,Ih,Jh,Kh={sphere:w,point:yb,lineStart:Ab,lineEnd:Bb,polygonStart:function(){Kh.lineStart=Cb},polygonEnd:function(){Kh.lineStart=Ab}},Lh=Ib(Eb,Mb,Ob,[-Lg,-Lg/2]),Mh=1e9;ig.geo.clipExtent=function(){var a,b,c,d,e,f,g={stream:function(a){return e&&(e.valid=!1),e=f(a),e.valid=!0,e},extent:function(h){return arguments.length?(f=Sb(a=+h[0][0],b=+h[0][1],c=+h[1][0],d=+h[1][1]),e&&(e.valid=!1,e=null),g):[[a,b],[c,d]]}};return g.extent([[0,0],[960,500]])},(ig.geo.conicEqualArea=function(){return Tb(Ub)}).raw=Ub,ig.geo.albers=function(){return ig.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ig.geo.albersUsa=function(){function a(a){var f=a[0],g=a[1];return b=null,c(f,g),b||(d(f,g),b)||e(f,g),b}var b,c,d,e,f=ig.geo.albers(),g=ig.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),h=ig.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),i={point:function(a,c){b=[a,c]}};return a.invert=function(a){var b=f.scale(),c=f.translate(),d=(a[0]-c[0])/b,e=(a[1]-c[1])/b;return(e>=.12&&e<.234&&d>=-.425&&d<-.214?g:e>=.166&&e<.234&&d>=-.214&&d<-.115?h:f).invert(a)},a.stream=function(a){var b=f.stream(a),c=g.stream(a),d=h.stream(a);return{point:function(a,e){b.point(a,e),c.point(a,e),d.point(a,e)},sphere:function(){b.sphere(),c.sphere(),d.sphere()},lineStart:function(){b.lineStart(),c.lineStart(),d.lineStart()},lineEnd:function(){b.lineEnd(),c.lineEnd(),d.lineEnd()},polygonStart:function(){b.polygonStart(),c.polygonStart(),d.polygonStart()},polygonEnd:function(){b.polygonEnd(),c.polygonEnd(),d.polygonEnd()}}},a.precision=function(b){return arguments.length?(f.precision(b),g.precision(b),h.precision(b),a):f.precision()},a.scale=function(b){return arguments.length?(f.scale(b),g.scale(.35*b),h.scale(b),a.translate(f.translate())):f.scale()},a.translate=function(b){if(!arguments.length)return f.translate();var j=f.scale(),k=+b[0],l=+b[1];return c=f.translate(b).clipExtent([[k-.455*j,l-.238*j],[k+.455*j,l+.238*j]]).stream(i).point,d=g.translate([k-.307*j,l+.201*j]).clipExtent([[k-.425*j+Jg,l+.12*j+Jg],[k-.214*j-Jg,l+.234*j-Jg]]).stream(i).point,e=h.translate([k-.205*j,l+.212*j]).clipExtent([[k-.214*j+Jg,l+.166*j+Jg],[k-.115*j-Jg,l+.234*j-Jg]]).stream(i).point,a},a.scale(1070)};var Nh,Oh,Ph,Qh,Rh,Sh,Th={point:w,lineStart:w,lineEnd:w,polygonStart:function(){Oh=0,Th.lineStart=Vb},polygonEnd:function(){Th.lineStart=Th.lineEnd=Th.point=w,Nh+=sg(Oh/2)}},Uh={point:Wb,lineStart:w,lineEnd:w,polygonStart:w,polygonEnd:w},Vh={point:Zb,lineStart:$b,lineEnd:_b,polygonStart:function(){Vh.lineStart=ac},polygonEnd:function(){Vh.point=Zb,Vh.lineStart=$b,Vh.lineEnd=_b}};ig.geo.path=function(){function a(a){return a&&("function"==typeof h&&f.pointRadius(+h.apply(this,arguments)),g&&g.valid||(g=e(f)),ig.geo.stream(a,g)),f.result()}function b(){return g=null,a}var c,d,e,f,g,h=4.5;return a.area=function(a){return Nh=0,ig.geo.stream(a,e(Th)),Nh},a.centroid=function(a){return Bh=Ch=Dh=Eh=Fh=Gh=Hh=Ih=Jh=0,ig.geo.stream(a,e(Vh)),Jh?[Hh/Jh,Ih/Jh]:Gh?[Eh/Gh,Fh/Gh]:Dh?[Bh/Dh,Ch/Dh]:[NaN,NaN]},a.bounds=function(a){return Rh=Sh=-(Ph=Qh=1/0),ig.geo.stream(a,e(Uh)),[[Ph,Qh],[Rh,Sh]]},a.projection=function(a){return arguments.length?(e=(c=a)?a.stream||dc(a):t,b()):c},a.context=function(a){return arguments.length?(f=null==(d=a)?new Xb:new bc(a),"function"!=typeof h&&f.pointRadius(h),b()):d},a.pointRadius=function(b){return arguments.length?(h="function"==typeof b?b:(f.pointRadius(+b),+b),a):h},a.projection(ig.geo.albersUsa()).context(null)},ig.geo.transform=function(a){return{stream:function(b){var c=new ec(b);for(var d in a)c[d]=a[d];return c}}},ec.prototype={point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ig.geo.projection=gc,ig.geo.projectionMutator=hc,(ig.geo.equirectangular=function(){return gc(jc)}).raw=jc.invert=jc,ig.geo.rotation=function(a){function b(b){return b=a(b[0]*Pg,b[1]*Pg),b[0]*=Qg,b[1]*=Qg,b}return a=lc(a[0]%360*Pg,a[1]*Pg,a.length>2?a[2]*Pg:0),b.invert=function(b){return b=a.invert(b[0]*Pg,b[1]*Pg),b[0]*=Qg,b[1]*=Qg,b},b},kc.invert=jc,ig.geo.circle=function(){function a(){var a="function"==typeof d?d.apply(this,arguments):d,b=lc(-a[0]*Pg,-a[1]*Pg,0).invert,e=[];return c(null,null,1,{point:function(a,c){e.push(a=b(a,c)),a[0]*=Qg,a[1]*=Qg}}),{type:"Polygon",coordinates:[e]}}var b,c,d=[0,0],e=6;return a.origin=function(b){return arguments.length?(d=b,a):d},a.angle=function(d){return arguments.length?(c=pc((b=+d)*Pg,e*Pg),a):b},a.precision=function(d){return arguments.length?(c=pc(b*Pg,(e=+d)*Pg),a):e},a.angle(90)},ig.geo.distance=function(a,b){var c,d=(b[0]-a[0])*Pg,e=a[1]*Pg,f=b[1]*Pg,g=Math.sin(d),h=Math.cos(d),i=Math.sin(e),j=Math.cos(e),k=Math.sin(f),l=Math.cos(f);return Math.atan2(Math.sqrt((c=l*g)*c+(c=j*k-i*l*h)*c),i*k+j*l*h)},ig.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:b()}}function b(){return ig.range(Math.ceil(f/q)*q,e,q).map(m).concat(ig.range(Math.ceil(j/r)*r,i,r).map(n)).concat(ig.range(Math.ceil(d/o)*o,c,o).filter(function(a){return sg(a%q)>Jg}).map(k)).concat(ig.range(Math.ceil(h/p)*p,g,p).filter(function(a){return sg(a%r)>Jg}).map(l))}var c,d,e,f,g,h,i,j,k,l,m,n,o=10,p=o,q=90,r=360,s=2.5;return a.lines=function(){return b().map(function(a){return{type:"LineString",coordinates:a}})},a.outline=function(){return{type:"Polygon",coordinates:[m(f).concat(n(i).slice(1),m(e).reverse().slice(1),n(j).reverse().slice(1))]}},a.extent=function(b){return arguments.length?a.majorExtent(b).minorExtent(b):a.minorExtent()},a.majorExtent=function(b){return arguments.length?(f=+b[0][0],e=+b[1][0],j=+b[0][1],i=+b[1][1],f>e&&(b=f,f=e,e=b),j>i&&(b=j,j=i,i=b),a.precision(s)):[[f,j],[e,i]]},a.minorExtent=function(b){return arguments.length?(d=+b[0][0],c=+b[1][0],h=+b[0][1],g=+b[1][1],d>c&&(b=d,d=c,c=b),h>g&&(b=h,h=g,g=b),a.precision(s)):[[d,h],[c,g]]},a.step=function(b){return arguments.length?a.majorStep(b).minorStep(b):a.minorStep()},a.majorStep=function(b){return arguments.length?(q=+b[0],r=+b[1],a):[q,r]},a.minorStep=function(b){return arguments.length?(o=+b[0],p=+b[1],a):[o,p]},a.precision=function(b){return arguments.length?(s=+b,k=rc(h,g,90),l=sc(d,c,s),m=rc(j,i,90),n=sc(f,e,s),a):s},a.majorExtent([[-180,-90+Jg],[180,90-Jg]]).minorExtent([[-180,-80-Jg],[180,80+Jg]])},ig.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[b||d.apply(this,arguments),c||e.apply(this,arguments)]}}var b,c,d=tc,e=uc;return a.distance=function(){return ig.geo.distance(b||d.apply(this,arguments),c||e.apply(this,arguments))},a.source=function(c){return arguments.length?(d=c,b="function"==typeof c?null:c,a):d},a.target=function(b){return arguments.length?(e=b,c="function"==typeof b?null:b,a):e},a.precision=function(){return arguments.length?a:0},a},ig.geo.interpolate=function(a,b){return vc(a[0]*Pg,a[1]*Pg,b[0]*Pg,b[1]*Pg)},ig.geo.length=function(a){return Wh=0,ig.geo.stream(a,Xh),Wh};var Wh,Xh={sphere:w,point:w,lineStart:wc,lineEnd:w,polygonStart:w,polygonEnd:w},Yh=xc(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(ig.geo.azimuthalEqualArea=function(){return gc(Yh)}).raw=Yh;var Zh=xc(function(a){var b=Math.acos(a);return b&&b/Math.sin(b)},t);(ig.geo.azimuthalEquidistant=function(){return gc(Zh)}).raw=Zh,(ig.geo.conicConformal=function(){return Tb(yc)}).raw=yc,(ig.geo.conicEquidistant=function(){return Tb(zc)}).raw=zc;var $h=xc(function(a){return 1/a},Math.atan);(ig.geo.gnomonic=function(){return gc($h)}).raw=$h,Ac.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-Og]},(ig.geo.mercator=function(){return Bc(Ac)}).raw=Ac;var _h=xc(function(){return 1},Math.asin);(ig.geo.orthographic=function(){return gc(_h)}).raw=_h;var ai=xc(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(ig.geo.stereographic=function(){return gc(ai)}).raw=ai,Cc.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-Og]},(ig.geo.transverseMercator=function(){var a=Bc(Cc),b=a.center,c=a.rotate;return a.center=function(a){return a?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])},a.rotate=function(a){return a?c([a[0],a[1],a.length>2?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])},c([0,0,90])}).raw=Cc,ig.geom={},ig.geom.hull=function(a){function b(a){if(a.length<3)return[];var b,e=Ba(c),f=Ba(d),g=a.length,h=[],i=[];for(b=0;b<g;b++)h.push([+e.call(this,a[b],b),+f.call(this,a[b],b),b]);for(h.sort(Gc),b=0;b<g;b++)i.push([h[b][0],-h[b][1]]);var j=Fc(h),k=Fc(i),l=k[0]===j[0],m=k[k.length-1]===j[j.length-1],n=[];for(b=j.length-1;b>=0;--b)n.push(a[h[j[b]][2]]);for(b=+l;b<k.length-m;++b)n.push(a[h[k[b]][2]]);return n}var c=Dc,d=Ec;return arguments.length?b(a):(b.x=function(a){return arguments.length?(c=a,b):c},b.y=function(a){return arguments.length?(d=a,b):d},b)},ig.geom.polygon=function(a){return xg(a,bi),a};var bi=ig.geom.polygon.prototype=[];bi.area=function(){for(var a,b=-1,c=this.length,d=this[c-1],e=0;++b<c;)a=d,d=this[b],e+=a[1]*d[0]-a[0]*d[1];return.5*e},bi.centroid=function(a){var b,c,d=-1,e=this.length,f=0,g=0,h=this[e-1];for(arguments.length||(a=-1/(6*this.area()));++d<e;)b=h,h=this[d],c=b[0]*h[1]-h[0]*b[1],f+=(b[0]+h[0])*c,g+=(b[1]+h[1])*c;return[f*a,g*a]},bi.clip=function(a){for(var b,c,d,e,f,g,h=Jc(a),i=-1,j=this.length-Jc(this),k=this[j-1];++i<j;){for(b=a.slice(),a.length=0,e=this[i],f=b[(d=b.length-h)-1],c=-1;++c<d;)g=b[c],Hc(g,k,e)?(Hc(f,k,e)||a.push(Ic(f,g,k,e)),a.push(g)):Hc(f,k,e)&&a.push(Ic(f,g,k,e)),f=g;h&&a.push(a[0]),k=e}return a};var ci,di,ei,fi,gi,hi=[],ii=[];Rc.prototype.prepare=function(){for(var a,b=this.edges,c=b.length;c--;)a=b[c].edge,a.b&&a.a||b.splice(c,1);return b.sort(Tc),b.length},bd.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},cd.prototype={insert:function(a,b){var c,d,e;if(a){if(b.P=a,b.N=a.N,a.N&&(a.N.P=b),a.N=b,a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;c=a}else this._?(a=gd(this._),b.P=null,b.N=a,a.P=a.L=b,c=a):(b.P=b.N=null,this._=b,c=null);for(b.L=b.R=null,b.U=c,b.C=!0,a=b;c&&c.C;)d=c.U,c===d.L?(e=d.R,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.R&&(ed(this,c),a=c,c=a.U),c.C=!1,d.C=!0,fd(this,d))):(e=d.L,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.L&&(fd(this,c),a=c,c=a.U),c.C=!1,d.C=!0,ed(this,d))),c=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P),a.P&&(a.P.N=a.N),a.N=a.P=null;var b,c,d,e=a.U,f=a.L,g=a.R;if(c=f?g?gd(g):f:g,e?e.L===a?e.L=c:e.R=c:this._=c,f&&g?(d=c.C,c.C=a.C,c.L=f,f.U=c,c!==g?(e=c.U,c.U=a.U,a=c.R,e.L=a,c.R=g,g.U=c):(c.U=e,e=c,a=c.R)):(d=a.C,a=c),a&&(a.U=e),!d){if(a&&a.C)return void(a.C=!1);do{if(a===this._)break;if(a===e.L){if(b=e.R,b.C&&(b.C=!1,e.C=!0,ed(this,e),b=e.R),b.L&&b.L.C||b.R&&b.R.C){b.R&&b.R.C||(b.L.C=!1,b.C=!0,fd(this,b),b=e.R),b.C=e.C,e.C=b.R.C=!1,ed(this,e),a=this._;break}}else if(b=e.L,b.C&&(b.C=!1,e.C=!0,fd(this,e),b=e.L),b.L&&b.L.C||b.R&&b.R.C){b.L&&b.L.C||(b.R.C=!1,b.C=!0,ed(this,b),b=e.L),b.C=e.C,e.C=b.L.C=!1,fd(this,e),a=this._;break}b.C=!0,a=e,e=e.U}while(!a.C);a&&(a.C=!1)}}},ig.geom.voronoi=function(a){function b(a){var b=new Array(a.length),d=h[0][0],e=h[0][1],f=h[1][0],g=h[1][1];return hd(c(a),h).cells.forEach(function(c,h){var i=c.edges,j=c.site,k=b[h]=i.length?i.map(function(a){var b=a.start();return[b.x,b.y]}):j.x>=d&&j.x<=f&&j.y>=e&&j.y<=g?[[d,g],[f,g],[f,e],[d,e]]:[];k.point=a[h]}),b}function c(a){return a.map(function(a,b){return{x:Math.round(f(a,b)/Jg)*Jg,y:Math.round(g(a,b)/Jg)*Jg,i:b}})}var d=Dc,e=Ec,f=d,g=e,h=ji;return a?b(a):(b.links=function(a){return hd(c(a)).edges.filter(function(a){return a.l&&a.r}).map(function(b){return{source:a[b.l.i],target:a[b.r.i]}})},b.triangles=function(a){var b=[];return hd(c(a)).cells.forEach(function(c,d){for(var e,f,g=c.site,h=c.edges.sort(Tc),i=-1,j=h.length,k=h[j-1].edge,l=k.l===g?k.r:k.l;++i<j;)e=k,f=l,k=h[i].edge,l=k.l===g?k.r:k.l,d<f.i&&d<l.i&&jd(g,f,l)<0&&b.push([a[d],a[f.i],a[l.i]])}),b},b.x=function(a){return arguments.length?(f=Ba(d=a),b):d},b.y=function(a){return arguments.length?(g=Ba(e=a),b):e},b.clipExtent=function(a){return arguments.length?(h=null==a?ji:a,b):h===ji?null:h},b.size=function(a){return arguments.length?b.clipExtent(a&&[[0,0],a]):h===ji?null:h&&h[1]},b)};var ji=[[-1e6,-1e6],[1e6,1e6]];ig.geom.delaunay=function(a){return ig.geom.voronoi().triangles(a)},ig.geom.quadtree=function(a,b,c,d,e){function f(a){function f(a,b,c,d,e,f,g,h){if(!isNaN(c)&&!isNaN(d))if(a.leaf){var i=a.x,k=a.y;if(null!=i)if(sg(i-c)+sg(k-d)<.01)j(a,b,c,d,e,f,g,h);else{var l=a.point;a.x=a.y=a.point=null,j(a,l,i,k,e,f,g,h),j(a,b,c,d,e,f,g,h)}else a.x=c,a.y=d,a.point=b}else j(a,b,c,d,e,f,g,h)}function j(a,b,c,d,e,g,h,i){var j=.5*(e+h),k=.5*(g+i),l=c>=j,m=d>=k,n=m<<1|l;a.leaf=!1,a=a.nodes[n]||(a.nodes[n]=md()),l?e=j:h=j,m?g=k:i=k,f(a,b,c,d,e,g,h,i)}var k,l,m,n,o,p,q,r,s,t=Ba(h),u=Ba(i);if(null!=b)p=b,q=c,r=d,s=e;else if(r=s=-(p=q=1/0),l=[],m=[],o=a.length,g)for(n=0;n<o;++n)k=a[n],k.x<p&&(p=k.x),k.y<q&&(q=k.y),k.x>r&&(r=k.x),k.y>s&&(s=k.y),l.push(k.x),m.push(k.y);else for(n=0;n<o;++n){var v=+t(k=a[n],n),w=+u(k,n);v<p&&(p=v),w<q&&(q=w),v>r&&(r=v),w>s&&(s=w),l.push(v),m.push(w)}var x=r-p,y=s-q;x>y?s=q+x:r=p+y;var z=md();if(z.add=function(a){f(z,a,+t(a,++n),+u(a,n),p,q,r,s)},z.visit=function(a){nd(a,z,p,q,r,s)},z.find=function(a){return od(z,a[0],a[1],p,q,r,s)},n=-1,null==b){for(;++n<o;)f(z,a[n],l[n],m[n],p,q,r,s);--n}else a.forEach(z.add);return l=m=a=k=null,z}var g,h=Dc,i=Ec;return(g=arguments.length)?(h=kd,i=ld,3===g&&(e=c,d=b,c=b=0),f(a)):(f.x=function(a){return arguments.length?(h=a,f):h},f.y=function(a){return arguments.length?(i=a,f):i},f.extent=function(a){return arguments.length?(null==a?b=c=d=e=null:(b=+a[0][0],c=+a[0][1],d=+a[1][0],e=+a[1][1]),f):null==b?null:[[b,c],[d,e]]},f.size=function(a){return arguments.length?(null==a?b=c=d=e=null:(b=c=0,d=+a[0],e=+a[1]),f):null==b?null:[d-b,e-c]},f)},ig.interpolateRgb=pd,ig.interpolateObject=qd,ig.interpolateNumber=rd,ig.interpolateString=sd;var ki=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,li=new RegExp(ki.source,"g");ig.interpolate=td,ig.interpolators=[function(a,b){var c=typeof b;return("string"===c?dh.has(b.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(b)?pd:sd:b instanceof ha?pd:Array.isArray(b)?ud:"object"===c&&isNaN(b)?qd:rd)(a,b)}],ig.interpolateArray=ud;var mi=function(){return t},ni=ig.map({linear:mi,poly:Bd,quad:function(){return yd},cubic:function(){return zd},sin:function(){return Cd},exp:function(){return Dd},circle:function(){return Ed},elastic:Fd,back:Gd,bounce:function(){return Hd}}),oi=ig.map({in:t,out:wd,"in-out":xd,"out-in":function(a){return xd(wd(a))}});ig.ease=function(a){var b=a.indexOf("-"),c=b>=0?a.slice(0,b):a,d=b>=0?a.slice(b+1):"in";return c=ni.get(c)||mi,d=oi.get(d)||t,vd(d(c.apply(null,jg.call(arguments,1))))},ig.interpolateHcl=Id,ig.interpolateHsl=Jd,ig.interpolateLab=Kd,ig.interpolateRound=Ld,ig.transform=function(a){var b=lg.createElementNS(ig.ns.prefix.svg,"g");return(ig.transform=function(a){if(null!=a){b.setAttribute("transform",a);var c=b.transform.baseVal.consolidate()}return new Md(c?c.matrix:pi)})(a)},Md.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var pi={a:1,b:0,c:0,d:1,e:0,f:0};ig.interpolateTransform=Vd,ig.layout={},ig.layout.bundle=function(){return function(a){for(var b=[],c=-1,d=a.length;++c<d;)b.push(Yd(a[c]));return b}},ig.layout.chord=function(){function a(){var a,j,l,m,n,o={},p=[],q=ig.range(f),r=[];for(c=[],d=[],a=0,m=-1;++m<f;){for(j=0,n=-1;++n<f;)j+=e[m][n];p.push(j),r.push(ig.range(f)),a+=j}for(g&&q.sort(function(a,b){return g(p[a],p[b])}),h&&r.forEach(function(a,b){a.sort(function(a,c){return h(e[b][a],e[b][c])})}),a=(Mg-k*f)/a,j=0,m=-1;++m<f;){for(l=j,n=-1;++n<f;){var s=q[m],t=r[s][n],u=e[s][t],v=j,w=j+=u*a;o[s+"-"+t]={index:s,subindex:t,startAngle:v,endAngle:w,value:u}}d[s]={index:s,startAngle:l,endAngle:j,value:p[s]},j+=k}for(m=-1;++m<f;)for(n=m-1;++n<f;){var x=o[m+"-"+n],y=o[n+"-"+m];(x.value||y.value)&&c.push(x.value<y.value?{source:y,target:x}:{source:x,target:y})}i&&b()}function b(){c.sort(function(a,b){return i((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var c,d,e,f,g,h,i,j={},k=0;return j.matrix=function(a){return arguments.length?(f=(e=a)&&e.length,c=d=null,j):e},j.padding=function(a){return arguments.length?(k=a,c=d=null,j):k},j.sortGroups=function(a){return arguments.length?(g=a,c=d=null,j):g},j.sortSubgroups=function(a){return arguments.length?(h=a,c=null,j):h},j.sortChords=function(a){return arguments.length?(i=a,c&&b(),j):i},j.chords=function(){return c||a(),c},j.groups=function(){return d||a(),d},j},ig.layout.force=function(){function a(a){return function(b,c,d,e){if(b.point!==a){var f=b.cx-a.x,g=b.cy-a.y,h=e-c,i=f*f+g*g;if(h*h/r<i){if(i<p){var j=b.charge/i;a.px-=f*j,a.py-=g*j}return!0}if(b.point&&i&&i<p){var j=b.pointCharge/i;a.px-=f*j,a.py-=g*j}}return!b.charge}}function b(a){a.px=ig.event.x,a.py=ig.event.y,i.resume()}var c,d,e,f,g,h,i={},j=ig.dispatch("start","tick","end"),k=[1,1],l=.9,m=qi,n=ri,o=-30,p=si,q=.1,r=.64,s=[],u=[];return i.tick=function(){if((e*=.99)<.005)return c=null,j.end({type:"end",alpha:e=0}),!0;var b,d,i,m,n,p,r,t,v,w=s.length,x=u.length;for(d=0;d<x;++d)i=u[d],m=i.source,n=i.target,t=n.x-m.x,v=n.y-m.y,(p=t*t+v*v)&&(p=e*g[d]*((p=Math.sqrt(p))-f[d])/p,t*=p,v*=p,n.x-=t*(r=m.weight+n.weight?m.weight/(m.weight+n.weight):.5),n.y-=v*r,m.x+=t*(r=1-r),m.y+=v*r);if((r=e*q)&&(t=k[0]/2,v=k[1]/2,d=-1,r))for(;++d<w;)i=s[d],i.x+=(t-i.x)*r,i.y+=(v-i.y)*r;if(o)for(de(b=ig.geom.quadtree(s),e,h),d=-1;++d<w;)(i=s[d]).fixed||b.visit(a(i));for(d=-1;++d<w;)i=s[d],i.fixed?(i.x=i.px,i.y=i.py):(i.x-=(i.px-(i.px=i.x))*l,i.y-=(i.py-(i.py=i.y))*l);j.tick({type:"tick",alpha:e})},i.nodes=function(a){return arguments.length?(s=a,i):s},i.links=function(a){return arguments.length?(u=a,i):u},i.size=function(a){return arguments.length?(k=a,i):k},i.linkDistance=function(a){return arguments.length?(m="function"==typeof a?a:+a,i):m},i.distance=i.linkDistance,i.linkStrength=function(a){return arguments.length?(n="function"==typeof a?a:+a,i):n},i.friction=function(a){return arguments.length?(l=+a,i):l},i.charge=function(a){return arguments.length?(o="function"==typeof a?a:+a,i):o},i.chargeDistance=function(a){return arguments.length?(p=a*a,i):Math.sqrt(p)},i.gravity=function(a){return arguments.length?(q=+a,i):q},i.theta=function(a){return arguments.length?(r=a*a,i):Math.sqrt(r)},i.alpha=function(a){return arguments.length?(a=+a,e?a>0?e=a:(c.c=null,c.t=NaN,c=null,j.end({type:"end",alpha:e=0})):a>0&&(j.start({type:"start",alpha:e=a}),c=Ga(i.tick)),i):e},i.start=function(){function a(a,d){if(!c){for(c=new Array(e),i=0;i<e;++i)c[i]=[];for(i=0;i<j;++i){var f=u[i];c[f.source.index].push(f.target),c[f.target.index].push(f.source)}}for(var g,h=c[b],i=-1,k=h.length;++i<k;)if(!isNaN(g=h[i][a]))return g;return Math.random()*d}var b,c,d,e=s.length,j=u.length,l=k[0],p=k[1];for(b=0;b<e;++b)(d=s[b]).index=b,d.weight=0;for(b=0;b<j;++b)d=u[b],"number"==typeof d.source&&(d.source=s[d.source]),"number"==typeof d.target&&(d.target=s[d.target]),++d.source.weight,++d.target.weight;for(b=0;b<e;++b)d=s[b],isNaN(d.x)&&(d.x=a("x",l)),isNaN(d.y)&&(d.y=a("y",p)),isNaN(d.px)&&(d.px=d.x),isNaN(d.py)&&(d.py=d.y);if(f=[],
"function"==typeof m)for(b=0;b<j;++b)f[b]=+m.call(this,u[b],b);else for(b=0;b<j;++b)f[b]=m;if(g=[],"function"==typeof n)for(b=0;b<j;++b)g[b]=+n.call(this,u[b],b);else for(b=0;b<j;++b)g[b]=n;if(h=[],"function"==typeof o)for(b=0;b<e;++b)h[b]=+o.call(this,s[b],b);else for(b=0;b<e;++b)h[b]=o;return i.resume()},i.resume=function(){return i.alpha(.1)},i.stop=function(){return i.alpha(0)},i.drag=function(){return d||(d=ig.behavior.drag().origin(t).on("dragstart.force",_d).on("drag.force",b).on("dragend.force",ae)),arguments.length?void this.on("mouseover.force",be).on("mouseout.force",ce).call(d):d},ig.rebind(i,j,"on")};var qi=20,ri=1,si=1/0;ig.layout.hierarchy=function(){function a(e){var f,g=[e],h=[];for(e.depth=0;null!=(f=g.pop());)if(h.push(f),(j=c.call(a,f,f.depth))&&(i=j.length)){for(var i,j,k;--i>=0;)g.push(k=j[i]),k.parent=f,k.depth=f.depth+1;d&&(f.value=0),f.children=j}else d&&(f.value=+d.call(a,f,f.depth)||0),delete f.children;return ge(e,function(a){var c,e;b&&(c=a.children)&&c.sort(b),d&&(e=a.parent)&&(e.value+=a.value)}),h}var b=je,c=he,d=ie;return a.sort=function(c){return arguments.length?(b=c,a):b},a.children=function(b){return arguments.length?(c=b,a):c},a.value=function(b){return arguments.length?(d=b,a):d},a.revalue=function(b){return d&&(fe(b,function(a){a.children&&(a.value=0)}),ge(b,function(b){var c;b.children||(b.value=+d.call(a,b,b.depth)||0),(c=b.parent)&&(c.value+=b.value)})),b},a},ig.layout.partition=function(){function a(b,c,d,e){var f=b.children;if(b.x=c,b.y=b.depth*e,b.dx=d,b.dy=e,f&&(g=f.length)){var g,h,i,j=-1;for(d=b.value?d/b.value:0;++j<g;)a(h=f[j],c,i=h.value*d,e),c+=i}}function b(a){var c=a.children,d=0;if(c&&(e=c.length))for(var e,f=-1;++f<e;)d=Math.max(d,b(c[f]));return 1+d}function c(c,f){var g=d.call(this,c,f);return a(g[0],0,e[0],e[1]/b(g[0])),g}var d=ig.layout.hierarchy(),e=[1,1];return c.size=function(a){return arguments.length?(e=a,c):e},ee(c,d)},ig.layout.pie=function(){function a(g){var h,i=g.length,j=g.map(function(c,d){return+b.call(a,c,d)}),k=+("function"==typeof d?d.apply(this,arguments):d),l=("function"==typeof e?e.apply(this,arguments):e)-k,m=Math.min(Math.abs(l)/i,+("function"==typeof f?f.apply(this,arguments):f)),n=m*(l<0?-1:1),o=ig.sum(j),p=o?(l-i*n)/o:0,q=ig.range(i),r=[];return null!=c&&q.sort(c===ti?function(a,b){return j[b]-j[a]}:function(a,b){return c(g[a],g[b])}),q.forEach(function(a){r[a]={data:g[a],value:h=j[a],startAngle:k,endAngle:k+=h*p+n,padAngle:m}}),r}var b=Number,c=ti,d=0,e=Mg,f=0;return a.value=function(c){return arguments.length?(b=c,a):b},a.sort=function(b){return arguments.length?(c=b,a):c},a.startAngle=function(b){return arguments.length?(d=b,a):d},a.endAngle=function(b){return arguments.length?(e=b,a):e},a.padAngle=function(b){return arguments.length?(f=b,a):f},a};var ti={};ig.layout.stack=function(){function a(h,i){if(!(m=h.length))return h;var j=h.map(function(c,d){return b.call(a,c,d)}),k=j.map(function(b){return b.map(function(b,c){return[f.call(a,b,c),g.call(a,b,c)]})}),l=c.call(a,k,i);j=ig.permute(j,l),k=ig.permute(k,l);var m,n,o,p,q=d.call(a,k,i),r=j[0].length;for(o=0;o<r;++o)for(e.call(a,j[0][o],p=q[o],k[0][o][1]),n=1;n<m;++n)e.call(a,j[n][o],p+=k[n-1][o][1],k[n][o][1]);return h}var b=t,c=oe,d=pe,e=ne,f=le,g=me;return a.values=function(c){return arguments.length?(b=c,a):b},a.order=function(b){return arguments.length?(c="function"==typeof b?b:ui.get(b)||oe,a):c},a.offset=function(b){return arguments.length?(d="function"==typeof b?b:vi.get(b)||pe,a):d},a.x=function(b){return arguments.length?(f=b,a):f},a.y=function(b){return arguments.length?(g=b,a):g},a.out=function(b){return arguments.length?(e=b,a):e},a};var ui=ig.map({"inside-out":function(a){var b,c,d=a.length,e=a.map(qe),f=a.map(re),g=ig.range(d).sort(function(a,b){return e[a]-e[b]}),h=0,i=0,j=[],k=[];for(b=0;b<d;++b)c=g[b],h<i?(h+=f[c],j.push(c)):(i+=f[c],k.push(c));return k.reverse().concat(j)},reverse:function(a){return ig.range(a.length).reverse()},default:oe}),vi=ig.map({silhouette:function(a){var b,c,d,e=a.length,f=a[0].length,g=[],h=0,i=[];for(c=0;c<f;++c){for(b=0,d=0;b<e;b++)d+=a[b][c][1];d>h&&(h=d),g.push(d)}for(c=0;c<f;++c)i[c]=(h-g[c])/2;return i},wiggle:function(a){var b,c,d,e,f,g,h,i,j,k=a.length,l=a[0],m=l.length,n=[];for(n[0]=i=j=0,c=1;c<m;++c){for(b=0,e=0;b<k;++b)e+=a[b][c][1];for(b=0,f=0,h=l[c][0]-l[c-1][0];b<k;++b){for(d=0,g=(a[b][c][1]-a[b][c-1][1])/(2*h);d<b;++d)g+=(a[d][c][1]-a[d][c-1][1])/h;f+=g*a[b][c][1]}n[c]=i-=e?f/e*h:0,i<j&&(j=i)}for(c=0;c<m;++c)n[c]-=j;return n},expand:function(a){var b,c,d,e=a.length,f=a[0].length,g=1/e,h=[];for(c=0;c<f;++c){for(b=0,d=0;b<e;b++)d+=a[b][c][1];if(d)for(b=0;b<e;b++)a[b][c][1]/=d;else for(b=0;b<e;b++)a[b][c][1]=g}for(c=0;c<f;++c)h[c]=0;return h},zero:pe});ig.layout.histogram=function(){function a(a,f){for(var g,h,i=[],j=a.map(c,this),k=d.call(this,j,f),l=e.call(this,k,j,f),f=-1,m=j.length,n=l.length-1,o=b?1:1/m;++f<n;)g=i[f]=[],g.dx=l[f+1]-(g.x=l[f]),g.y=0;if(n>0)for(f=-1;++f<m;)h=j[f],h>=k[0]&&h<=k[1]&&(g=i[ig.bisect(l,h,1,n)-1],g.y+=o,g.push(a[f]));return i}var b=!0,c=Number,d=ve,e=te;return a.value=function(b){return arguments.length?(c=b,a):c},a.range=function(b){return arguments.length?(d=Ba(b),a):d},a.bins=function(b){return arguments.length?(e="number"==typeof b?function(a){return ue(a,b)}:Ba(b),a):e},a.frequency=function(c){return arguments.length?(b=!!c,a):b},a},ig.layout.pack=function(){function a(a,f){var g=c.call(this,a,f),h=g[0],i=e[0],j=e[1],k=null==b?Math.sqrt:"function"==typeof b?b:function(){return b};if(h.x=h.y=0,ge(h,function(a){a.r=+k(a.value)}),ge(h,Ae),d){var l=d*(b?1:Math.max(2*h.r/i,2*h.r/j))/2;ge(h,function(a){a.r+=l}),ge(h,Ae),ge(h,function(a){a.r-=l})}return De(h,i/2,j/2,b?1:1/Math.max(2*h.r/i,2*h.r/j)),g}var b,c=ig.layout.hierarchy().sort(we),d=0,e=[1,1];return a.size=function(b){return arguments.length?(e=b,a):e},a.radius=function(c){return arguments.length?(b=null==c||"function"==typeof c?c:+c,a):b},a.padding=function(b){return arguments.length?(d=+b,a):d},ee(a,c)},ig.layout.tree=function(){function a(a,e){var k=g.call(this,a,e),l=k[0],m=b(l);if(ge(m,c),m.parent.m=-m.z,fe(m,d),j)fe(l,f);else{var n=l,o=l,p=l;fe(l,function(a){a.x<n.x&&(n=a),a.x>o.x&&(o=a),a.depth>p.depth&&(p=a)});var q=h(n,o)/2-n.x,r=i[0]/(o.x+h(o,n)/2+q),s=i[1]/(p.depth||1);fe(l,function(a){a.x=(a.x+q)*r,a.y=a.depth*s})}return k}function b(a){for(var b,c={A:null,children:[a]},d=[c];null!=(b=d.pop());)for(var e,f=b.children,g=0,h=f.length;g<h;++g)d.push((f[g]=e={_:f[g],parent:b,children:(e=f[g].children)&&e.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:g}).a=e);return c.children[0]}function c(a){var b=a.children,c=a.parent.children,d=a.i?c[a.i-1]:null;if(b.length){Je(a);var f=(b[0].z+b[b.length-1].z)/2;d?(a.z=d.z+h(a._,d._),a.m=a.z-f):a.z=f}else d&&(a.z=d.z+h(a._,d._));a.parent.A=e(a,d,a.parent.A||c[0])}function d(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function e(a,b,c){if(b){for(var d,e=a,f=a,g=b,i=e.parent.children[0],j=e.m,k=f.m,l=g.m,m=i.m;g=He(g),e=Ge(e),g&&e;)i=Ge(i),f=He(f),f.a=a,d=g.z+l-e.z-j+h(g._,e._),d>0&&(Ie(Ke(g,a,c),a,d),j+=d,k+=d),l+=g.m,j+=e.m,m+=i.m,k+=f.m;g&&!He(f)&&(f.t=g,f.m+=l-k),e&&!Ge(i)&&(i.t=e,i.m+=j-m,c=a)}return c}function f(a){a.x*=i[0],a.y=a.depth*i[1]}var g=ig.layout.hierarchy().sort(null).value(null),h=Fe,i=[1,1],j=null;return a.separation=function(b){return arguments.length?(h=b,a):h},a.size=function(b){return arguments.length?(j=null==(i=b)?f:null,a):j?null:i},a.nodeSize=function(b){return arguments.length?(j=null==(i=b)?null:f,a):j?i:null},ee(a,g)},ig.layout.cluster=function(){function a(a,f){var g,h=b.call(this,a,f),i=h[0],j=0;ge(i,function(a){var b=a.children;b&&b.length?(a.x=Me(b),a.y=Le(b)):(a.x=g?j+=c(a,g):0,a.y=0,g=a)});var k=Ne(i),l=Oe(i),m=k.x-c(k,l)/2,n=l.x+c(l,k)/2;return ge(i,e?function(a){a.x=(a.x-i.x)*d[0],a.y=(i.y-a.y)*d[1]}:function(a){a.x=(a.x-m)/(n-m)*d[0],a.y=(1-(i.y?a.y/i.y:1))*d[1]}),h}var b=ig.layout.hierarchy().sort(null).value(null),c=Fe,d=[1,1],e=!1;return a.separation=function(b){return arguments.length?(c=b,a):c},a.size=function(b){return arguments.length?(e=null==(d=b),a):e?null:d},a.nodeSize=function(b){return arguments.length?(e=null!=(d=b),a):e?d:null},ee(a,b)},ig.layout.treemap=function(){function a(a,b){for(var c,d,e=-1,f=a.length;++e<f;)d=(c=a[e]).value*(b<0?0:b),c.area=isNaN(d)||d<=0?0:d}function b(c){var f=c.children;if(f&&f.length){var g,h,i,j=l(c),k=[],m=f.slice(),o=1/0,p="slice"===n?j.dx:"dice"===n?j.dy:"slice-dice"===n?1&c.depth?j.dy:j.dx:Math.min(j.dx,j.dy);for(a(m,j.dx*j.dy/c.value),k.area=0;(i=m.length)>0;)k.push(g=m[i-1]),k.area+=g.area,"squarify"!==n||(h=d(k,p))<=o?(m.pop(),o=h):(k.area-=k.pop().area,e(k,p,j,!1),p=Math.min(j.dx,j.dy),k.length=k.area=0,o=1/0);k.length&&(e(k,p,j,!0),k.length=k.area=0),f.forEach(b)}}function c(b){var d=b.children;if(d&&d.length){var f,g=l(b),h=d.slice(),i=[];for(a(h,g.dx*g.dy/b.value),i.area=0;f=h.pop();)i.push(f),i.area+=f.area,null!=f.z&&(e(i,f.z?g.dx:g.dy,g,!h.length),i.length=i.area=0);d.forEach(c)}}function d(a,b){for(var c,d=a.area,e=0,f=1/0,g=-1,h=a.length;++g<h;)(c=a[g].area)&&(c<f&&(f=c),c>e&&(e=c));return d*=d,b*=b,d?Math.max(b*e*o/d,d/(b*f*o)):1/0}function e(a,b,c,d){var e,f=-1,g=a.length,h=c.x,j=c.y,k=b?i(a.area/b):0;if(b==c.dx){for((d||k>c.dy)&&(k=c.dy);++f<g;)e=a[f],e.x=h,e.y=j,e.dy=k,h+=e.dx=Math.min(c.x+c.dx-h,k?i(e.area/k):0);e.z=!0,e.dx+=c.x+c.dx-h,c.y+=k,c.dy-=k}else{for((d||k>c.dx)&&(k=c.dx);++f<g;)e=a[f],e.x=h,e.y=j,e.dx=k,j+=e.dy=Math.min(c.y+c.dy-j,k?i(e.area/k):0);e.z=!1,e.dy+=c.y+c.dy-j,c.x+=k,c.dx-=k}}function f(d){var e=g||h(d),f=e[0];return f.x=f.y=0,f.value?(f.dx=j[0],f.dy=j[1]):f.dx=f.dy=0,g&&h.revalue(f),a([f],f.dx*f.dy/f.value),(g?c:b)(f),m&&(g=e),e}var g,h=ig.layout.hierarchy(),i=Math.round,j=[1,1],k=null,l=Pe,m=!1,n="squarify",o=.5*(1+Math.sqrt(5));return f.size=function(a){return arguments.length?(j=a,f):j},f.padding=function(a){function b(b){var c=a.call(f,b,b.depth);return null==c?Pe(b):Qe(b,"number"==typeof c?[c,c,c,c]:c)}function c(b){return Qe(b,a)}if(!arguments.length)return k;var d;return l=null==(k=a)?Pe:"function"==(d=typeof a)?b:"number"===d?(a=[a,a,a,a],c):c,f},f.round=function(a){return arguments.length?(i=a?Math.round:Number,f):i!=Number},f.sticky=function(a){return arguments.length?(m=a,g=null,f):m},f.ratio=function(a){return arguments.length?(o=a,f):o},f.mode=function(a){return arguments.length?(n=a+"",f):n},ee(f,h)},ig.random={normal:function(a,b){var c=arguments.length;return c<2&&(b=1),c<1&&(a=0),function(){var c,d,e;do c=2*Math.random()-1,d=2*Math.random()-1,e=c*c+d*d;while(!e||e>1);return a+b*c*Math.sqrt(-2*Math.log(e)/e)}},logNormal:function(){var a=ig.random.normal.apply(ig,arguments);return function(){return Math.exp(a())}},bates:function(a){var b=ig.random.irwinHall(a);return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=0,c=0;c<a;c++)b+=Math.random();return b}}},ig.scale={};var wi={floor:t,ceil:t};ig.scale.linear=function(){return Xe([0,1],[0,1],td,!1)};var xi={s:1,g:1,p:1,r:1,e:1};ig.scale.log=function(){return df(ig.scale.linear().domain([0,1]),10,!0,[1,10])};var yi=ig.format(".0e"),zi={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};ig.scale.pow=function(){return ef(ig.scale.linear(),1,[0,1])},ig.scale.sqrt=function(){return ig.scale.pow().exponent(.5)},ig.scale.ordinal=function(){return gf([],{t:"range",a:[[]]})},ig.scale.category10=function(){return ig.scale.ordinal().range(Ai)},ig.scale.category20=function(){return ig.scale.ordinal().range(Bi)},ig.scale.category20b=function(){return ig.scale.ordinal().range(Ci)},ig.scale.category20c=function(){return ig.scale.ordinal().range(Di)};var Ai=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ua),Bi=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ua),Ci=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ua),Di=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ua);ig.scale.quantile=function(){return hf([],[])},ig.scale.quantize=function(){return jf(0,1,[0,1])},ig.scale.threshold=function(){return kf([.5],[0,1])},ig.scale.identity=function(){return lf([0,1])},ig.svg={},ig.svg.arc=function(){function a(){var a=Math.max(0,+c.apply(this,arguments)),j=Math.max(0,+d.apply(this,arguments)),k=g.apply(this,arguments)-Og,l=h.apply(this,arguments)-Og,m=Math.abs(l-k),n=k>l?0:1;if(j<a&&(o=j,j=a,a=o),m>=Ng)return b(j,n)+(a?b(a,1-n):"")+"Z";var o,p,q,r,s,t,u,v,w,x,y,z,A=0,B=0,C=[];if((r=(+i.apply(this,arguments)||0)/2)&&(q=f===Ei?Math.sqrt(a*a+j*j):+f.apply(this,arguments),n||(B*=-1),j&&(B=ca(q/j*Math.sin(r))),a&&(A=ca(q/a*Math.sin(r)))),j){s=j*Math.cos(k+B),t=j*Math.sin(k+B),u=j*Math.cos(l-B),v=j*Math.sin(l-B);var D=Math.abs(l-k-2*B)<=Lg?0:1;if(B&&sf(s,t,u,v)===n^D){var E=(k+l)/2;s=j*Math.cos(E),t=j*Math.sin(E),u=v=null}}else s=t=0;if(a){w=a*Math.cos(l-A),x=a*Math.sin(l-A),y=a*Math.cos(k+A),z=a*Math.sin(k+A);var F=Math.abs(k-l+2*A)<=Lg?0:1;if(A&&sf(w,x,y,z)===1-n^F){var G=(k+l)/2;w=a*Math.cos(G),x=a*Math.sin(G),y=z=null}}else w=x=0;if(m>Jg&&(o=Math.min(Math.abs(j-a)/2,+e.apply(this,arguments)))>.001){p=a<j^n?0:1;var H=o,I=o;if(m<Lg){var J=null==y?[w,x]:null==u?[s,t]:Ic([s,t],[y,z],[u,v],[w,x]),K=s-J[0],L=t-J[1],M=u-J[0],N=v-J[1],O=1/Math.sin(Math.acos((K*M+L*N)/(Math.sqrt(K*K+L*L)*Math.sqrt(M*M+N*N)))/2),P=Math.sqrt(J[0]*J[0]+J[1]*J[1]);I=Math.min(o,(a-P)/(O-1)),H=Math.min(o,(j-P)/(O+1))}if(null!=u){var Q=tf(null==y?[w,x]:[y,z],[s,t],j,H,n),R=tf([u,v],[w,x],j,H,n);o===H?C.push("M",Q[0],"A",H,",",H," 0 0,",p," ",Q[1],"A",j,",",j," 0 ",1-n^sf(Q[1][0],Q[1][1],R[1][0],R[1][1]),",",n," ",R[1],"A",H,",",H," 0 0,",p," ",R[0]):C.push("M",Q[0],"A",H,",",H," 0 1,",p," ",R[0])}else C.push("M",s,",",t);if(null!=y){var S=tf([s,t],[y,z],a,-I,n),T=tf([w,x],null==u?[s,t]:[u,v],a,-I,n);o===I?C.push("L",T[0],"A",I,",",I," 0 0,",p," ",T[1],"A",a,",",a," 0 ",n^sf(T[1][0],T[1][1],S[1][0],S[1][1]),",",1-n," ",S[1],"A",I,",",I," 0 0,",p," ",S[0]):C.push("L",T[0],"A",I,",",I," 0 0,",p," ",S[0])}else C.push("L",w,",",x)}else C.push("M",s,",",t),null!=u&&C.push("A",j,",",j," 0 ",D,",",n," ",u,",",v),C.push("L",w,",",x),null!=y&&C.push("A",a,",",a," 0 ",F,",",1-n," ",y,",",z);return C.push("Z"),C.join("")}function b(a,b){return"M0,"+a+"A"+a+","+a+" 0 1,"+b+" 0,"+-a+"A"+a+","+a+" 0 1,"+b+" 0,"+a}var c=nf,d=of,e=mf,f=Ei,g=pf,h=qf,i=rf;return a.innerRadius=function(b){return arguments.length?(c=Ba(b),a):c},a.outerRadius=function(b){return arguments.length?(d=Ba(b),a):d},a.cornerRadius=function(b){return arguments.length?(e=Ba(b),a):e},a.padRadius=function(b){return arguments.length?(f=b==Ei?Ei:Ba(b),a):f},a.startAngle=function(b){return arguments.length?(g=Ba(b),a):g},a.endAngle=function(b){return arguments.length?(h=Ba(b),a):h},a.padAngle=function(b){return arguments.length?(i=Ba(b),a):i},a.centroid=function(){var a=(+c.apply(this,arguments)+ +d.apply(this,arguments))/2,b=(+g.apply(this,arguments)+ +h.apply(this,arguments))/2-Og;return[Math.cos(b)*a,Math.sin(b)*a]},a};var Ei="auto";ig.svg.line=function(){return uf(t)};var Fi=ig.map({linear:vf,"linear-closed":wf,step:xf,"step-before":yf,"step-after":zf,basis:Ff,"basis-open":Gf,"basis-closed":Hf,bundle:If,cardinal:Cf,"cardinal-open":Af,"cardinal-closed":Bf,monotone:Of});Fi.forEach(function(a,b){b.key=a,b.closed=/-closed$/.test(a)});var Gi=[0,2/3,1/3,0],Hi=[0,1/3,2/3,0],Ii=[0,1/6,2/3,1/6];ig.svg.line.radial=function(){var a=uf(Pf);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a},yf.reverse=zf,zf.reverse=yf,ig.svg.area=function(){return Qf(t)},ig.svg.area.radial=function(){var a=Qf(Pf);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a},ig.svg.chord=function(){function a(a,h){var i=b(this,f,a,h),j=b(this,g,a,h);return"M"+i.p0+d(i.r,i.p1,i.a1-i.a0)+(c(i,j)?e(i.r,i.p1,i.r,i.p0):e(i.r,i.p1,j.r,j.p0)+d(j.r,j.p1,j.a1-j.a0)+e(j.r,j.p1,i.r,i.p0))+"Z"}function b(a,b,c,d){var e=b.call(a,c,d),f=h.call(a,e,d),g=i.call(a,e,d)-Og,k=j.call(a,e,d)-Og;return{r:f,a0:g,a1:k,p0:[f*Math.cos(g),f*Math.sin(g)],p1:[f*Math.cos(k),f*Math.sin(k)]}}function c(a,b){return a.a0==b.a0&&a.a1==b.a1}function d(a,b,c){return"A"+a+","+a+" 0 "+ +(c>Lg)+",1 "+b}function e(a,b,c,d){return"Q 0,0 "+d}var f=tc,g=uc,h=Rf,i=pf,j=qf;return a.radius=function(b){return arguments.length?(h=Ba(b),a):h},a.source=function(b){return arguments.length?(f=Ba(b),a):f},a.target=function(b){return arguments.length?(g=Ba(b),a):g},a.startAngle=function(b){return arguments.length?(i=Ba(b),a):i},a.endAngle=function(b){return arguments.length?(j=Ba(b),a):j},a},ig.svg.diagonal=function(){function a(a,e){var f=b.call(this,a,e),g=c.call(this,a,e),h=(f.y+g.y)/2,i=[f,{x:f.x,y:h},{x:g.x,y:h},g];return i=i.map(d),"M"+i[0]+"C"+i[1]+" "+i[2]+" "+i[3]}var b=tc,c=uc,d=Sf;return a.source=function(c){return arguments.length?(b=Ba(c),a):b},a.target=function(b){return arguments.length?(c=Ba(b),a):c},a.projection=function(b){return arguments.length?(d=b,a):d},a},ig.svg.diagonal.radial=function(){var a=ig.svg.diagonal(),b=Sf,c=a.projection;return a.projection=function(a){return arguments.length?c(Tf(b=a)):b},a},ig.svg.symbol=function(){function a(a,d){return(Ji.get(b.call(this,a,d))||Wf)(c.call(this,a,d))}var b=Vf,c=Uf;return a.type=function(c){return arguments.length?(b=Ba(c),a):b},a.size=function(b){return arguments.length?(c=Ba(b),a):c},a};var Ji=ig.map({circle:Wf,cross:function(a){var b=Math.sqrt(a/5)/2;return"M"+-3*b+","+-b+"H"+-b+"V"+-3*b+"H"+b+"V"+-b+"H"+3*b+"V"+b+"H"+b+"V"+3*b+"H"+-b+"V"+b+"H"+-3*b+"Z"},diamond:function(a){var b=Math.sqrt(a/(2*Li)),c=b*Li;return"M0,"+-b+"L"+c+",0 0,"+b+" "+-c+",0Z"},square:function(a){var b=Math.sqrt(a)/2;return"M"+-b+","+-b+"L"+b+","+-b+" "+b+","+b+" "+-b+","+b+"Z"},"triangle-down":function(a){var b=Math.sqrt(a/Ki),c=b*Ki/2;return"M0,"+c+"L"+b+","+-c+" "+-b+","+-c+"Z"},"triangle-up":function(a){var b=Math.sqrt(a/Ki),c=b*Ki/2;return"M0,"+-c+"L"+b+","+c+" "+-b+","+c+"Z"}});ig.svg.symbolTypes=Ji.keys();var Ki=Math.sqrt(3),Li=Math.tan(30*Pg);Bg.transition=function(a){for(var b,c,d=Mi||++Qi,e=_f(a),f=[],g=Ni||{time:Date.now(),ease:Ad,delay:0,duration:250},h=-1,i=this.length;++h<i;){f.push(b=[]);for(var j=this[h],k=-1,l=j.length;++k<l;)(c=j[k])&&ag(c,k,e,d,g),b.push(c)}return Yf(f,e,d)},Bg.interrupt=function(a){return this.each(null==a?Oi:Xf(_f(a)))};var Mi,Ni,Oi=Xf(_f()),Pi=[],Qi=0;Pi.call=Bg.call,Pi.empty=Bg.empty,Pi.node=Bg.node,Pi.size=Bg.size,ig.transition=function(a,b){return a&&a.transition?Mi?a.transition(b):a:ig.selection().transition(a)},ig.transition.prototype=Pi,Pi.select=function(a){var b,c,d,e=this.id,f=this.namespace,g=[];a=D(a);for(var h=-1,i=this.length;++h<i;){g.push(b=[]);for(var j=this[h],k=-1,l=j.length;++k<l;)(d=j[k])&&(c=a.call(d,d.__data__,k,h))?("__data__"in d&&(c.__data__=d.__data__),ag(c,k,f,e,d[f][e]),b.push(c)):b.push(null)}return Yf(g,f,e)},Pi.selectAll=function(a){var b,c,d,e,f,g=this.id,h=this.namespace,i=[];a=E(a);for(var j=-1,k=this.length;++j<k;)for(var l=this[j],m=-1,n=l.length;++m<n;)if(d=l[m]){f=d[h][g],c=a.call(d,d.__data__,m,j),i.push(b=[]);for(var o=-1,p=c.length;++o<p;)(e=c[o])&&ag(e,o,h,g,f),b.push(e)}return Yf(i,h,g)},Pi.filter=function(a){var b,c,d,e=[];"function"!=typeof a&&(a=Q(a));for(var f=0,g=this.length;f<g;f++){e.push(b=[]);for(var c=this[f],h=0,i=c.length;h<i;h++)(d=c[h])&&a.call(d,d.__data__,h,f)&&b.push(d)}return Yf(e,this.namespace,this.id)},Pi.tween=function(a,b){var c=this.id,d=this.namespace;return arguments.length<2?this.node()[d][c].tween.get(a):S(this,null==b?function(b){b[d][c].tween.remove(a)}:function(e){e[d][c].tween.set(a,b)})},Pi.attr=function(a,b){function c(){this.removeAttribute(h)}function d(){this.removeAttributeNS(h.space,h.local)}function e(a){return null==a?c:(a+="",function(){var b,c=this.getAttribute(h);return c!==a&&(b=g(c,a),function(a){this.setAttribute(h,b(a))})})}function f(a){return null==a?d:(a+="",function(){var b,c=this.getAttributeNS(h.space,h.local);return c!==a&&(b=g(c,a),function(a){this.setAttributeNS(h.space,h.local,b(a))})})}if(arguments.length<2){for(b in a)this.attr(b,a[b]);return this}var g="transform"==a?Vd:td,h=ig.ns.qualify(a);return Zf(this,"attr."+a,b,h.local?f:e)},Pi.attrTween=function(a,b){function c(a,c){var d=b.call(this,a,c,this.getAttribute(e));return d&&function(a){this.setAttribute(e,d(a))}}function d(a,c){var d=b.call(this,a,c,this.getAttributeNS(e.space,e.local));return d&&function(a){this.setAttributeNS(e.space,e.local,d(a))}}var e=ig.ns.qualify(a);return this.tween("attr."+a,e.local?d:c)},Pi.style=function(a,b,d){function e(){this.style.removeProperty(a)}function f(b){return null==b?e:(b+="",function(){var e,f=c(this).getComputedStyle(this,null).getPropertyValue(a);return f!==b&&(e=td(f,b),function(b){this.style.setProperty(a,e(b),d)})})}var g=arguments.length;if(g<3){if("string"!=typeof a){g<2&&(b="");for(d in a)this.style(d,a[d],b);return this}d=""}return Zf(this,"style."+a,b,f)},Pi.styleTween=function(a,b,d){function e(e,f){var g=b.call(this,e,f,c(this).getComputedStyle(this,null).getPropertyValue(a));return g&&function(b){this.style.setProperty(a,g(b),d)}}return arguments.length<3&&(d=""),this.tween("style."+a,e)},Pi.text=function(a){return Zf(this,"text",a,$f)},Pi.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var b;this[a].count<2&&(b=this.parentNode)&&b.removeChild(this)})},Pi.ease=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].ease:("function"!=typeof a&&(a=ig.ease.apply(ig,arguments)),S(this,function(d){d[c][b].ease=a}))},Pi.delay=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].delay:S(this,"function"==typeof a?function(d,e,f){d[c][b].delay=+a.call(d,d.__data__,e,f)}:(a=+a,function(d){d[c][b].delay=a}))},Pi.duration=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].duration:S(this,"function"==typeof a?function(d,e,f){d[c][b].duration=Math.max(1,a.call(d,d.__data__,e,f))}:(a=Math.max(1,a),function(d){d[c][b].duration=a}))},Pi.each=function(a,b){var c=this.id,d=this.namespace;if(arguments.length<2){var e=Ni,f=Mi;try{Mi=c,S(this,function(b,e,f){Ni=b[d][c],a.call(b,b.__data__,e,f)})}finally{Ni=e,Mi=f}}else S(this,function(e){var f=e[d][c];(f.event||(f.event=ig.dispatch("start","end","interrupt"))).on(a,b)});return this},Pi.transition=function(){for(var a,b,c,d,e=this.id,f=++Qi,g=this.namespace,h=[],i=0,j=this.length;i<j;i++){h.push(a=[]);for(var b=this[i],k=0,l=b.length;k<l;k++)(c=b[k])&&(d=c[g][e],ag(c,k,g,f,{time:d.time,ease:d.ease,delay:d.delay+d.duration,duration:d.duration})),a.push(c)}return Yf(h,g,f)},ig.svg.axis=function(){function a(a){a.each(function(){var a,j=ig.select(this),k=this.__chart__||c,l=this.__chart__=c.copy(),m=null==i?l.ticks?l.ticks.apply(l,h):l.domain():i,n=null==b?l.tickFormat?l.tickFormat.apply(l,h):t:b,o=j.selectAll(".tick").data(m,l),p=o.enter().insert("g",".domain").attr("class","tick").style("opacity",Jg),q=ig.transition(o.exit()).style("opacity",Jg).remove(),r=ig.transition(o.order()).style("opacity",1),s=Math.max(e,0)+g,u=Se(l),v=j.selectAll(".domain").data([0]),w=(v.enter().append("path").attr("class","domain"),ig.transition(v));p.append("line"),p.append("text");var x,y,z,A,B=p.select("line"),C=r.select("line"),D=o.select("text").text(n),E=p.select("text"),F=r.select("text"),G="top"===d||"left"===d?-1:1;if("bottom"===d||"top"===d?(a=bg,x="x",z="y",y="x2",A="y2",D.attr("dy",G<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+u[0]+","+G*f+"V0H"+u[1]+"V"+G*f)):(a=cg,x="y",z="x",y="y2",A="x2",D.attr("dy",".32em").style("text-anchor",G<0?"end":"start"),w.attr("d","M"+G*f+","+u[0]+"H0V"+u[1]+"H"+G*f)),B.attr(A,G*e),E.attr(z,G*s),C.attr(y,0).attr(A,G*e),F.attr(x,0).attr(z,G*s),l.rangeBand){var H=l,I=H.rangeBand()/2;k=l=function(a){return H(a)+I}}else k.rangeBand?k=l:q.call(a,l,k);p.call(a,k,l),r.call(a,l,l)})}var b,c=ig.scale.linear(),d=Ri,e=6,f=6,g=3,h=[10],i=null;return a.scale=function(b){return arguments.length?(c=b,a):c},a.orient=function(b){return arguments.length?(d=b in Si?b+"":Ri,a):d},a.ticks=function(){return arguments.length?(h=kg(arguments),a):h},a.tickValues=function(b){return arguments.length?(i=b,a):i},a.tickFormat=function(c){return arguments.length?(b=c,a):b},a.tickSize=function(b){var c=arguments.length;return c?(e=+b,f=+arguments[c-1],a):e},a.innerTickSize=function(b){return arguments.length?(e=+b,a):e},a.outerTickSize=function(b){return arguments.length?(f=+b,a):f},a.tickPadding=function(b){return arguments.length?(g=+b,a):g},a.tickSubdivide=function(){return arguments.length&&a},a};var Ri="bottom",Si={top:1,right:1,bottom:1,left:1};ig.svg.brush=function(){function a(c){c.each(function(){var c=ig.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",f).on("touchstart.brush",f),g=c.selectAll(".background").data([0]);g.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),c.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var h=c.selectAll(".resize").data(p,t);h.exit().remove(),h.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return Ti[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),h.style("display",a.empty()?"none":null);var i,l=ig.transition(c),m=ig.transition(g);j&&(i=Se(j),m.attr("x",i[0]).attr("width",i[1]-i[0]),d(l)),k&&(i=Se(k),m.attr("y",i[0]).attr("height",i[1]-i[0]),e(l)),b(l)})}function b(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+l[+/e$/.test(a)]+","+m[+/^s/.test(a)]+")"})}function d(a){a.select(".extent").attr("x",l[0]),a.selectAll(".extent,.n>rect,.s>rect").attr("width",l[1]-l[0])}function e(a){a.select(".extent").attr("y",m[0]),a.selectAll(".extent,.e>rect,.w>rect").attr("height",m[1]-m[0])}function f(){function f(){32==ig.event.keyCode&&(D||(t=null,F[0]-=l[1],F[1]-=m[1],D=2),z())}function p(){32==ig.event.keyCode&&2==D&&(F[0]+=l[1],F[1]+=m[1],D=0,z())}function q(){var a=ig.mouse(v),c=!1;u&&(a[0]+=u[0],a[1]+=u[1]),D||(ig.event.altKey?(t||(t=[(l[0]+l[1])/2,(m[0]+m[1])/2]),F[0]=l[+(a[0]<t[0])],F[1]=m[+(a[1]<t[1])]):t=null),B&&r(a,j,0)&&(d(y),c=!0),C&&r(a,k,1)&&(e(y),c=!0),c&&(b(y),x({type:"brush",mode:D?"move":"resize"}))}function r(a,b,c){var d,e,f=Se(b),i=f[0],j=f[1],k=F[c],p=c?m:l,q=p[1]-p[0];if(D&&(i-=k,j-=q+k),d=(c?o:n)?Math.max(i,Math.min(j,a[c])):a[c],D?e=(d+=k)+q:(t&&(k=Math.max(i,Math.min(j,2*t[c]-d))),k<d?(e=d,d=k):e=k),p[0]!=d||p[1]!=e)return c?h=null:g=null,p[0]=d,p[1]=e,!0}function s(){q(),y.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null),ig.select("body").style("cursor",null),G.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),E(),x({type:"brushend"})}var t,u,v=this,w=ig.select(ig.event.target),x=i.of(v,arguments),y=ig.select(v),A=w.datum(),B=!/^(n|s)$/.test(A)&&j,C=!/^(e|w)$/.test(A)&&k,D=w.classed("extent"),E=Y(v),F=ig.mouse(v),G=ig.select(c(v)).on("keydown.brush",f).on("keyup.brush",p);if(ig.event.changedTouches?G.on("touchmove.brush",q).on("touchend.brush",s):G.on("mousemove.brush",q).on("mouseup.brush",s),y.interrupt().selectAll("*").interrupt(),D)F[0]=l[0]-F[0],F[1]=m[0]-F[1];else if(A){var H=+/w$/.test(A),I=+/^n/.test(A);u=[l[1-H]-F[0],m[1-I]-F[1]],F[0]=l[H],F[1]=m[I]}else ig.event.altKey&&(t=F.slice());y.style("pointer-events","none").selectAll(".resize").style("display",null),ig.select("body").style("cursor",w.style("cursor")),x({type:"brushstart"}),q()}var g,h,i=B(a,"brushstart","brush","brushend"),j=null,k=null,l=[0,0],m=[0,0],n=!0,o=!0,p=Ui[0];return a.event=function(a){a.each(function(){var a=i.of(this,arguments),b={x:l,y:m,i:g,j:h},c=this.__chart__||b;this.__chart__=b,Mi?ig.select(this).transition().each("start.brush",function(){g=c.i,h=c.j,l=c.x,m=c.y,a({type:"brushstart"})}).tween("brush:brush",function(){var c=ud(l,b.x),d=ud(m,b.y);return g=h=null,function(e){l=b.x=c(e),m=b.y=d(e),a({type:"brush",mode:"resize"})}}).each("end.brush",function(){g=b.i,h=b.j,a({type:"brush",mode:"resize"}),a({type:"brushend"})}):(a({type:"brushstart"}),a({type:"brush",mode:"resize"}),a({type:"brushend"}))})},a.x=function(b){return arguments.length?(j=b,p=Ui[!j<<1|!k],a):j},a.y=function(b){return arguments.length?(k=b,p=Ui[!j<<1|!k],a):k},a.clamp=function(b){return arguments.length?(j&&k?(n=!!b[0],o=!!b[1]):j?n=!!b:k&&(o=!!b),a):j&&k?[n,o]:j?n:k?o:null},a.extent=function(b){var c,d,e,f,i;return arguments.length?(j&&(c=b[0],d=b[1],k&&(c=c[0],d=d[0]),g=[c,d],j.invert&&(c=j(c),d=j(d)),d<c&&(i=c,c=d,d=i),c==l[0]&&d==l[1]||(l=[c,d])),k&&(e=b[0],f=b[1],j&&(e=e[1],f=f[1]),h=[e,f],k.invert&&(e=k(e),f=k(f)),f<e&&(i=e,e=f,f=i),e==m[0]&&f==m[1]||(m=[e,f])),a):(j&&(g?(c=g[0],d=g[1]):(c=l[0],d=l[1],j.invert&&(c=j.invert(c),d=j.invert(d)),d<c&&(i=c,c=d,d=i))),k&&(h?(e=h[0],f=h[1]):(e=m[0],f=m[1],k.invert&&(e=k.invert(e),f=k.invert(f)),f<e&&(i=e,e=f,f=i))),j&&k?[[c,e],[d,f]]:j?[c,d]:k&&[e,f])},a.clear=function(){return a.empty()||(l=[0,0],m=[0,0],g=h=null),a},a.empty=function(){return!!j&&l[0]==l[1]||!!k&&m[0]==m[1]},ig.rebind(a,i,"on")};var Ti={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ui=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Vi=mh.format=sh.timeFormat,Wi=Vi.utc,Xi=Wi("%Y-%m-%dT%H:%M:%S.%LZ");Vi.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?dg:Xi,dg.parse=function(a){var b=new Date(a);return isNaN(b)?null:b},dg.toString=Xi.toString,mh.second=Pa(function(a){return new nh(1e3*Math.floor(a/1e3))},function(a,b){a.setTime(a.getTime()+1e3*Math.floor(b))},function(a){return a.getSeconds()}),mh.seconds=mh.second.range,mh.seconds.utc=mh.second.utc.range,mh.minute=Pa(function(a){return new nh(6e4*Math.floor(a/6e4))},function(a,b){a.setTime(a.getTime()+6e4*Math.floor(b))},function(a){return a.getMinutes()}),mh.minutes=mh.minute.range,mh.minutes.utc=mh.minute.utc.range,mh.hour=Pa(function(a){var b=a.getTimezoneOffset()/60;return new nh(36e5*(Math.floor(a/36e5-b)+b))},function(a,b){a.setTime(a.getTime()+36e5*Math.floor(b))},function(a){return a.getHours()}),mh.hours=mh.hour.range,mh.hours.utc=mh.hour.utc.range,mh.month=Pa(function(a){return a=mh.day(a),a.setDate(1),a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()}),mh.months=mh.month.range,mh.months.utc=mh.month.utc.range;var Yi=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Zi=[[mh.second,1],[mh.second,5],[mh.second,15],[mh.second,30],[mh.minute,1],[mh.minute,5],[mh.minute,15],[mh.minute,30],[mh.hour,1],[mh.hour,3],[mh.hour,6],[mh.hour,12],[mh.day,1],[mh.day,2],[mh.week,1],[mh.month,1],[mh.month,3],[mh.year,1]],$i=Vi.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",Eb]]),_i={range:function(a,b,c){return ig.range(Math.ceil(a/c)*c,+b,c).map(fg)},floor:t,ceil:t};Zi.year=mh.year,mh.scale=function(){return eg(ig.scale.linear(),Zi,$i)};var aj=Zi.map(function(a){return[a[0].utc,a[1]]}),bj=Wi.multi([[".%L",function(a){return a.getUTCMilliseconds();
}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],["%Y",Eb]]);aj.year=mh.year.utc,mh.scale.utc=function(){return eg(ig.scale.linear(),aj,bj)},ig.text=Ca(function(a){return a.responseText}),ig.json=function(a,b){return Da(a,"application/json",gg,b)},ig.html=function(a,b){return Da(a,"text/html",hg,b)},ig.xml=Ca(function(a){return a.responseXML}),"function"==typeof define&&define.amd?(this.d3=ig,define(ig)):"object"==typeof b&&b.exports?b.exports=ig:this.d3=ig}()},{}],10:[function(a,b,c){(function(c,d){(function(){"use strict";function e(a){return"function"==typeof a||"object"==typeof a&&null!==a}function f(a){return"function"==typeof a}function g(a){W=a}function h(a){$=a}function i(){return function(){c.nextTick(n)}}function j(){return function(){V(n)}}function k(){var a=0,b=new ba(n),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}function l(){var a=new MessageChannel;return a.port1.onmessage=n,function(){a.port2.postMessage(0)}}function m(){return function(){setTimeout(n,1)}}function n(){for(var a=0;a<Z;a+=2){var b=ea[a],c=ea[a+1];b(c),ea[a]=void 0,ea[a+1]=void 0}Z=0}function o(){try{var b=a,c=b("vertx");return V=c.runOnLoop||c.runOnContext,j()}catch(a){return m()}}function p(a,b){var c=this,d=new this.constructor(r);void 0===d[ha]&&K(d);var e=c._state;if(e){var f=arguments[e-1];$(function(){H(e,d,f,c._result)})}else D(c,d,a,b);return d}function q(a){var b=this;if(a&&"object"==typeof a&&a.constructor===b)return a;var c=new b(r);return z(c,a),c}function r(){}function s(){return new TypeError("You cannot resolve a promise with itself")}function t(){return new TypeError("A promises callback cannot return that same promise.")}function u(a){try{return a.then}catch(a){return la.error=a,la}}function v(a,b,c,d){try{a.call(b,c,d)}catch(a){return a}}function w(a,b,c){$(function(a){var d=!1,e=v(c,b,function(c){d||(d=!0,b!==c?z(a,c):B(a,c))},function(b){d||(d=!0,C(a,b))},"Settle: "+(a._label||" unknown promise"));!d&&e&&(d=!0,C(a,e))},a)}function x(a,b){b._state===ja?B(a,b._result):b._state===ka?C(a,b._result):D(b,void 0,function(b){z(a,b)},function(b){C(a,b)})}function y(a,b,c){b.constructor===a.constructor&&c===fa&&constructor.resolve===ga?x(a,b):c===la?C(a,la.error):void 0===c?B(a,b):f(c)?w(a,b,c):B(a,b)}function z(a,b){a===b?C(a,s()):e(b)?y(a,b,u(b)):B(a,b)}function A(a){a._onerror&&a._onerror(a._result),E(a)}function B(a,b){a._state===ia&&(a._result=b,a._state=ja,0!==a._subscribers.length&&$(E,a))}function C(a,b){a._state===ia&&(a._state=ka,a._result=b,$(A,a))}function D(a,b,c,d){var e=a._subscribers,f=e.length;a._onerror=null,e[f]=b,e[f+ja]=c,e[f+ka]=d,0===f&&a._state&&$(E,a)}function E(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d,e,f=a._result,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?H(c,d,e,f):e(f);a._subscribers.length=0}}function F(){this.error=null}function G(a,b){try{return a(b)}catch(a){return ma.error=a,ma}}function H(a,b,c,d){var e,g,h,i,j=f(c);if(j){if(e=G(c,d),e===ma?(i=!0,g=e.error,e=null):h=!0,b===e)return void C(b,t())}else e=d,h=!0;b._state!==ia||(j&&h?z(b,e):i?C(b,g):a===ja?B(b,e):a===ka&&C(b,e))}function I(a,b){try{b(function(b){z(a,b)},function(b){C(a,b)})}catch(b){C(a,b)}}function J(){return na++}function K(a){a[ha]=na++,a._state=void 0,a._result=void 0,a._subscribers=[]}function L(a){return new sa(this,a).promise}function M(a){var b=this;return new b(Y(a)?function(c,d){for(var e=a.length,f=0;f<e;f++)b.resolve(a[f]).then(c,d)}:function(a,b){b(new TypeError("You must pass an array to race."))})}function N(a){var b=this,c=new b(r);return C(c,a),c}function O(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function P(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function Q(a){this[ha]=J(),this._result=this._state=void 0,this._subscribers=[],r!==a&&("function"!=typeof a&&O(),this instanceof Q?I(this,a):P())}function R(a,b){this._instanceConstructor=a,this.promise=new a(r),this.promise[ha]||K(this.promise),Y(b)?(this._input=b,this.length=b.length,this._remaining=b.length,this._result=new Array(this.length),0===this.length?B(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&B(this.promise,this._result))):C(this.promise,S())}function S(){return new Error("Array Methods must be provided an Array")}function T(){var a;if("undefined"!=typeof d)a=d;else if("undefined"!=typeof self)a=self;else try{a=Function("return this")()}catch(a){throw new Error("polyfill failed because global object is unavailable in this environment")}var b=a.Promise;b&&"[object Promise]"===Object.prototype.toString.call(b.resolve())&&!b.cast||(a.Promise=ra)}var U;U=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};var V,W,X,Y=U,Z=0,$=function(a,b){ea[Z]=a,ea[Z+1]=b,Z+=2,2===Z&&(W?W(n):X())},_="undefined"!=typeof window?window:void 0,aa=_||{},ba=aa.MutationObserver||aa.WebKitMutationObserver,ca="undefined"==typeof self&&"undefined"!=typeof c&&"[object process]"==={}.toString.call(c),da="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ea=new Array(1e3);X=ca?i():ba?k():da?l():void 0===_&&"function"==typeof a?o():m();var fa=p,ga=q,ha=Math.random().toString(36).substring(16),ia=void 0,ja=1,ka=2,la=new F,ma=new F,na=0,oa=L,pa=M,qa=N,ra=Q;Q.all=oa,Q.race=pa,Q.resolve=ga,Q.reject=qa,Q._setScheduler=g,Q._setAsap=h,Q._asap=$,Q.prototype={constructor:Q,then:fa,catch:function(a){return this.then(null,a)}};var sa=R;R.prototype._enumerate=function(){for(var a=this.length,b=this._input,c=0;this._state===ia&&c<a;c++)this._eachEntry(b[c],c)},R.prototype._eachEntry=function(a,b){var c=this._instanceConstructor,d=c.resolve;if(d===ga){var e=u(a);if(e===fa&&a._state!==ia)this._settledAt(a._state,b,a._result);else if("function"!=typeof e)this._remaining--,this._result[b]=a;else if(c===ra){var f=new c(r);y(f,a,e),this._willSettleAt(f,b)}else this._willSettleAt(new c(function(b){b(a)}),b)}else this._willSettleAt(d(a),b)},R.prototype._settledAt=function(a,b,c){var d=this.promise;d._state===ia&&(this._remaining--,a===ka?C(d,c):this._result[b]=c),0===this._remaining&&B(d,this._result)},R.prototype._willSettleAt=function(a,b){var c=this;D(a,void 0,function(a){c._settledAt(ja,b,a)},function(a){c._settledAt(ka,b,a)})};var ta=T,ua={Promise:ra,polyfill:ta};"function"==typeof define&&define.amd?define(function(){return ua}):"undefined"!=typeof b&&b.exports?b.exports=ua:"undefined"!=typeof this&&(this.ES6Promise=ua),ta()}).call(this)}).call(this,a("FWaASH"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{FWaASH:3}],11:[function(a,b,c){"use strict";function d(a){for(var b,c=a.length,d=0;d<c;d++)if(b=a.charCodeAt(d),(b<9||b>13)&&32!==b&&133!==b&&160!==b&&5760!==b&&6158!==b&&(b<8192||b>8205)&&8232!==b&&8233!==b&&8239!==b&&8287!==b&&8288!==b&&12288!==b&&65279!==b)return!1;return!0}b.exports=function(a){var b=typeof a;if("string"===b){var c=a;if(a=+a,0===a&&d(c))return!1}else if("number"!==b)return!1;return a-a<1}},{}],12:[function(a,b,c){function d(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c+c,h=d+d,i=e+e,j=c*g,k=d*g,l=d*h,m=e*g,n=e*h,o=e*i,p=f*g,q=f*h,r=f*i;return a[0]=1-l-o,a[1]=k+r,a[2]=m-q,a[3]=0,a[4]=k-r,a[5]=1-j-o,a[6]=n+p,a[7]=0,a[8]=m+q,a[9]=n-p,a[10]=1-j-l,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}b.exports=d},{}],13:[function(a,b,c){!function(a){function c(a,b){if(a=a?a:"",b=b||{},a instanceof c)return a;if(!(this instanceof c))return new c(a,b);var e=d(a);this._originalInput=a,this._r=e.r,this._g=e.g,this._b=e.b,this._a=e.a,this._roundA=Q(100*this._a)/100,this._format=b.format||e.format,this._gradientType=b.gradientType,this._r<1&&(this._r=Q(this._r)),this._g<1&&(this._g=Q(this._g)),this._b<1&&(this._b=Q(this._b)),this._ok=e.ok,this._tc_id=P++}function d(a){var b={r:0,g:0,b:0},c=1,d=null,f=null,h=null,j=!1,k=!1;return"string"==typeof a&&(a=L(a)),"object"==typeof a&&(K(a.r)&&K(a.g)&&K(a.b)?(b=e(a.r,a.g,a.b),j=!0,k="%"===String(a.r).substr(-1)?"prgb":"rgb"):K(a.h)&&K(a.s)&&K(a.v)?(d=H(a.s),f=H(a.v),b=i(a.h,d,f),j=!0,k="hsv"):K(a.h)&&K(a.s)&&K(a.l)&&(d=H(a.s),h=H(a.l),b=g(a.h,d,h),j=!0,k="hsl"),a.hasOwnProperty("a")&&(c=a.a)),c=A(c),{ok:j,format:a.format||k,r:R(255,S(b.r,0)),g:R(255,S(b.g,0)),b:R(255,S(b.b,0)),a:c}}function e(a,b,c){return{r:255*B(a,255),g:255*B(b,255),b:255*B(c,255)}}function f(a,b,c){a=B(a,255),b=B(b,255),c=B(c,255);var d,e,f=S(a,b,c),g=R(a,b,c),h=(f+g)/2;if(f==g)d=e=0;else{var i=f-g;switch(e=h>.5?i/(2-f-g):i/(f+g),f){case a:d=(b-c)/i+(b<c?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return{h:d,s:e,l:h}}function g(a,b,c){function d(a,b,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?a+6*(b-a)*c:c<.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a}var e,f,g;if(a=B(a,360),b=B(b,100),c=B(c,100),0===b)e=f=g=c;else{var h=c<.5?c*(1+b):c+b-c*b,i=2*c-h;e=d(i,h,a+1/3),f=d(i,h,a),g=d(i,h,a-1/3)}return{r:255*e,g:255*f,b:255*g}}function h(a,b,c){a=B(a,255),b=B(b,255),c=B(c,255);var d,e,f=S(a,b,c),g=R(a,b,c),h=f,i=f-g;if(e=0===f?0:i/f,f==g)d=0;else{switch(f){case a:d=(b-c)/i+(b<c?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return{h:d,s:e,v:h}}function i(b,c,d){b=6*B(b,360),c=B(c,100),d=B(d,100);var e=a.floor(b),f=b-e,g=d*(1-c),h=d*(1-f*c),i=d*(1-(1-f)*c),j=e%6,k=[d,h,g,g,i,d][j],l=[i,d,d,h,g,g][j],m=[g,g,i,d,d,h][j];return{r:255*k,g:255*l,b:255*m}}function j(a,b,c,d){var e=[G(Q(a).toString(16)),G(Q(b).toString(16)),G(Q(c).toString(16))];return d&&e[0].charAt(0)==e[0].charAt(1)&&e[1].charAt(0)==e[1].charAt(1)&&e[2].charAt(0)==e[2].charAt(1)?e[0].charAt(0)+e[1].charAt(0)+e[2].charAt(0):e.join("")}function k(a,b,c,d,e){var f=[G(Q(a).toString(16)),G(Q(b).toString(16)),G(Q(c).toString(16)),G(I(d))];return e&&f[0].charAt(0)==f[0].charAt(1)&&f[1].charAt(0)==f[1].charAt(1)&&f[2].charAt(0)==f[2].charAt(1)&&f[3].charAt(0)==f[3].charAt(1)?f[0].charAt(0)+f[1].charAt(0)+f[2].charAt(0)+f[3].charAt(0):f.join("")}function l(a,b,c,d){var e=[G(I(d)),G(Q(a).toString(16)),G(Q(b).toString(16)),G(Q(c).toString(16))];return e.join("")}function m(a,b){b=0===b?0:b||10;var d=c(a).toHsl();return d.s-=b/100,d.s=C(d.s),c(d)}function n(a,b){b=0===b?0:b||10;var d=c(a).toHsl();return d.s+=b/100,d.s=C(d.s),c(d)}function o(a){return c(a).desaturate(100)}function p(a,b){b=0===b?0:b||10;var d=c(a).toHsl();return d.l+=b/100,d.l=C(d.l),c(d)}function q(a,b){b=0===b?0:b||10;var d=c(a).toRgb();return d.r=S(0,R(255,d.r-Q(255*-(b/100)))),d.g=S(0,R(255,d.g-Q(255*-(b/100)))),d.b=S(0,R(255,d.b-Q(255*-(b/100)))),c(d)}function r(a,b){b=0===b?0:b||10;var d=c(a).toHsl();return d.l-=b/100,d.l=C(d.l),c(d)}function s(a,b){var d=c(a).toHsl(),e=(d.h+b)%360;return d.h=e<0?360+e:e,c(d)}function t(a){var b=c(a).toHsl();return b.h=(b.h+180)%360,c(b)}function u(a){var b=c(a).toHsl(),d=b.h;return[c(a),c({h:(d+120)%360,s:b.s,l:b.l}),c({h:(d+240)%360,s:b.s,l:b.l})]}function v(a){var b=c(a).toHsl(),d=b.h;return[c(a),c({h:(d+90)%360,s:b.s,l:b.l}),c({h:(d+180)%360,s:b.s,l:b.l}),c({h:(d+270)%360,s:b.s,l:b.l})]}function w(a){var b=c(a).toHsl(),d=b.h;return[c(a),c({h:(d+72)%360,s:b.s,l:b.l}),c({h:(d+216)%360,s:b.s,l:b.l})]}function x(a,b,d){b=b||6,d=d||30;var e=c(a).toHsl(),f=360/d,g=[c(a)];for(e.h=(e.h-(f*b>>1)+720)%360;--b;)e.h=(e.h+f)%360,g.push(c(e));return g}function y(a,b){b=b||6;for(var d=c(a).toHsv(),e=d.h,f=d.s,g=d.v,h=[],i=1/b;b--;)h.push(c({h:e,s:f,v:g})),g=(g+i)%1;return h}function z(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}function A(a){return a=parseFloat(a),(isNaN(a)||a<0||a>1)&&(a=1),a}function B(b,c){E(b)&&(b="100%");var d=F(b);return b=R(c,S(0,parseFloat(b))),d&&(b=parseInt(b*c,10)/100),a.abs(b-c)<1e-6?1:b%c/parseFloat(c)}function C(a){return R(1,S(0,a))}function D(a){return parseInt(a,16)}function E(a){return"string"==typeof a&&a.indexOf(".")!=-1&&1===parseFloat(a)}function F(a){return"string"==typeof a&&a.indexOf("%")!=-1}function G(a){return 1==a.length?"0"+a:""+a}function H(a){return a<=1&&(a=100*a+"%"),a}function I(b){return a.round(255*parseFloat(b)).toString(16)}function J(a){return D(a)/255}function K(a){return!!W.CSS_UNIT.exec(a)}function L(a){a=a.replace(N,"").replace(O,"").toLowerCase();var b=!1;if(U[a])a=U[a],b=!0;else if("transparent"==a)return{r:0,g:0,b:0,a:0,format:"name"};var c;return(c=W.rgb.exec(a))?{r:c[1],g:c[2],b:c[3]}:(c=W.rgba.exec(a))?{r:c[1],g:c[2],b:c[3],a:c[4]}:(c=W.hsl.exec(a))?{h:c[1],s:c[2],l:c[3]}:(c=W.hsla.exec(a))?{h:c[1],s:c[2],l:c[3],a:c[4]}:(c=W.hsv.exec(a))?{h:c[1],s:c[2],v:c[3]}:(c=W.hsva.exec(a))?{h:c[1],s:c[2],v:c[3],a:c[4]}:(c=W.hex8.exec(a))?{r:D(c[1]),g:D(c[2]),b:D(c[3]),a:J(c[4]),format:b?"name":"hex8"}:(c=W.hex6.exec(a))?{r:D(c[1]),g:D(c[2]),b:D(c[3]),format:b?"name":"hex"}:(c=W.hex4.exec(a))?{r:D(c[1]+""+c[1]),g:D(c[2]+""+c[2]),b:D(c[3]+""+c[3]),a:J(c[4]+""+c[4]),format:b?"name":"hex8"}:!!(c=W.hex3.exec(a))&&{r:D(c[1]+""+c[1]),g:D(c[2]+""+c[2]),b:D(c[3]+""+c[3]),format:b?"name":"hex"}}function M(a){var b,c;return a=a||{level:"AA",size:"small"},b=(a.level||"AA").toUpperCase(),c=(a.size||"small").toLowerCase(),"AA"!==b&&"AAA"!==b&&(b="AA"),"small"!==c&&"large"!==c&&(c="small"),{level:b,size:c}}var N=/^\s+/,O=/\s+$/,P=0,Q=a.round,R=a.min,S=a.max,T=a.random;c.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var a=this.toRgb();return(299*a.r+587*a.g+114*a.b)/1e3},getLuminance:function(){var b,c,d,e,f,g,h=this.toRgb();return b=h.r/255,c=h.g/255,d=h.b/255,e=b<=.03928?b/12.92:a.pow((b+.055)/1.055,2.4),f=c<=.03928?c/12.92:a.pow((c+.055)/1.055,2.4),g=d<=.03928?d/12.92:a.pow((d+.055)/1.055,2.4),.2126*e+.7152*f+.0722*g},setAlpha:function(a){return this._a=A(a),this._roundA=Q(100*this._a)/100,this},toHsv:function(){var a=h(this._r,this._g,this._b);return{h:360*a.h,s:a.s,v:a.v,a:this._a}},toHsvString:function(){var a=h(this._r,this._g,this._b),b=Q(360*a.h),c=Q(100*a.s),d=Q(100*a.v);return 1==this._a?"hsv("+b+", "+c+"%, "+d+"%)":"hsva("+b+", "+c+"%, "+d+"%, "+this._roundA+")"},toHsl:function(){var a=f(this._r,this._g,this._b);return{h:360*a.h,s:a.s,l:a.l,a:this._a}},toHslString:function(){var a=f(this._r,this._g,this._b),b=Q(360*a.h),c=Q(100*a.s),d=Q(100*a.l);return 1==this._a?"hsl("+b+", "+c+"%, "+d+"%)":"hsla("+b+", "+c+"%, "+d+"%, "+this._roundA+")"},toHex:function(a){return j(this._r,this._g,this._b,a)},toHexString:function(a){return"#"+this.toHex(a)},toHex8:function(a){return k(this._r,this._g,this._b,this._a,a)},toHex8String:function(a){return"#"+this.toHex8(a)},toRgb:function(){return{r:Q(this._r),g:Q(this._g),b:Q(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Q(this._r)+", "+Q(this._g)+", "+Q(this._b)+")":"rgba("+Q(this._r)+", "+Q(this._g)+", "+Q(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Q(100*B(this._r,255))+"%",g:Q(100*B(this._g,255))+"%",b:Q(100*B(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Q(100*B(this._r,255))+"%, "+Q(100*B(this._g,255))+"%, "+Q(100*B(this._b,255))+"%)":"rgba("+Q(100*B(this._r,255))+"%, "+Q(100*B(this._g,255))+"%, "+Q(100*B(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(V[j(this._r,this._g,this._b,!0)]||!1)},toFilter:function(a){var b="#"+l(this._r,this._g,this._b,this._a),d=b,e=this._gradientType?"GradientType = 1, ":"";if(a){var f=c(a);d="#"+l(f._r,f._g,f._b,f._a)}return"progid:DXImageTransform.Microsoft.gradient("+e+"startColorstr="+b+",endColorstr="+d+")"},toString:function(a){var b=!!a;a=a||this._format;var c=!1,d=this._a<1&&this._a>=0,e=!b&&d&&("hex"===a||"hex6"===a||"hex3"===a||"hex4"===a||"hex8"===a||"name"===a);return e?"name"===a&&0===this._a?this.toName():this.toRgbString():("rgb"===a&&(c=this.toRgbString()),"prgb"===a&&(c=this.toPercentageRgbString()),"hex"!==a&&"hex6"!==a||(c=this.toHexString()),"hex3"===a&&(c=this.toHexString(!0)),"hex4"===a&&(c=this.toHex8String(!0)),"hex8"===a&&(c=this.toHex8String()),"name"===a&&(c=this.toName()),"hsl"===a&&(c=this.toHslString()),"hsv"===a&&(c=this.toHsvString()),c||this.toHexString())},clone:function(){return c(this.toString())},_applyModification:function(a,b){var c=a.apply(null,[this].concat([].slice.call(b)));return this._r=c._r,this._g=c._g,this._b=c._b,this.setAlpha(c._a),this},lighten:function(){return this._applyModification(p,arguments)},brighten:function(){return this._applyModification(q,arguments)},darken:function(){return this._applyModification(r,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(n,arguments)},greyscale:function(){return this._applyModification(o,arguments)},spin:function(){return this._applyModification(s,arguments)},_applyCombination:function(a,b){return a.apply(null,[this].concat([].slice.call(b)))},analogous:function(){return this._applyCombination(x,arguments)},complement:function(){return this._applyCombination(t,arguments)},monochromatic:function(){return this._applyCombination(y,arguments)},splitcomplement:function(){return this._applyCombination(w,arguments)},triad:function(){return this._applyCombination(u,arguments)},tetrad:function(){return this._applyCombination(v,arguments)}},c.fromRatio=function(a,b){if("object"==typeof a){var d={};for(var e in a)a.hasOwnProperty(e)&&("a"===e?d[e]=a[e]:d[e]=H(a[e]));a=d}return c(a,b)},c.equals=function(a,b){return!(!a||!b)&&c(a).toRgbString()==c(b).toRgbString()},c.random=function(){return c.fromRatio({r:T(),g:T(),b:T()})},c.mix=function(a,b,d){d=0===d?0:d||50;var e=c(a).toRgb(),f=c(b).toRgb(),g=d/100,h={r:(f.r-e.r)*g+e.r,g:(f.g-e.g)*g+e.g,b:(f.b-e.b)*g+e.b,a:(f.a-e.a)*g+e.a};return c(h)},c.readability=function(b,d){var e=c(b),f=c(d);return(a.max(e.getLuminance(),f.getLuminance())+.05)/(a.min(e.getLuminance(),f.getLuminance())+.05)},c.isReadable=function(a,b,d){var e,f,g=c.readability(a,b);switch(f=!1,e=M(d),e.level+e.size){case"AAsmall":case"AAAlarge":f=g>=4.5;break;case"AAlarge":f=g>=3;break;case"AAAsmall":f=g>=7}return f},c.mostReadable=function(a,b,d){var e,f,g,h,i=null,j=0;d=d||{},f=d.includeFallbackColors,g=d.level,h=d.size;for(var k=0;k<b.length;k++)e=c.readability(a,b[k]),e>j&&(j=e,i=c(b[k]));return c.isReadable(a,i,{level:g,size:h})||!f?i:(d.includeFallbackColors=!1,c.mostReadable(a,["#fff","#000"],d))};var U=c.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},V=c.hexNames=z(U),W=function(){var a="[-\\+]?\\d+%?",b="[-\\+]?\\d*\\.\\d+%?",c="(?:"+b+")|(?:"+a+")",d="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?",e="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?";return{CSS_UNIT:new RegExp(c),rgb:new RegExp("rgb"+d),rgba:new RegExp("rgba"+e),hsl:new RegExp("hsl"+d),hsla:new RegExp("hsla"+e),hsv:new RegExp("hsv"+d),hsva:new RegExp("hsva"+e),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof b&&b.exports?b.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):window.tinycolor=c}(Math)},{}],14:[function(a,b,c){"use strict";b.exports=["",{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0},{path:"M2,2V-2H-2V2Z",backoff:0}]},{}],15:[function(a,b,c){"use strict";var d=a("./arrow_paths"),e=a("../../plots/font_attributes"),f=a("../../plots/cartesian/constants"),g=a("../../lib/extend").extendFlat;b.exports={_isLinkedToArray:!0,text:{valType:"string",role:"info",description:["Sets the text associated with this annotation.","Plotly uses a subset of HTML tags to do things like","newline (<br>), bold (<b></b>), italics (<i></i>),","hyperlinks (<a href='...'></a>). Tags <em>, <sup>, <sub>","<span> are also supported."].join(" ")},textangle:{valType:"angle",dflt:0,role:"style",description:["Sets the angle at which the `text` is drawn","with respect to the horizontal."].join(" ")},font:g({},e,{description:"Sets the annotation text font."}),opacity:{valType:"number",min:0,max:1,dflt:1,role:"style",description:"Sets the opacity of the annotation (text + arrow)."},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",role:"style",description:["Sets the vertical alignment of the `text` with","respect to the set `x` and `y` position.","Has only an effect if `text` spans more two or more lines","(i.e. `text` contains one or more <br> HTML tags)."].join(" ")},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"style",description:"Sets the background color of the annotation."},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"style",description:["Sets the color of the border enclosing the annotation `text`."].join(" ")},borderpad:{valType:"number",min:0,dflt:1,role:"style",description:["Sets the padding (in px) between the `text`","and the enclosing border."].join(" ")},borderwidth:{valType:"number",min:0,dflt:1,role:"style",description:["Sets the width (in px) of the border enclosing","the annotation `text`."].join(" ")},showarrow:{valType:"boolean",dflt:!0,role:"style",description:["Determines whether or not the annotation is drawn with an arrow.","If *true*, `text` is placed near the arrow's tail.","If *false*, `text` lines up with the `x` and `y` provided."].join(" ")},arrowcolor:{valType:"color",role:"style",description:"Sets the color of the annotation arrow."},arrowhead:{valType:"integer",min:0,max:d.length,dflt:1,role:"style",description:"Sets the annotation arrow head style."},arrowsize:{valType:"number",min:.3,dflt:1,role:"style",description:"Sets the size (in px) of annotation arrow head."},arrowwidth:{valType:"number",min:.1,role:"style",description:"Sets the width (in px) of annotation arrow."},ax:{valType:"number",dflt:-10,role:"info",description:["Sets the x component of the arrow tail about the arrow head.","If `axref` is `pixel`, a positive (negative) ","component corresponds to an arrow pointing","from right to left (left to right).","If `axref` is an axis, this is a value on that axis."].join(" ")},ay:{valType:"number",dflt:-30,role:"info",description:["Sets the y component of the arrow tail about the arrow head.","If `ayref` is `pixel`, a positive (negative) ","component corresponds to an arrow pointing","from bottom to top (top to bottom).","If `ayref` is an axis, this is a value on that axis."].join(" ")},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",f.idRegex.x.toString()],role:"info",description:["Indicates in what terms the tail of the annotation (ax,ay) ","is specified. If `pixel`, `ax` is a relative offset in pixels ","from `x`. If set to an x axis id (e.g. *x* or *x2*), `ax` is ","specified in the same terms as that axis. This is useful ","for trendline annotations which should continue to indicate ","the correct trend when zoomed."].join(" ")},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",f.idRegex.y.toString()],role:"info",description:["Indicates in what terms the tail of the annotation (ax,ay) ","is specified. If `pixel`, `ay` is a relative offset in pixels ","from `y`. If set to a y axis id (e.g. *y* or *y2*), `ay` is ","specified in the same terms as that axis. This is useful ","for trendline annotations which should continue to indicate ","the correct trend when zoomed."].join(" ")},xref:{valType:"enumerated",values:["paper",f.idRegex.x.toString()],role:"info",description:["Sets the annotation's x coordinate axis.","If set to an x axis id (e.g. *x* or *x2*), the `x` position","refers to an x coordinate","If set to *paper*, the `x` position refers to the distance from","the left side of the plotting area in normalized coordinates","where 0 (1) corresponds to the left (right) side."].join(" ")},x:{valType:"number",role:"info",description:["Sets the annotation's x position.","Note that dates and categories are converted to numbers."].join(" ")},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",role:"info",description:["Sets the annotation's horizontal position anchor","This anchor binds the `x` position to the *left*, *center*","or *right* of the annotation.","For example, if `x` is set to 1, `xref` to *paper* and","`xanchor` to *right* then the right-most portion of the","annotation lines up with the right-most edge of the","plotting area.","If *auto*, the anchor is equivalent to *center* for","data-referenced annotations","whereas for paper-referenced, the anchor picked corresponds","to the closest side."].join(" ")},yref:{valType:"enumerated",values:["paper",f.idRegex.y.toString()],role:"info",description:["Sets the annotation's y coordinate axis.","If set to an y axis id (e.g. *y* or *y2*), the `y` position","refers to an y coordinate","If set to *paper*, the `y` position refers to the distance from","the bottom of the plotting area in normalized coordinates","where 0 (1) corresponds to the bottom (top)."].join(" ")},y:{valType:"number",role:"info",description:["Sets the annotation's y position.","Note that dates and categories are converted to numbers."].join(" ")},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",role:"info",description:["Sets the annotation's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the annotation.","For example, if `y` is set to 1, `yref` to *paper* and","`yanchor` to *top* then the top-most portion of the","annotation lines up with the top-most edge of the","plotting area.","If *auto*, the anchor is equivalent to *middle* for","data-referenced annotations","whereas for paper-referenced, the anchor picked corresponds","to the closest side."].join(" ")},_deprecated:{ref:{valType:"string",role:"info",description:["Obsolete. Set `xref` and `yref` separately instead."].join(" ")}}}},{"../../lib/extend":94,"../../plots/cartesian/constants":121,"../../plots/font_attributes":134,"./arrow_paths":14}],16:[function(a,b,c){"use strict";function d(a,b){function c(b,c){return j.coerce(a,d,q.layoutAttributes,b,c)}var d={};c("opacity"),c("align"),c("bgcolor");var e=c("bordercolor"),f=l.opacity(e);c("borderpad");var g=c("borderwidth"),h=c("showarrow");h&&(c("arrowcolor",f?d.bordercolor:l.defaultLine),c("arrowhead"),c("arrowsize"),c("arrowwidth",2*(f&&g||1)),c("ax"),c("ay"),c("axref"),c("ayref"),j.noneOrAll(a,d,["ax","ay"])),c("text",h?"&nbsp;":"new text"),c("textangle"),j.coerceFont(c,"font",b.font);for(var i=["x","y"],m=0;m<2;m++){var n=i[m],o={_fullLayout:b},p=k.coerceRef(a,d,o,n),r=k.coerceARef(a,d,o,n),s=.5;if("paper"!==p){var t=k.getFromId(o,p);if(s=t.range[0]+s*(t.range[1]-t.range[0]),["date","category"].indexOf(t.type)!==-1&&"string"==typeof a[n]){var u;if("date"===t.type){if(u=j.dateTime2ms(a[n]),u!==!1&&(a[n]=u),r===p){var v=j.dateTime2ms(a["a"+n]);v!==!1&&(a["a"+n]=v)}}else(t._categories||[]).length&&(u=t._categories.indexOf(a[n]),u!==-1&&(a[n]=u))}}c(n,s),h||c(n+"anchor")}return j.noneOrAll(a,d,["x","y"]),d}function e(a){var b=a._fullLayout;b.annotations.forEach(function(b){var c=k.getFromId(a,b.xref),d=k.getFromId(a,b.yref);if(c||d){var e=(b._xsize||0)/2,f=b._xshift||0,g=(b._ysize||0)/2,h=b._yshift||0,i=e-f,j=e+f,l=g-h,m=g+h;if(b.showarrow){var n=3*b.arrowsize*b.arrowwidth;i=Math.max(i,n),j=Math.max(j,n),l=Math.max(l,n),m=Math.max(m,n)}c&&c.autorange&&k.expand(c,[c.l2c(b.x)],{ppadplus:j,ppadminus:i}),d&&d.autorange&&k.expand(d,[d.l2c(b.y)],{ppadplus:m,ppadminus:l})}})}function f(a,b,c,d,e,f,g,h){var i=c-a,j=e-a,k=g-e,l=d-b,m=f-b,n=h-f,o=i*n-k*l;if(0===o)return null;var p=(j*n-k*m)/o,q=(j*l-i*m)/o;return q<0||q>1||p<0||p>1?null:{x:a+i*p,y:b+l*p}}var g=a("d3"),h=a("fast-isnumeric"),i=a("../../plotly"),j=a("../../lib"),k=a("../../plots/cartesian/axes"),l=a("../color"),m=a("../drawing"),n=a("../../lib/svg_text_utils"),o=a("../../lib/setcursor"),p=a("../dragelement"),q=b.exports={};q.ARROWPATHS=a("./arrow_paths"),q.layoutAttributes=a("./attributes"),q.supplyLayoutDefaults=function(a,b){for(var c=a.annotations||[],e=b.annotations=[],f=0;f<c.length;f++)e.push(d(c[f]||{},b))},q.drawAll=function(a){var b=a._fullLayout;b._infolayer.selectAll(".annotation").remove();for(var c=0;c<b.annotations.length;c++)q.draw(a,c);return i.Plots.previousPromises(a)},q.add=function(a){var b=a._fullLayout.annotations.length;i.relayout(a,"annotations["+b+"]","add")},q.draw=function(a,b,c,e){function r(a){return a.call(m.font,_).attr({"text-anchor":{left:"start",right:"end"}[P.align]||"middle"}),n.convertToTspans(a,s),a;
}function s(){function c(a,b){return"auto"===b&&(b=a<1/3?"left":a>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[b]}aa.selectAll("tspan.line").attr({y:0,x:0});var d=W.select(".annotation-math-group"),e=!d.empty(),h=m.bBox((e?d:aa).node()),n=h.width,r=h.height,s=Math.round(n+2*Z),t=Math.round(r+2*Z);P._w=n,P._h=r;var u=!1;if(["x","y"].forEach(function(b){var d,e=P[b+"ref"]||b,f=k.getFromId(a,e),g=(T+("x"===b?0:90))*Math.PI/180,h=s*Math.abs(Math.cos(g))+t*Math.abs(Math.sin(g)),i=P[b+"anchor"];if(f){if(!f.autorange&&(P[b]-f.range[0])*(P[b]-f.range[1])>0&&(P["a"+b+"ref"]===e?(P["a"+b]-f.range[0])*(P["a"+b]-f.range[1])>0&&(u=!0):u=!0,u))return;S[b]=f._offset+f.l2p(P[b]),d=.5}else d=P[b],"y"===b&&(d=1-d),S[b]="x"===b?D.l+D.w*d:D.t+D.h*d;var j=0;P["a"+b+"ref"]===e?S["aa"+b]=f._offset+f.l2p(P["a"+b]):(j=P.showarrow?P["a"+b]:h*c(d,i),S[b]+=j),P["_"+b+"type"]=f&&f.type,P["_"+b+"size"]=h,P["_"+b+"shift"]=j}),u)return void W.remove();var w,x;P.showarrow&&(w=P.axref===P.xref?S.x:j.constrain(S.x-P.ax,1,v.width-1),x=P.ayref===P.yref?S.y:j.constrain(S.y-P.ay,1,v.height-1)),S.x=j.constrain(S.x,1,v.width-1),S.y=j.constrain(S.y,1,v.height-1);var y=Z-h.top,z=Z-h.left;e?d.select("svg").attr({x:Z-1,y:Z}):(aa.attr({x:z,y:y}),aa.selectAll("tspan.line").attr({y:y,x:z})),$.call(m.setRect,X/2,X/2,s-X,t-X);var A=0,B=0;A=P.axref===P.xref?Math.round(S.aax-s/2):Math.round(S.x-s/2),B=P.ayref===P.yref?Math.round(S.aay-t/2):Math.round(S.y-t/2),W.call(j.setTranslate,A,B);var C="annotations["+b+"]",E=function(c,d){g.select(a).selectAll('.annotation-arrow-g[data-index="'+b+'"]').remove();var e,h;e=P.axref===P.xref?S.aax+c:S.x+c,h=P.ayref===P.yref?S.aay+d:S.y+d;var k=j.rotationXYMatrix(T,e,h),m=j.apply2DTransform(k),n=j.apply2DTransform2(k),o=$.attr("width")/2,r=$.attr("height")/2,s=[[e-o,h-r,e-o,h+r],[e-o,h+r,e+o,h+r],[e+o,h+r,e+o,h-r],[e+o,h-r,e-o,h-r]].map(n);if(!s.reduce(function(a,b){return a^!!f(w,x,w+1e6,x+1e6,b[0],b[1],b[2],b[3])},!1)){s.forEach(function(a){var b=f(e,h,w,x,a[0],a[1],a[2],a[3]);b&&(e=b.x,h=b.y)});var t=P.arrowwidth,u=P.arrowcolor,v=U.append("g").style({opacity:l.opacity(u)}).classed("annotation-arrow-g",!0).attr("data-index",String(b)),y=v.append("path").attr("d","M"+e+","+h+"L"+w+","+x).style("stroke-width",t+"px").call(l.stroke,l.rgb(u));q.arrowhead(y,P.arrowhead,"end",P.arrowsize);var z=v.append("path").classed("annotation",!0).classed("anndrag",!0).attr({"data-index":String(b),d:"M3,3H-3V-3H3ZM0,0L"+(e-w)+","+(h-x),transform:"translate("+w+","+x+")"}).style("stroke-width",t+6+"px").call(l.stroke,"rgba(0,0,0,0)").call(l.fill,"rgba(0,0,0,0)");if(a._context.editable){var A,B,E;p.init({element:z.node(),prepFn:function(){var a=j.getTranslate(W);B=a.x,E=a.y,A={},Q&&Q.autorange&&(A[Q._name+".autorange"]=!0),R&&R.autorange&&(A[R._name+".autorange"]=!0)},moveFn:function(a,b){v.attr("transform","translate("+a+","+b+")");var c=m(B,E),d=c[0]+a,e=c[1]+b;W.call(j.setTranslate,d,e),A[C+".x"]=Q?P.x+a/Q._m:(w+a-D.l)/D.w,A[C+".y"]=R?P.y+b/R._m:1-(x+b-D.t)/D.h,P.axref===P.xref&&(A[C+".ax"]=Q?P.ax+a/Q._m:(w+a-D.l)/D.w),P.ayref===P.yref&&(A[C+".ay"]=R?P.ay+b/R._m:1-(x+b-D.t)/D.h),V.attr({transform:"rotate("+T+","+d+","+e+")"})},doneFn:function(b){if(b){i.relayout(a,A);var c=document.querySelector(".js-notes-box-panel");c&&c.redraw(c.selectedObj)}}})}}};P.showarrow&&E(0,0);var F=j.rotationXYMatrix(T,S.x,S.y),G=j.apply2DTransform(F);if(a._context.editable){var H,I,J;p.init({element:W.node(),prepFn:function(){var a=j.getTranslate(W);H=a.x,I=a.y,J={}},moveFn:function(a,b){W.call(j.setTranslate,H+a,I+b);var c="pointer";if(P.showarrow)P.axref===P.xref?J[C+".ax"]=Q.p2l(Q.l2p(P.ax)+a):J[C+".ax"]=P.ax+a,P.ayref===P.yref?J[C+".ay"]=R.p2l(R.l2p(P.ay)+b):J[C+".ay"]=P.ay+b,E(a,b);else{if(Q)J[C+".x"]=P.x+a/Q._m;else{var d=P._xsize/D.w,e=P.x+P._xshift/D.w-d/2;J[C+".x"]=p.align(e+a/D.w,d,0,1,P.xanchor)}if(R)J[C+".y"]=P.y+b/R._m;else{var f=P._ysize/D.h,g=P.y-P._yshift/D.h-f/2;J[C+".y"]=p.align(g-b/D.h,f,0,1,P.yanchor)}Q&&R||(c=p.getCursor(Q?.5:J[C+".x"],R?.5:J[C+".y"],P.xanchor,P.yanchor))}var h=G(H,I),i=h[0]+a,k=h[1]+b;W.call(j.setTranslate,H+a,I+b),V.attr({transform:"rotate("+T+","+i+","+k+")"}),o(W,c)},doneFn:function(b){if(o(W),b){i.relayout(a,J);var c=document.querySelector(".js-notes-box-panel");c&&c.redraw(c.selectedObj)}}})}}var t,u=a.layout,v=a._fullLayout;if(!h(b)||b===-1){if(!b&&Array.isArray(e))return u.annotations=e,q.supplyLayoutDefaults(u,v),void q.drawAll(a);if("remove"===e)return delete u.annotations,v.annotations=[],void q.drawAll(a);if(c&&"add"!==e){for(t=0;t<v.annotations.length;t++)q.draw(a,t,c,e);return}b=v.annotations.length,v.annotations.push({})}if(!c&&e){if("remove"===e){for(v._infolayer.selectAll('.annotation[data-index="'+b+'"]').remove(),v.annotations.splice(b,1),u.annotations.splice(b,1),t=b;t<v.annotations.length;t++)v._infolayer.selectAll('.annotation[data-index="'+(t+1)+'"]').attr("data-index",String(t)),q.draw(a,t);return}if("add"===e||j.isPlainObject(e)){v.annotations.splice(b,0,{});var w=j.isPlainObject(e)?j.extendFlat({},e):{text:"New text"};for(u.annotations?u.annotations.splice(b,0,w):u.annotations=[w],t=v.annotations.length-1;t>b;t--)v._infolayer.selectAll('.annotation[data-index="'+(t-1)+'"]').attr("data-index",String(t)),q.draw(a,t)}}v._infolayer.selectAll('.annotation[data-index="'+b+'"]').remove();var x=u.annotations[b],y=v.annotations[b];if(x){var z={xref:x.xref,yref:x.yref},A={};"string"==typeof c&&c?A[c]=e:j.isPlainObject(c)&&(A=c);var B=Object.keys(A);for(t=0;t<B.length;t++){var C=B[t];j.nestedProperty(x,C).set(A[C])}var D=v._size,E=["x","y"];for(t=0;t<2;t++){var F=E[t];if(void 0===A[F]&&void 0!==x[F]){var G=k.getFromId(a,k.coerceRef(z,{},a,F)),H=k.getFromId(a,k.coerceRef(x,{},a,F)),I=x[F],J=y["_"+F+"type"];if(void 0!==A[F+"ref"]){var K="auto"===x[F+"anchor"],L="x"===F?D.w:D.h,M=(y["_"+F+"size"]||0)/(2*L);if(G&&H)I=(I-G.range[0])/(G.range[1]-G.range[0]),I=H.range[0]+I*(H.range[1]-H.range[0]);else if(G){if(I=(I-G.range[0])/(G.range[1]-G.range[0]),I=G.domain[0]+I*(G.domain[1]-G.domain[0]),K){var N=I+M,O=I-M;I+O<2/3?I=O:I+N>4/3&&(I=N)}}else H&&(K&&(I<1/3?I+=M:I>2/3&&(I-=M)),I=(I-H.domain[0])/(H.domain[1]-H.domain[0]),I=H.range[0]+I*(H.range[1]-H.range[0]))}H&&H===G&&J&&("log"===J&&"log"!==H.type?I=Math.pow(10,I):"log"!==J&&"log"===H.type&&(I=I>0?Math.log(I)/Math.LN10:void 0)),x[F]=I}}var P=d(x,v);v.annotations[b]=P;var Q=k.getFromId(a,P.xref),R=k.getFromId(a,P.yref),S={x:0,y:0},T=+P.textangle||0,U=v._infolayer.append("g").classed("annotation",!0).attr("data-index",String(b)).style("opacity",P.opacity).on("click",function(){a._dragging=!1,a.emit("plotly_clickannotation",{index:b,annotation:x,fullAnnotation:P})}),V=U.append("g").classed("annotation-text-g",!0).attr("data-index",String(b)),W=V.append("g"),X=P.borderwidth,Y=P.borderpad,Z=X+Y,$=W.append("rect").attr("class","bg").style("stroke-width",X+"px").call(l.stroke,P.bordercolor).call(l.fill,P.bgcolor),_=P.font,aa=W.append("text").classed("annotation",!0).attr("data-unformatted",P.text).text(P.text);a._context.editable?aa.call(n.makeEditable,W).call(r).on("edit",function(c){P.text=c,this.attr({"data-unformatted":P.text}),this.call(r);var d={};d["annotations["+b+"].text"]=P.text,Q&&Q.autorange&&(d[Q._name+".autorange"]=!0),R&&R.autorange&&(d[R._name+".autorange"]=!0),i.relayout(a,d)}):aa.call(r),V.attr({transform:"rotate("+T+","+S.x+","+S.y+")"}).call(m.setPosition,S.x,S.y)}},q.arrowhead=function(a,b,c,d){h(d)||(d=1);var e=a.node(),f=q.ARROWPATHS[b||0];if(f){"string"==typeof c&&c||(c="end");var i,j,k,n,o=(m.getPx(a,"stroke-width")||1)*d,p=a.style("stroke")||l.defaultLine,r=a.style("stroke-opacity")||1,s=c.indexOf("start")>=0,t=c.indexOf("end")>=0,u=f.backoff*o;if("line"===e.nodeName){if(i={x:+a.attr("x1"),y:+a.attr("y1")},j={x:+a.attr("x2"),y:+a.attr("y2")},k=Math.atan2(i.y-j.y,i.x-j.x),n=k+Math.PI,u){var v=u*Math.cos(k),w=u*Math.sin(k);s&&(i.x-=v,i.y-=w,a.attr({x1:i.x,y1:i.y})),t&&(j.x+=v,j.y+=w,a.attr({x2:j.x,y2:j.y}))}}else if("path"===e.nodeName){var x=e.getTotalLength(),y="";if(s){var z=e.getPointAtLength(0),A=e.getPointAtLength(.1);k=Math.atan2(z.y-A.y,z.x-A.x),i=e.getPointAtLength(Math.min(u,x)),u&&(y="0px,"+u+"px,")}if(t){var B=e.getPointAtLength(x),C=e.getPointAtLength(x-.1);if(n=Math.atan2(B.y-C.y,B.x-C.x),j=e.getPointAtLength(Math.max(0,x-u)),u){var D=y?2*u:u;y+=x-D+"px,"+x+"px"}}else y&&(y+=x+"px");y&&a.style("stroke-dasharray",y)}var E=function(c,d){b>5&&(d=0),g.select(e.parentElement).append("path").attr({class:a.attr("class"),d:f.path,transform:"translate("+c.x+","+c.y+")rotate("+180*d/Math.PI+")scale("+o+")"}).style({fill:p,opacity:r,"stroke-width":0})};s&&E(i,k),t&&E(j,n)}},q.calcAutorange=function(a){var b=a._fullLayout,c=b.annotations;if(c.length&&a._fullData.length){var d={};c.forEach(function(a){d[a.xref]=!0,d[a.yref]=!0});var f=k.list(a).filter(function(a){return a.autorange&&d[a._id]});if(f.length)return j.syncOrAsync([q.drawAll,e],a)}}},{"../../lib":95,"../../lib/setcursor":104,"../../lib/svg_text_utils":106,"../../plotly":113,"../../plots/cartesian/axes":116,"../color":18,"../dragelement":39,"../drawing":41,"./arrow_paths":14,"./attributes":15,d3:9,"fast-isnumeric":11}],17:[function(a,b,c){"use strict";c.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],c.defaultLine="#444",c.lightLine="#eee",c.background="#fff",c.borderLine="#BEC8D9",c.lightFraction=1e3/11},{}],18:[function(a,b,c){"use strict";function d(a){if(f(a)||"string"!=typeof a)return a;var b=a.trim();if("rgb"!==b.substr(0,3))return a;var c=b.match(/^rgba?\s*\(([^()]*)\)$/);if(!c)return a;var d=c[1].trim().split(/\s*[\s,]\s*/),e="a"===b.charAt(3)&&4===d.length;if(!e&&3!==d.length)return a;for(var g=0;g<d.length;g++){if(!d[g].length)return a;if(d[g]=Number(d[g]),!(d[g]>=0))return a;if(3===g)d[g]>1&&(d[g]=1);else if(d[g]>=1)return a}var h=Math.round(255*d[0])+", "+Math.round(255*d[1])+", "+Math.round(255*d[2]);return e?"rgba("+h+", "+d[3]+")":"rgb("+h+")"}var e=a("tinycolor2"),f=a("fast-isnumeric"),g=b.exports={},h=a("./attributes");g.defaults=h.defaults,g.defaultLine=h.defaultLine,g.lightLine=h.lightLine,g.background=h.background,g.tinyRGB=function(a){var b=a.toRgb();return"rgb("+Math.round(b.r)+", "+Math.round(b.g)+", "+Math.round(b.b)+")"},g.rgb=function(a){return g.tinyRGB(e(a))},g.opacity=function(a){return a?e(a).getAlpha():0},g.addOpacity=function(a,b){var c=e(a).toRgb();return"rgba("+Math.round(c.r)+", "+Math.round(c.g)+", "+Math.round(c.b)+", "+b+")"},g.combine=function(a,b){var c=e(a).toRgb();if(1===c.a)return e(a).toRgbString();var d=e(b||g.background).toRgb(),f=1===d.a?d:{r:255*(1-d.a)+d.r*d.a,g:255*(1-d.a)+d.g*d.a,b:255*(1-d.a)+d.b*d.a},h={r:f.r*(1-c.a)+c.r*c.a,g:f.g*(1-c.a)+c.g*c.a,b:f.b*(1-c.a)+c.b*c.a};return e(h).toRgbString()},g.contrast=function(a,b,c){var d=e(a),f=d.isLight()?d.darken(c):d.lighten(b);return f.toString()},g.stroke=function(a,b){var c=e(b);a.style({stroke:g.tinyRGB(c),"stroke-opacity":c.getAlpha()})},g.fill=function(a,b){var c=e(b);a.style({fill:g.tinyRGB(c),"fill-opacity":c.getAlpha()})},g.clean=function(a){if(a&&"object"==typeof a){var b,c,e,f,h=Object.keys(a);for(b=0;b<h.length;b++)if(e=h[b],f=a[e],"color"===e.substr(e.length-5))if(Array.isArray(f))for(c=0;c<f.length;c++)f[c]=d(f[c]);else a[e]=d(f);else if("colorscale"===e.substr(e.length-10)&&Array.isArray(f))for(c=0;c<f.length;c++)Array.isArray(f[c])&&(f[c][1]=d(f[c][1]));else if(Array.isArray(f)){var i=f[0];if(!Array.isArray(i)&&i&&"object"==typeof i)for(c=0;c<f.length;c++)g.clean(f[c])}else f&&"object"==typeof f&&g.clean(f)}}},{"./attributes":17,"fast-isnumeric":11,tinycolor2:13}],19:[function(a,b,c){"use strict";var d=a("../../plots/cartesian/layout_attributes"),e=a("../../plots/font_attributes"),f=a("../../lib/extend").extendFlat;b.exports={thicknessmode:{valType:"enumerated",values:["fraction","pixels"],role:"style",dflt:"pixels",description:["Determines whether this color bar's thickness","(i.e. the measure in the constant color direction)","is set in units of plot *fraction* or in *pixels*.","Use `thickness` to set the value."].join(" ")},thickness:{valType:"number",role:"style",min:0,dflt:30,description:["Sets the thickness of the color bar","This measure excludes the size of the padding, ticks and labels."].join(" ")},lenmode:{valType:"enumerated",values:["fraction","pixels"],role:"info",dflt:"fraction",description:["Determines whether this color bar's length","(i.e. the measure in the color variation direction)","is set in units of plot *fraction* or in *pixels.","Use `len` to set the value."].join(" ")},len:{valType:"number",min:0,dflt:1,role:"style",description:["Sets the length of the color bar","This measure excludes the padding of both ends.","That is, the color bar length is this length minus the","padding on both ends."].join(" ")},x:{valType:"number",dflt:1.02,min:-2,max:3,role:"style",description:["Sets the x position of the color bar (in plot fraction)."].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",role:"style",description:["Sets this color bar's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the color bar."].join(" ")},xpad:{valType:"number",role:"style",min:0,dflt:10,description:"Sets the amount of padding (in px) along the x direction."},y:{valType:"number",role:"style",dflt:.5,min:-2,max:3,description:["Sets the y position of the color bar (in plot fraction)."].join(" ")},yanchor:{valType:"enumerated",values:["top","middle","bottom"],role:"style",dflt:"middle",description:["Sets this color bar's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the color bar."].join(" ")},ypad:{valType:"number",role:"style",min:0,dflt:10,description:"Sets the amount of padding (in px) along the y direction."},outlinecolor:d.linecolor,outlinewidth:d.linewidth,bordercolor:d.linecolor,borderwidth:{valType:"number",role:"style",min:0,dflt:0,description:["Sets the width (in px) or the border enclosing this color bar."].join(" ")},bgcolor:{valType:"color",role:"style",dflt:"rgba(0,0,0,0)",description:"Sets the color of padded area."},tickmode:d.tickmode,nticks:d.nticks,tick0:d.tick0,dtick:d.dtick,tickvals:d.tickvals,ticktext:d.ticktext,ticks:f({},d.ticks,{dflt:""}),ticklen:d.ticklen,tickwidth:d.tickwidth,tickcolor:d.tickcolor,showticklabels:d.showticklabels,tickfont:d.tickfont,tickangle:d.tickangle,tickformat:d.tickformat,tickprefix:d.tickprefix,showtickprefix:d.showtickprefix,ticksuffix:d.ticksuffix,showticksuffix:d.showticksuffix,exponentformat:d.exponentformat,showexponent:d.showexponent,title:{valType:"string",role:"info",dflt:"Click to enter colorscale title",description:"Sets the title of the color bar."},titlefont:f({},e,{description:["Sets this color bar's title font."].join(" ")}),titleside:{valType:"enumerated",values:["right","top","bottom"],role:"style",dflt:"top",description:["Determines the location of the colorbar title","with respect to the color bar."].join(" ")}}},{"../../lib/extend":94,"../../plots/cartesian/layout_attributes":125,"../../plots/font_attributes":134}],20:[function(a,b,c){"use strict";var d=a("../../lib"),e=a("../../plots/cartesian/tick_value_defaults"),f=a("../../plots/cartesian/tick_mark_defaults"),g=a("../../plots/cartesian/tick_label_defaults"),h=a("./attributes");b.exports=function(a,b,c){function i(a,b){return d.coerce(k,j,h,a,b)}var j=b.colorbar={},k=a.colorbar||{},l=i("thicknessmode");i("thickness","fraction"===l?30/(c.width-c.margin.l-c.margin.r):30);var m=i("lenmode");i("len","fraction"===m?1:c.height-c.margin.t-c.margin.b),i("x"),i("xanchor"),i("xpad"),i("y"),i("yanchor"),i("ypad"),d.noneOrAll(k,j,["x","y"]),i("outlinecolor"),i("outlinewidth"),i("bordercolor"),i("borderwidth"),i("bgcolor"),e(k,j,i,"linear"),g(k,j,i,"linear",{outerTicks:!1,font:c.font,noHover:!0}),f(k,j,i,"linear",{outerTicks:!1,font:c.font,noHover:!0}),i("title"),d.coerceFont(i,"titlefont",c.font),i("titleside")}},{"../../lib":95,"../../plots/cartesian/tick_label_defaults":131,"../../plots/cartesian/tick_mark_defaults":132,"../../plots/cartesian/tick_value_defaults":133,"./attributes":19}],21:[function(a,b,c){"use strict";var d=a("d3"),e=a("tinycolor2"),f=a("../../plotly"),g=a("../../plots/plots"),h=a("../../plots/cartesian/axes"),i=a("../dragelement"),j=a("../../lib"),k=a("../../lib/extend").extendFlat,l=a("../../lib/setcursor"),m=a("../drawing"),n=a("../color"),o=a("../titles"),p=a("../../plots/cartesian/axis_defaults"),q=a("../../plots/cartesian/position_defaults"),r=a("../../plots/cartesian/layout_attributes"),s=a("./attributes");b.exports=function(a,b){function c(){function s(a,b){return j.coerce(Z,$,r,a,b)}function v(){if(["top","bottom"].indexOf(u.titleside)!==-1){var b=ea.select(".cbtitle"),c=b.select("text"),f=[-u.outlinewidth/2,u.outlinewidth/2],g=b.select(".h"+$._id+"title-math-group").node(),i=15.6;if(c.node()&&(i=1.3*parseInt(c.style("font-size"),10)),g?(ga=m.bBox(g).height,ga>i&&(f[1]-=(ga-i)/2)):c.node()&&!c.classed("js-placeholder")&&(ga=m.bBox(b.node()).height),ga){if(ga+=5,"top"===u.titleside)$.domain[1]-=ga/z.h,f[1]*=-1;else{$.domain[0]+=ga/z.h;var k=Math.max(1,c.selectAll("tspan.line").size());f[1]+=(1-k)*i}b.attr("transform","translate("+f+")"),$.setScale()}}ea.selectAll(".cbfills,.cblines,.cbaxis").attr("transform","translate(0,"+Math.round(z.h*(1-$.domain[1]))+")");var l=ea.select(".cbfills").selectAll("rect.cbfill").data(D);l.enter().append("rect").classed("cbfill",!0).style("stroke","none"),l.exit().remove(),l.each(function(a,b){var c=[0===b?B[0]:(D[b]+D[b-1])/2,b===D.length-1?B[1]:(D[b]+D[b+1])/2].map($.c2p).map(Math.round);b!==D.length-1&&(c[1]+=c[1]>c[0]?1:-1);var f=F(a).replace("e-",""),g=e(f).toHexString();d.select(this).attr({x:U,width:Math.max(N,2),y:d.min(c),height:Math.max(d.max(c)-d.min(c),2),fill:g})});var n=ea.select(".cblines").selectAll("path.cbline").data(u.line.color&&u.line.width?C:[]);return n.enter().append("path").classed("cbline",!0),n.exit().remove(),n.each(function(a){d.select(this).attr("d","M"+U+","+(Math.round($.c2p(a))+u.line.width/2%1)+"h"+N).call(m.lineGroupStyle,u.line.width,E(a),u.line.dash)}),$._axislayer.selectAll("g."+$._id+"tick,path").remove(),$._pos=U+N+(u.outlinewidth||0)/2-("outside"===u.ticks?1:0),$.side="right",j.syncOrAsync([function(){return h.doTicks(a,$,!0)},function(){if(["top","bottom"].indexOf(u.titleside)===-1){var b=$.titlefont.size,c=$._offset+$._length/2,e=z.l+($.position||0)*z.w+("right"===$.side?10+b*($.showticklabels?1:.5):-10-b*($.showticklabels?.5:0));w("h"+$._id+"title",{avoid:{selection:d.select(a).selectAll("g."+$._id+"tick"),side:u.titleside,offsetLeft:z.l,offsetTop:z.t,maxShift:y.width},attributes:{x:e,y:c,"text-anchor":"middle"},transform:{rotate:"-90",offset:0}})}}])}function w(b,c){var d,e=t();d=g.traceIs(e,"markerColorscale")?"marker.colorbar.title":"colorbar.title";var f={propContainer:$,propName:d,traceIndex:e.index,dfltName:"colorscale",containerGroup:ea.select(".cbtitle")},h="h"===b.charAt(0)?b.substr(1):"h"+b;ea.selectAll("."+h+",."+h+"-math-group").remove(),o.draw(a,b,k(f,c||{}))}function x(){var c=N+u.outlinewidth/2+m.bBox($._axislayer.node()).width;if(K=fa.select("text"),K.node()&&!K.classed("js-placeholder")){var d,e=fa.select(".h"+$._id+"title-math-group").node();d=e&&["top","bottom"].indexOf(u.titleside)!==-1?m.bBox(e).width:m.bBox(fa.node()).right-U-z.l,c=Math.max(c,d)}var f=2*u.xpad+c+u.borderwidth+u.outlinewidth/2,h=X-Y;ea.select(".cbbg").attr({x:U-u.xpad-(u.borderwidth+u.outlinewidth)/2,y:Y-S,width:Math.max(f,2),height:Math.max(h+2*S,2)}).call(n.fill,u.bgcolor).call(n.stroke,u.bordercolor).style({"stroke-width":u.borderwidth}),ea.selectAll(".cboutline").attr({x:U,y:Y+u.ypad+("top"===u.titleside?ga:0),width:Math.max(N,2),height:Math.max(h-2*u.ypad-ga,2)}).call(n.stroke,u.outlinecolor).style({fill:"None","stroke-width":u.outlinewidth});var i=({center:.5,right:1}[u.xanchor]||0)*f;ea.attr("transform","translate("+(z.l-i)+","+z.t+")"),g.autoMargin(a,b,{x:u.x,y:u.y,l:f*({right:1,center:.5}[u.xanchor]||0),r:f*({left:1,center:.5}[u.xanchor]||0),t:h*({bottom:1,middle:.5}[u.yanchor]||0),b:h*({top:1,middle:.5}[u.yanchor]||0)})}var y=a._fullLayout,z=y._size;if("function"!=typeof u.fillcolor&&"function"!=typeof u.line.color)return void y._infolayer.selectAll("g."+b).remove();var A,B=d.extent(("function"==typeof u.fillcolor?u.fillcolor:u.line.color).domain()),C=[],D=[],E="function"==typeof u.line.color?u.line.color:function(){return u.line.color},F="function"==typeof u.fillcolor?u.fillcolor:function(){return u.fillcolor},G=u.levels.end+u.levels.size/100,H=u.levels.size,I=1.001*B[0]-.001*B[1],J=1.001*B[1]-.001*B[0];for(A=u.levels.start;(A-G)*H<0;A+=H)A>I&&A<J&&C.push(A);if("function"==typeof u.fillcolor)if(u.filllevels)for(G=u.filllevels.end+u.filllevels.size/100,H=u.filllevels.size,A=u.filllevels.start;(A-G)*H<0;A+=H)A>B[0]&&A<B[1]&&D.push(A);else D=C.map(function(a){return a-u.levels.size/2}),D.push(D[D.length-1]+u.levels.size);else u.fillcolor&&"string"==typeof u.fillcolor&&(D=[0]);u.levels.size<0&&(C.reverse(),D.reverse());var K,L=y.height-y.margin.t-y.margin.b,M=y.width-y.margin.l-y.margin.r,N=Math.round(u.thickness*("fraction"===u.thicknessmode?M:1)),O=N/z.w,P=Math.round(u.len*("fraction"===u.lenmode?L:1)),Q=P/z.h,R=u.xpad/z.w,S=(u.borderwidth+u.outlinewidth)/2,T=u.ypad/z.h,U=Math.round(u.x*z.w+u.xpad),V=u.x-O*({middle:.5,right:1}[u.xanchor]||0),W=u.y+Q*(({top:-.5,bottom:.5}[u.yanchor]||0)-.5),X=Math.round(z.h*(1-W)),Y=X-P,Z={type:"linear",range:B,tickmode:u.tickmode,nticks:u.nticks,tick0:u.tick0,dtick:u.dtick,tickvals:u.tickvals,ticktext:u.ticktext,ticks:u.ticks,ticklen:u.ticklen,tickwidth:u.tickwidth,tickcolor:u.tickcolor,showticklabels:u.showticklabels,tickfont:u.tickfont,tickangle:u.tickangle,tickformat:u.tickformat,exponentformat:u.exponentformat,showexponent:u.showexponent,showtickprefix:u.showtickprefix,tickprefix:u.tickprefix,showticksuffix:u.showticksuffix,ticksuffix:u.ticksuffix,title:u.title,titlefont:u.titlefont,anchor:"free",position:1},$={},_={letter:"y",font:y.font,noHover:!0};if(p(Z,$,s,_),q(Z,$,s,_),$._id="y"+b,$._gd=a,$.position=u.x+R+O,c.axis=$,["top","bottom"].indexOf(u.titleside)!==-1&&($.titleside=u.titleside,$.titlex=u.x+R,$.titley=W+("top"===u.titleside?Q-T:T)),u.line.color&&"auto"===u.tickmode){$.tickmode="linear",$.tick0=u.levels.start;var aa=u.levels.size,ba=j.constrain((X-Y)/50,4,15)+1,ca=(B[1]-B[0])/((u.nticks||ba)*aa);if(ca>1){var da=Math.pow(10,Math.floor(Math.log(ca)/Math.LN10));aa*=da*j.roundUp(ca/da,[2,5,10]),(Math.abs(u.levels.start)/u.levels.size+1e-6)%1<2e-6&&($.tick0=0)}$.dtick=aa}$.domain=[W+T,W+Q-T],$.setScale();var ea=y._infolayer.selectAll("g."+b).data([0]);ea.enter().append("g").classed(b,!0).each(function(){var a=d.select(this);a.append("rect").classed("cbbg",!0),a.append("g").classed("cbfills",!0),a.append("g").classed("cblines",!0),a.append("g").classed("cbaxis",!0).classed("crisp",!0),a.append("g").classed("cbtitleunshift",!0).append("g").classed("cbtitle",!0),a.append("rect").classed("cboutline",!0),a.select(".cbtitle").datum(0)}),ea.attr("transform","translate("+Math.round(z.l)+","+Math.round(z.t)+")");var fa=ea.select(".cbtitleunshift").attr("transform","translate(-"+Math.round(z.l)+",-"+Math.round(z.t)+")");$._axislayer=ea.select(".cbaxis");var ga=0;if(["top","bottom"].indexOf(u.titleside)!==-1){var ha,ia=z.l+(u.x+R)*z.w,ja=$.titlefont.size;ha="top"===u.titleside?(1-(W+Q-T))*z.h+z.t+3+.75*ja:(1-(W+T))*z.h+z.t-3-.25*ja,w($._id+"title",{attributes:{x:ia,y:ha,"text-anchor":"start"}})}var ka=j.syncOrAsync([g.previousPromises,v,g.previousPromises,x],a);if(ka&&ka.then&&(a._promises||[]).push(ka),a._context.editable){var la,ma,na;i.init({element:ea.node(),prepFn:function(){la=ea.attr("transform"),l(ea)},moveFn:function(a,b){ea.attr("transform",la+" translate("+a+","+b+")"),ma=i.align(V+a/z.w,O,0,1,u.xanchor),na=i.align(W-b/z.h,Q,0,1,u.yanchor);var c=i.getCursor(ma,na,u.xanchor,u.yanchor);l(ea,c)},doneFn:function(b){l(ea),b&&void 0!==ma&&void 0!==na&&f.restyle(a,{"colorbar.x":ma,"colorbar.y":na},t().index)}})}return ka}function t(){var c,d,e=b.substr(2);for(c=0;c<a._fullData.length;c++)if(d=a._fullData[c],d.uid===e)return d}var u={};return Object.keys(s).forEach(function(a){u[a]=null}),u.fillcolor=null,u.line={color:null,width:null,dash:null},u.levels={start:null,end:null,size:null},u.filllevels=null,Object.keys(u).forEach(function(a){c[a]=function(b){return arguments.length?(u[a]=j.isPlainObject(u[a])?j.extendFlat(u[a],b):b,c):u[a]}}),c.options=function(a){return Object.keys(a).forEach(function(b){"function"==typeof c[b]&&c[b](a[b])}),c},c._opts=u,c}},{"../../lib":95,"../../lib/extend":94,"../../lib/setcursor":104,"../../plotly":113,"../../plots/cartesian/axes":116,"../../plots/cartesian/axis_defaults":117,"../../plots/cartesian/layout_attributes":125,"../../plots/cartesian/position_defaults":128,"../../plots/plots":136,"../color":18,"../dragelement":39,"../drawing":41,"../titles":81,"./attributes":19,d3:9,tinycolor2:13}],22:[function(a,b,c){"use strict";var d=a("../../lib");b.exports=function(a){return d.isPlainObject(a.colorbar)}},{"../../lib":95}],23:[function(a,b,c){"use strict";c.attributes=a("./attributes"),c.supplyDefaults=a("./defaults"),c.draw=a("./draw"),c.hasColorbar=a("./has_colorbar")},{"./attributes":19,"./defaults":20,"./draw":21,"./has_colorbar":22}],24:[function(a,b,c){"use strict";b.exports={zauto:{valType:"boolean",role:"info",dflt:!0,description:["Determines the whether or not the color domain is computed","with respect to the input data."].join(" ")},zmin:{valType:"number",role:"info",dflt:null,description:"Sets the lower bound of color domain."},zmax:{valType:"number",role:"info",dflt:null,description:"Sets the upper bound of color domain."},colorscale:{valType:"colorscale",role:"style",description:["Sets the colorscale.","The colorscale must be an array containing","arrays mapping a normalized value to an","rgb, rgba, hex, hsl, hsv, or named color string.","At minimum, a mapping for the lowest (0) and highest (1)","values are required. For example,","`[[0, 'rgb(0,0,255)', [1, 'rgb(255,0,0)']]`.","To control the bounds of the colorscale in z space,","use zmin and zmax"].join(" ")},autocolorscale:{valType:"boolean",role:"style",dflt:!0,description:["Determines whether or not the colorscale is picked using the sign of","the input z values."].join(" ")},reversescale:{valType:"boolean",role:"style",dflt:!1,description:"Reverses the colorscale."},showscale:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not a colorbar is displayed for this trace."].join(" ")}}},{}],25:[function(a,b,c){"use strict";var d=a("../../lib"),e=a("./scales"),f=a("./flip_scale");b.exports=function(a,b,c,g){var h,i;c?(h=d.nestedProperty(a,c).get(),i=d.nestedProperty(a._input,c).get()):(h=a,i=a._input);var j=h[g+"auto"],k=h[g+"min"],l=h[g+"max"],m=h.colorscale;j===!1&&void 0!==k||(k=d.aggNums(Math.min,null,b)),j===!1&&void 0!==l||(l=d.aggNums(Math.max,null,b)),k===l&&(k-=.5,l+=.5),h[g+"min"]=k,h[g+"max"]=l,i[g+"min"]=k,i[g+"max"]=l,h.autocolorscale&&(m=k*l<0?e.RdBu:k>=0?e.Reds:e.Blues,i.colorscale=m,h.reversescale&&(m=f(m)),h.colorscale=m)}},{"../../lib":95,"./flip_scale":29,"./scales":36}],26:[function(a,b,c){"use strict";var d=a("./attributes"),e=a("../../lib/extend").extendDeep,f=a("./scales.js");b.exports=function(a){return{color:{valType:"color",arrayOk:!0,role:"style",description:["Sets the ",a," color. It accepts either a specific color"," or an array of numbers that are mapped to the colorscale"," relative to the max and min values of the array or relative to"," `cmin` and `cmax` if set."].join("")},colorscale:e({},d.colorscale,{description:["Sets the colorscale and only has an effect"," if `",a,".color` is set to a numerical array."," The colorscale must be an array containing"," arrays mapping a normalized value to an"," rgb, rgba, hex, hsl, hsv, or named color string."," At minimum, a mapping for the lowest (0) and highest (1)"," values are required. For example,"," `[[0, 'rgb(0,0,255)', [1, 'rgb(255,0,0)']]`."," To control the bounds of the colorscale in color space,"," use `",a,".cmin` and `",a,".cmax`."," Alternatively, `colorscale` may be a palette name string"," of the following list: "].join("").concat(Object.keys(f).join(", "))}),cauto:e({},d.zauto,{description:["Has an effect only if `",a,".color` is set to a numerical array"," and `cmin`, `cmax` are set by the user. In this case,"," it controls whether the range of colors in `colorscale` is mapped to"," the range of values in the `color` array (`cauto: true`), or the `cmin`/`cmax`"," values (`cauto: false`)."," Defaults to `false` when `cmin`, `cmax` are set by the user."].join("")}),cmax:e({},d.zmax,{description:["Has an effect only if `",a,".color` is set to a numerical array."," Sets the upper bound of the color domain."," Value should be associated to the `",a,".color` array index,"," and if set, `",a,".cmin` must be set as well."].join("")}),cmin:e({},d.zmin,{description:["Has an effect only if `",a,".color` is set to a numerical array."," Sets the lower bound of the color domain."," Value should be associated to the `",a,".color` array index,"," and if set, `",a,".cmax` must be set as well."].join("")}),autocolorscale:e({},d.autocolorscale,{description:["Has an effect only if `",a,".color` is set to a numerical array."," Determines whether the colorscale is a default palette (`autocolorscale: true`)"," or the palette determined by `",a,".colorscale`."," In case `colorscale` is unspecified or `autocolorscale` is true, the default "," palette will be chosen according to whether numbers in the `color` array are"," all positive, all negative or mixed."].join("")}),reversescale:e({},d.reversescale,{description:["Has an effect only if `",a,".color` is set to a numerical array."," Reverses the color mapping if true (`cmin` will correspond to the last color"," in the array and `cmax` will correspond to the first color)."].join("")})}}},{"../../lib/extend":94,"./attributes":24,"./scales.js":36}],27:[function(a,b,c){"use strict";var d=a("./scales");b.exports=d.RdBu},{"./scales":36}],28:[function(a,b,c){"use strict";var d=a("fast-isnumeric"),e=a("../../lib"),f=a("../colorbar/has_colorbar"),g=a("../colorbar/defaults"),h=a("./is_valid_scale"),i=a("./flip_scale");b.exports=function(a,b,c,j,k){var l=k.prefix,m=k.cLetter,n=l.slice(0,l.length-1),o=l?e.nestedProperty(a,n).get()||{}:a,p=l?e.nestedProperty(b,n).get()||{}:b,q=o[m+"min"],r=o[m+"max"],s=o.colorscale,t=d(q)&&d(r)&&q<r;j(l+m+"auto",!t),j(l+m+"min"),j(l+m+"max");var u;void 0!==s&&(u=!h(s)),j(l+"autocolorscale",u);var v=j(l+"colorscale"),w=j(l+"reversescale");if(w&&(p.colorscale=i(v)),"marker.line."!==l){var x;l&&(x=f(o));var y=j(l+"showscale",x);y&&g(o,p,c)}}},{"../../lib":95,"../colorbar/defaults":20,"../colorbar/has_colorbar":22,"./flip_scale":29,"./is_valid_scale":33,"fast-isnumeric":11}],29:[function(a,b,c){"use strict";b.exports=function(a){for(var b,c=a.length,d=new Array(c),e=c-1,f=0;e>=0;e--,f++)b=a[e],d[f]=[1-b[0],b[1]];return d}},{}],30:[function(a,b,c){"use strict";var d=a("./scales"),e=a("./default_scale"),f=a("./is_valid_scale_array");b.exports=function(a,b){function c(){try{a=d[a]||JSON.parse(a)}catch(c){a=b}}return b||(b=e),a?("string"==typeof a&&(c(),"string"==typeof a&&c()),f(a)?a:b):b}},{"./default_scale":27,"./is_valid_scale_array":34,"./scales":36}],31:[function(a,b,c){"use strict";var d=a("fast-isnumeric"),e=a("../../lib"),f=a("./is_valid_scale");b.exports=function(a,b){var c=b?e.nestedProperty(a,b).get()||{}:a,g=c.color,h=!1;if(Array.isArray(g))for(var i=0;i<g.length;i++)if(d(g[i])){h=!0;break}return e.isPlainObject(c)&&(h||c.showscale===!0||d(c.cmin)&&d(c.cmax)||f(c.colorscale)||e.isPlainObject(c.colorbar))}},{"../../lib":95,"./is_valid_scale":33,"fast-isnumeric":11}],32:[function(a,b,c){"use strict";c.scales=a("./scales"),c.defaultScale=a("./default_scale"),c.attributes=a("./attributes"),c.handleDefaults=a("./defaults"),
c.calc=a("./calc"),c.hasColorscale=a("./has_colorscale"),c.isValidScale=a("./is_valid_scale"),c.getScale=a("./get_scale"),c.flipScale=a("./flip_scale"),c.makeScaleFunction=a("./make_scale_function")},{"./attributes":24,"./calc":25,"./default_scale":27,"./defaults":28,"./flip_scale":29,"./get_scale":30,"./has_colorscale":31,"./is_valid_scale":33,"./make_scale_function":35,"./scales":36}],33:[function(a,b,c){"use strict";var d=a("./scales"),e=a("./is_valid_scale_array");b.exports=function(a){return void 0!==d[a]||e(a)}},{"./is_valid_scale_array":34,"./scales":36}],34:[function(a,b,c){"use strict";var d=a("tinycolor2");b.exports=function(a){var b=0;if(!Array.isArray(a)||a.length<2)return!1;if(!a[0]||!a[a.length-1])return!1;if(0!==+a[0][0]||1!==+a[a.length-1][0])return!1;for(var c=0;c<a.length;c++){var e=a[c];if(2!==e.length||+e[0]<b||!d(e[1]).isValid())return!1;b=+e[0]}return!0}},{tinycolor2:13}],35:[function(a,b,c){"use strict";var d=a("d3"),e=a("tinycolor2"),f=a("fast-isnumeric"),g=a("../../lib"),h=a("../color");b.exports=function(a,b,c){for(var i,j=a.length,k=new Array(j),l=new Array(j),m=0;m<j;m++)i=a[m],k[m]=b+i[0]*(c-b),l[m]=e(i[1]).toRgb();var n=d.scale.linear().domain(k).interpolate(d.interpolateObject).range(l);return function(a){if(f(a)){var d=g.constrain(a,b,c),i=n(d);return e(i).toRgbString()}return e(a).isValid()?a:h.defaultLine}}},{"../../lib":95,"../color":18,d3:9,"fast-isnumeric":11,tinycolor2:13}],36:[function(a,b,c){"use strict";b.exports={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]]}},{}],37:[function(a,b,c){"use strict";b.exports=function(a,b,c,d,e){var f=(a-c)/(d-c),g=f+b/(d-c),h=(f+g)/2;return"left"===e||"bottom"===e?f:"center"===e||"middle"===e?h:"right"===e||"top"===e?g:f<2/3-h?f:g>4/3-h?g:h}},{}],38:[function(a,b,c){"use strict";var d=a("../../lib"),e=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];b.exports=function(a,b,c,f){return a="left"===c?0:"center"===c?1:"right"===c?2:d.constrain(Math.floor(3*a),0,2),b="bottom"===f?0:"middle"===f?1:"top"===f?2:d.constrain(Math.floor(3*b),0,2),e[b][a]}},{"../../lib":95}],39:[function(a,b,c){"use strict";function d(){var a=document.createElement("div");a.className="dragcover";var b=a.style;return b.position="fixed",b.left=0,b.right=0,b.top=0,b.bottom=0,b.zIndex=999999999,b.background="none",document.body.appendChild(a),a}function e(a){a._dragging=!1,a._replotPending&&f.plot(a)}var f=a("../../plotly"),g=a("../../lib"),h=a("../../plots/cartesian/constants"),i=b.exports={};i.align=a("./align"),i.getCursor=a("./cursor");var j=a("./unhover");i.unhover=j.wrapped,i.unhoverRaw=j.raw,i.init=function(a){function b(b){return a.element.onmousemove=o,p._dragged=!1,p._dragging=!0,j=b.clientX,k=b.clientY,n=b.target,l=(new Date).getTime(),l-p._mouseDownTime<r?q+=1:(q=1,p._mouseDownTime=l),a.prepFn&&a.prepFn(b,j,k),m=d(),m.onmousemove=c,m.onmouseup=f,m.onmouseout=f,m.style.cursor=window.getComputedStyle(a.element).cursor,g.pauseEvent(b)}function c(b){var c=b.clientX-j,d=b.clientY-k,e=a.minDrag||h.MINDRAG;return Math.abs(c)<e&&(c=0),Math.abs(d)<e&&(d=0),(c||d)&&(p._dragged=!0,i.unhover(p)),a.moveFn&&a.moveFn(c,d,p._dragged),g.pauseEvent(b)}function f(b){if(o=a.element.onmousemove,a.setCursor&&(a.element.onmousemove=a.setCursor),m.onmousemove=null,m.onmouseup=null,m.onmouseout=null,g.removeElement(m),!p._dragging)return void(p._dragged=!1);if(p._dragging=!1,(new Date).getTime()-p._mouseDownTime>r&&(q=Math.max(q-1,1)),a.doneFn&&a.doneFn(p._dragged,q),!p._dragged){var c=document.createEvent("MouseEvents");c.initEvent("click",!0,!0),n.dispatchEvent(c)}return e(p),p._dragged=!1,g.pauseEvent(b)}var j,k,l,m,n,o,p=g.getPlotDiv(a.element)||{},q=1,r=h.DBLCLICKDELAY;p._mouseDownTime||(p._mouseDownTime=0),o=a.element.onmousemove,a.setCursor&&(a.element.onmousemove=a.setCursor),a.element.onmousedown=b,a.element.style.pointerEvents="all"}},{"../../lib":95,"../../plotly":113,"../../plots/cartesian/constants":121,"./align":37,"./cursor":38,"./unhover":40}],40:[function(a,b,c){"use strict";var d=a("../../lib/events"),e=b.exports={};e.wrapped=function(a,b,c){"string"==typeof a&&(a=document.getElementById(a)),a._hoverTimer&&(clearTimeout(a._hoverTimer),a._hoverTimer=void 0),e.raw(a,b,c)},e.raw=function(a,b){var c=a._fullLayout;b||(b={}),b.target&&d.triggerHandler(a,"plotly_beforehover",b)===!1||(c._hoverlayer.selectAll("g").remove(),b.target&&a._hoverdata&&a.emit("plotly_unhover",{points:a._hoverdata}),a._hoverdata=void 0)}},{"../../lib/events":93}],41:[function(a,b,c){"use strict";function d(a,b,c,d){var f=a[0]-b[0],g=a[1]-b[1],h=c[0]-b[0],i=c[1]-b[1],j=Math.pow(f*f+g*g,u/2),k=Math.pow(h*h+i*i,u/2),l=(k*k*f-j*j*h)*d,m=(k*k*g-j*j*i)*d,n=3*k*(j+k),o=3*j*(j+k);return[[e.round(b[0]+(n&&l/n),2),e.round(b[1]+(n&&m/n),2)],[e.round(b[0]-(o&&l/o),2),e.round(b[1]-(o&&m/o),2)]]}var e=a("d3"),f=a("fast-isnumeric"),g=a("../../plots/plots"),h=a("../color"),i=a("../colorscale"),j=a("../../lib"),k=a("../../lib/svg_text_utils"),l=a("../../constants/xmlns_namespaces"),m=a("../../traces/scatter/subtypes"),n=a("../../traces/scatter/make_bubble_size_func"),o=b.exports={};o.font=function(a,b,c,d){b&&b.family&&(d=b.color,c=b.size,b=b.family),b&&a.style("font-family",b),c+1&&a.style("font-size",c+"px"),d&&a.call(h.fill,d)},o.setPosition=function(a,b,c){a.attr("x",b).attr("y",c)},o.setSize=function(a,b,c){a.attr("width",b).attr("height",c)},o.setRect=function(a,b,c,d,e){a.call(o.setPosition,b,c).call(o.setSize,d,e)},o.translatePoints=function(a,b,c){a.each(function(a){var d=a.xp||b.c2p(a.x),g=a.yp||c.c2p(a.y),h=e.select(this);f(d)&&f(g)?"text"===this.nodeName?h.attr("x",d).attr("y",g):h.attr("transform","translate("+d+","+g+")"):h.remove()})},o.getPx=function(a,b){return Number(a.style(b).replace(/px$/,""))},o.crispRound=function(a,b,c){return b&&f(b)?a._context.staticPlot?b:b<1?1:Math.round(b):c||0},o.lineGroupStyle=function(a,b,c,d){a.style("fill","none").each(function(a){var f=(((a||[])[0]||{}).trace||{}).line||{},g=b||f.width||0,i=d||f.dash||"";e.select(this).call(h.stroke,c||f.color).call(o.dashLine,i,g)})},o.dashLine=function(a,b,c){var d=Math.max(c,3);"solid"===b?b="":"dot"===b?b=d+"px,"+d+"px":"dash"===b?b=3*d+"px,"+3*d+"px":"longdash"===b?b=5*d+"px,"+5*d+"px":"dashdot"===b?b=3*d+"px,"+d+"px,"+d+"px,"+d+"px":"longdashdot"===b&&(b=5*d+"px,"+2*d+"px,"+d+"px,"+2*d+"px"),a.style({"stroke-dasharray":b,"stroke-width":c+"px"})},o.fillGroupStyle=function(a){a.style("stroke-width",0).each(function(b){var c=e.select(this);try{c.call(h.fill,b[0].trace.fillcolor)}catch(b){j.error(b,a),c.remove()}})};var p=a("./symbol_defs");o.symbolNames=[],o.symbolFuncs=[],o.symbolNeedLines={},o.symbolNoDot={},o.symbolList=[],Object.keys(p).forEach(function(a){var b=p[a];o.symbolList=o.symbolList.concat([b.n,a,b.n+100,a+"-open"]),o.symbolNames[b.n]=a,o.symbolFuncs[b.n]=b.f,b.needLine&&(o.symbolNeedLines[b.n]=!0),b.noDot?o.symbolNoDot[b.n]=!0:o.symbolList=o.symbolList.concat([b.n+200,a+"-dot",b.n+300,a+"-open-dot"])});var q=o.symbolNames.length,r="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";o.symbolNumber=function(a){if("string"==typeof a){var b=0;a.indexOf("-open")>0&&(b=100,a=a.replace("-open","")),a.indexOf("-dot")>0&&(b+=200,a=a.replace("-dot","")),a=o.symbolNames.indexOf(a),a>=0&&(a+=b)}return a%100>=q||a>=400?0:Math.floor(Math.max(a,0))},o.pointStyle=function(a,b){if(a.size()){var c=b.marker,d=c.line;if(g.traceIs(b,"symbols")){var f=n(b);a.attr("d",function(a){var d;d="various"===a.ms||"various"===c.size?3:m.isBubble(b)?f(a.ms):(c.size||6)/2,a.mrc=d;var e=o.symbolNumber(a.mx||c.symbol)||0,g=e%100;return a.om=e%200>=100,o.symbolFuncs[g](d)+(e>=200?r:"")}).style("opacity",function(a){return(a.mo+1||c.opacity+1)-1})}var i=(b._input||{}).marker||{},j=o.tryColorscale(c,i,""),k=o.tryColorscale(c,i,"line.");a.each(function(a){var b,f,g;a.so?(g=d.outlierwidth,f=d.outliercolor,b=c.outliercolor):(g=(a.mlw+1||d.width+1||(a.trace?a.trace.marker.line.width:0)+1)-1,f="mlc"in a?a.mlcc=k(a.mlc):Array.isArray(d.color)?h.defaultLine:d.color,b="mc"in a?a.mcc=j(a.mc):Array.isArray(c.color)?h.defaultLine:c.color||"rgba(0,0,0,0)");var i=e.select(this);a.om?i.call(h.stroke,b).style({"stroke-width":(g||1)+"px",fill:"none"}):(i.style("stroke-width",g+"px").call(h.fill,b),g&&i.call(h.stroke,f))})}},o.tryColorscale=function(a,b,c){var d=j.nestedProperty(a,c+"color").get(),e=j.nestedProperty(a,c+"colorscale").get(),g=j.nestedProperty(a,c+"cauto").get(),h=j.nestedProperty(a,c+"cmin"),k=j.nestedProperty(a,c+"cmax"),l=h.get(),m=k.get();return e&&Array.isArray(d)?(!g&&f(l)&&f(m)||(l=1/0,m=-(1/0),d.forEach(function(a){f(a)&&(l>a&&(l=+a),m<a&&(m=+a))}),l>m&&(l=0,m=1),h.set(l),k.set(m),j.nestedProperty(b,c+"cmin").set(l),j.nestedProperty(b,c+"cmax").set(m)),i.makeScaleFunction(e,l,m)):j.identity};var s={start:1,end:-1,middle:0,bottom:1,top:-1},t=1.3;o.textPointStyle=function(a,b){a.each(function(a){var c=e.select(this),d=a.tx||b.text;if(!d||Array.isArray(d))return void c.remove();var g=a.tp||b.textposition,h=g.indexOf("top")!==-1?"top":g.indexOf("bottom")!==-1?"bottom":"middle",i=g.indexOf("left")!==-1?"end":g.indexOf("right")!==-1?"start":"middle",j=a.ts||b.textfont.size,l=a.mrc?a.mrc/.8+1:0;j=f(j)&&j>0?j:0,c.call(o.font,a.tf||b.textfont.family,j,a.tc||b.textfont.color).attr("text-anchor",i).text(d).call(k.convertToTspans);var m=e.select(this.parentNode),n=c.selectAll("tspan.line"),p=((n[0].length||1)-1)*t+1,q=s[i]*l,r=.75*j+s[h]*l+(s[h]-1)*p*j/2;m.attr("transform","translate("+q+","+r+")"),p>1&&n.attr({x:c.attr("x"),y:c.attr("y")})})};var u=.5;o.smoothopen=function(a,b){if(a.length<3)return"M"+a.join("L");var c,e="M"+a[0],f=[];for(c=1;c<a.length-1;c++)f.push(d(a[c-1],a[c],a[c+1],b));for(e+="Q"+f[0][0]+" "+a[1],c=2;c<a.length-1;c++)e+="C"+f[c-2][1]+" "+f[c-1][0]+" "+a[c];return e+="Q"+f[a.length-3][1]+" "+a[a.length-1]},o.smoothclosed=function(a,b){if(a.length<3)return"M"+a.join("L")+"Z";var c,e="M"+a[0],f=a.length-1,g=[d(a[f],a[0],a[1],b)];for(c=1;c<f;c++)g.push(d(a[c-1],a[c],a[c+1],b));for(g.push(d(a[f-1],a[f],a[0],b)),c=1;c<=f;c++)e+="C"+g[c-1][1]+" "+g[c][0]+" "+a[c];return e+="C"+g[f][1]+" "+g[0][0]+" "+a[0]+"Z"};var v={hv:function(a,b){return"H"+e.round(b[0],2)+"V"+e.round(b[1],2)},vh:function(a,b){return"V"+e.round(b[1],2)+"H"+e.round(b[0],2)},hvh:function(a,b){return"H"+e.round((a[0]+b[0])/2,2)+"V"+e.round(b[1],2)+"H"+e.round(b[0],2)},vhv:function(a,b){return"V"+e.round((a[1]+b[1])/2,2)+"H"+e.round(b[0],2)+"V"+e.round(b[1],2)}},w=function(a,b){return"L"+e.round(b[0],2)+","+e.round(b[1],2)};o.steps=function(a){var b=v[a]||w;return function(a){for(var c="M"+e.round(a[0][0],2)+","+e.round(a[0][1],2),d=1;d<a.length;d++)c+=b(a[d-1],a[d]);return c}},o.makeTester=function(a){var b=e.select("body").selectAll("#js-plotly-tester").data([0]);b.enter().append("svg").attr("id","js-plotly-tester").attr(l.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"});var c=b.selectAll(".js-reference-point").data([0]);c.enter().append("path").classed("js-reference-point",!0).attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"}),b.node()._cache||(b.node()._cache={}),a._tester=b,a._testref=c};var x=[],y=1e4;o.bBox=function(a){var b=a.attributes["data-bb"];if(b&&b.value)return j.extendFlat({},x[b.value]);var c=e.select("#js-plotly-tester"),d=c.node(),f=a.cloneNode(!0);d.appendChild(f),e.select(f).attr({x:0,y:0,transform:""});var g=f.getBoundingClientRect(),h=c.select(".js-reference-point").node().getBoundingClientRect();d.removeChild(f);var i={height:g.height,width:g.width,left:g.left-h.left,top:g.top-h.top,right:g.right-h.left,bottom:g.bottom-h.top};return x.length>=y&&(e.selectAll("[data-bb]").attr("data-bb",null),x=[]),a.setAttribute("data-bb",x.length),x.push(i),j.extendFlat({},i)},o.setClipUrl=function(a,b){if(!b)return void a.attr("clip-path",null);var c="#"+b,d=e.select("base");d.size()&&d.attr("href")&&(c=window.location.href+c),a.attr("clip-path","url("+c+")")}},{"../../constants/xmlns_namespaces":88,"../../lib":95,"../../lib/svg_text_utils":106,"../../plots/plots":136,"../../traces/scatter/make_bubble_size_func":177,"../../traces/scatter/subtypes":182,"../color":18,"../colorscale":32,"./symbol_defs":42,d3:9,"fast-isnumeric":11}],42:[function(a,b,c){"use strict";var d=a("d3");b.exports={circle:{n:0,f:function(a){var b=d.round(a,2);return"M"+b+",0A"+b+","+b+" 0 1,1 0,-"+b+"A"+b+","+b+" 0 0,1 "+b+",0Z"}},square:{n:1,f:function(a){var b=d.round(a,2);return"M"+b+","+b+"H-"+b+"V-"+b+"H"+b+"Z"}},diamond:{n:2,f:function(a){var b=d.round(1.3*a,2);return"M"+b+",0L0,"+b+"L-"+b+",0L0,-"+b+"Z"}},cross:{n:3,f:function(a){var b=d.round(.4*a,2),c=d.round(1.2*a,2);return"M"+c+","+b+"H"+b+"V"+c+"H-"+b+"V"+b+"H-"+c+"V-"+b+"H-"+b+"V-"+c+"H"+b+"V-"+b+"H"+c+"Z"}},x:{n:4,f:function(a){var b=d.round(.8*a/Math.sqrt(2),2),c="l"+b+","+b,e="l"+b+",-"+b,f="l-"+b+",-"+b,g="l-"+b+","+b;return"M0,"+b+c+e+f+e+f+g+f+g+c+g+c+"Z"}},"triangle-up":{n:5,f:function(a){var b=d.round(2*a/Math.sqrt(3),2),c=d.round(a/2,2),e=d.round(a,2);return"M-"+b+","+c+"H"+b+"L0,-"+e+"Z"}},"triangle-down":{n:6,f:function(a){var b=d.round(2*a/Math.sqrt(3),2),c=d.round(a/2,2),e=d.round(a,2);return"M-"+b+",-"+c+"H"+b+"L0,"+e+"Z"}},"triangle-left":{n:7,f:function(a){var b=d.round(2*a/Math.sqrt(3),2),c=d.round(a/2,2),e=d.round(a,2);return"M"+c+",-"+b+"V"+b+"L-"+e+",0Z"}},"triangle-right":{n:8,f:function(a){var b=d.round(2*a/Math.sqrt(3),2),c=d.round(a/2,2),e=d.round(a,2);return"M-"+c+",-"+b+"V"+b+"L"+e+",0Z"}},"triangle-ne":{n:9,f:function(a){var b=d.round(.6*a,2),c=d.round(1.2*a,2);return"M-"+c+",-"+b+"H"+b+"V"+c+"Z"}},"triangle-se":{n:10,f:function(a){var b=d.round(.6*a,2),c=d.round(1.2*a,2);return"M"+b+",-"+c+"V"+b+"H-"+c+"Z"}},"triangle-sw":{n:11,f:function(a){var b=d.round(.6*a,2),c=d.round(1.2*a,2);return"M"+c+","+b+"H-"+b+"V-"+c+"Z"}},"triangle-nw":{n:12,f:function(a){var b=d.round(.6*a,2),c=d.round(1.2*a,2);return"M-"+b+","+c+"V-"+b+"H"+c+"Z"}},pentagon:{n:13,f:function(a){var b=d.round(.951*a,2),c=d.round(.588*a,2),e=d.round(-a,2),f=d.round(a*-.309,2),g=d.round(.809*a,2);return"M"+b+","+f+"L"+c+","+g+"H-"+c+"L-"+b+","+f+"L0,"+e+"Z"}},hexagon:{n:14,f:function(a){var b=d.round(a,2),c=d.round(a/2,2),e=d.round(a*Math.sqrt(3)/2,2);return"M"+e+",-"+c+"V"+c+"L0,"+b+"L-"+e+","+c+"V-"+c+"L0,-"+b+"Z"}},hexagon2:{n:15,f:function(a){var b=d.round(a,2),c=d.round(a/2,2),e=d.round(a*Math.sqrt(3)/2,2);return"M-"+c+","+e+"H"+c+"L"+b+",0L"+c+",-"+e+"H-"+c+"L-"+b+",0Z"}},octagon:{n:16,f:function(a){var b=d.round(.924*a,2),c=d.round(.383*a,2);return"M-"+c+",-"+b+"H"+c+"L"+b+",-"+c+"V"+c+"L"+c+","+b+"H-"+c+"L-"+b+","+c+"V-"+c+"Z"}},star:{n:17,f:function(a){var b=1.4*a,c=d.round(.225*b,2),e=d.round(.951*b,2),f=d.round(.363*b,2),g=d.round(.588*b,2),h=d.round(-b,2),i=d.round(b*-.309,2),j=d.round(.118*b,2),k=d.round(.809*b,2),l=d.round(.382*b,2);return"M"+c+","+i+"H"+e+"L"+f+","+j+"L"+g+","+k+"L0,"+l+"L-"+g+","+k+"L-"+f+","+j+"L-"+e+","+i+"H-"+c+"L0,"+h+"Z"}},hexagram:{n:18,f:function(a){var b=d.round(.66*a,2),c=d.round(.38*a,2),e=d.round(.76*a,2);return"M-"+e+",0l-"+c+",-"+b+"h"+e+"l"+c+",-"+b+"l"+c+","+b+"h"+e+"l-"+c+","+b+"l"+c+","+b+"h-"+e+"l-"+c+","+b+"l-"+c+",-"+b+"h-"+e+"Z"}},"star-triangle-up":{n:19,f:function(a){var b=d.round(a*Math.sqrt(3)*.8,2),c=d.round(.8*a,2),e=d.round(1.6*a,2),f=d.round(4*a,2),g="A "+f+","+f+" 0 0 1 ";return"M-"+b+","+c+g+b+","+c+g+"0,-"+e+g+"-"+b+","+c+"Z"}},"star-triangle-down":{n:20,f:function(a){var b=d.round(a*Math.sqrt(3)*.8,2),c=d.round(.8*a,2),e=d.round(1.6*a,2),f=d.round(4*a,2),g="A "+f+","+f+" 0 0 1 ";return"M"+b+",-"+c+g+"-"+b+",-"+c+g+"0,"+e+g+b+",-"+c+"Z"}},"star-square":{n:21,f:function(a){var b=d.round(1.1*a,2),c=d.round(2*a,2),e="A "+c+","+c+" 0 0 1 ";return"M-"+b+",-"+b+e+"-"+b+","+b+e+b+","+b+e+b+",-"+b+e+"-"+b+",-"+b+"Z"}},"star-diamond":{n:22,f:function(a){var b=d.round(1.4*a,2),c=d.round(1.9*a,2),e="A "+c+","+c+" 0 0 1 ";return"M-"+b+",0"+e+"0,"+b+e+b+",0"+e+"0,-"+b+e+"-"+b+",0Z"}},"diamond-tall":{n:23,f:function(a){var b=d.round(.7*a,2),c=d.round(1.4*a,2);return"M0,"+c+"L"+b+",0L0,-"+c+"L-"+b+",0Z"}},"diamond-wide":{n:24,f:function(a){var b=d.round(1.4*a,2),c=d.round(.7*a,2);return"M0,"+c+"L"+b+",0L0,-"+c+"L-"+b+",0Z"}},hourglass:{n:25,f:function(a){var b=d.round(a,2);return"M"+b+","+b+"H-"+b+"L"+b+",-"+b+"H-"+b+"Z"},noDot:!0},bowtie:{n:26,f:function(a){var b=d.round(a,2);return"M"+b+","+b+"V-"+b+"L-"+b+","+b+"V-"+b+"Z"},noDot:!0},"circle-cross":{n:27,f:function(a){var b=d.round(a,2);return"M0,"+b+"V-"+b+"M"+b+",0H-"+b+"M"+b+",0A"+b+","+b+" 0 1,1 0,-"+b+"A"+b+","+b+" 0 0,1 "+b+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(a){var b=d.round(a,2),c=d.round(a/Math.sqrt(2),2);return"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c+"M"+b+",0A"+b+","+b+" 0 1,1 0,-"+b+"A"+b+","+b+" 0 0,1 "+b+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(a){var b=d.round(a,2);return"M0,"+b+"V-"+b+"M"+b+",0H-"+b+"M"+b+","+b+"H-"+b+"V-"+b+"H"+b+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(a){var b=d.round(a,2);return"M"+b+","+b+"L-"+b+",-"+b+"M"+b+",-"+b+"L-"+b+","+b+"M"+b+","+b+"H-"+b+"V-"+b+"H"+b+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(a){var b=d.round(1.3*a,2);return"M"+b+",0L0,"+b+"L-"+b+",0L0,-"+b+"ZM0,-"+b+"V"+b+"M-"+b+",0H"+b},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(a){var b=d.round(1.3*a,2),c=d.round(.65*a,2);return"M"+b+",0L0,"+b+"L-"+b+",0L0,-"+b+"ZM-"+c+",-"+c+"L"+c+","+c+"M-"+c+","+c+"L"+c+",-"+c},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(a){var b=d.round(1.4*a,2);return"M0,"+b+"V-"+b+"M"+b+",0H-"+b},needLine:!0,noDot:!0},"x-thin":{n:34,f:function(a){var b=d.round(a,2);return"M"+b+","+b+"L-"+b+",-"+b+"M"+b+",-"+b+"L-"+b+","+b},needLine:!0,noDot:!0},asterisk:{n:35,f:function(a){var b=d.round(1.2*a,2),c=d.round(.85*a,2);return"M0,"+b+"V-"+b+"M"+b+",0H-"+b+"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c},needLine:!0,noDot:!0},hash:{n:36,f:function(a){var b=d.round(a/2,2),c=d.round(a,2);return"M"+b+","+c+"V-"+c+"m-"+c+",0V"+c+"M"+c+","+b+"H-"+c+"m0,-"+c+"H"+c},needLine:!0},"y-up":{n:37,f:function(a){var b=d.round(1.2*a,2),c=d.round(1.6*a,2),e=d.round(.8*a,2);return"M-"+b+","+e+"L0,0M"+b+","+e+"L0,0M0,-"+c+"L0,0"},needLine:!0,noDot:!0},"y-down":{n:38,f:function(a){var b=d.round(1.2*a,2),c=d.round(1.6*a,2),e=d.round(.8*a,2);return"M-"+b+",-"+e+"L0,0M"+b+",-"+e+"L0,0M0,"+c+"L0,0"},needLine:!0,noDot:!0},"y-left":{n:39,f:function(a){var b=d.round(1.2*a,2),c=d.round(1.6*a,2),e=d.round(.8*a,2);return"M"+e+","+b+"L0,0M"+e+",-"+b+"L0,0M-"+c+",0L0,0"},needLine:!0,noDot:!0},"y-right":{n:40,f:function(a){var b=d.round(1.2*a,2),c=d.round(1.6*a,2),e=d.round(.8*a,2);return"M-"+e+","+b+"L0,0M-"+e+",-"+b+"L0,0M"+c+",0L0,0"},needLine:!0,noDot:!0},"line-ew":{n:41,f:function(a){var b=d.round(1.4*a,2);return"M"+b+",0H-"+b},needLine:!0,noDot:!0},"line-ns":{n:42,f:function(a){var b=d.round(1.4*a,2);return"M0,"+b+"V-"+b},needLine:!0,noDot:!0},"line-ne":{n:43,f:function(a){var b=d.round(a,2);return"M"+b+",-"+b+"L-"+b+","+b},needLine:!0,noDot:!0},"line-nw":{n:44,f:function(a){var b=d.round(a,2);return"M"+b+","+b+"L-"+b+",-"+b},needLine:!0,noDot:!0}}},{d3:9}],43:[function(a,b,c){"use strict";b.exports={visible:{valType:"boolean",role:"info",description:["Determines whether or not this set of error bars is visible."].join(" ")},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],role:"info",description:["Determines the rule used to generate the error bars.","If *constant`, the bar lengths are of a constant value.","Set this constant in `value`.","If *percent*, the bar lengths correspond to a percentage of","underlying data. Set this percentage in `value`.","If *sqrt*, the bar lengths correspond to the sqaure of the","underlying data.","If *array*, the bar lengths are set with data set `array`."].join(" ")},symmetric:{valType:"boolean",role:"info",description:["Determines whether or not the error bars have the same length","in both direction","(top/bottom for vertical bars, left/right for horizontal bars."].join(" ")},array:{valType:"data_array",description:["Sets the data corresponding the length of each error bar.","Values are plotted relative to the underlying data."].join(" ")},arrayminus:{valType:"data_array",description:["Sets the data corresponding the length of each error bar in the","bottom (left) direction for vertical (horizontal) bars","Values are plotted relative to the underlying data."].join(" ")},value:{valType:"number",min:0,dflt:10,role:"info",description:["Sets the value of either the percentage","(if `type` is set to *percent*) or the constant","(if `type` is set to *constant*) corresponding to the lengths of","the error bars."].join(" ")},valueminus:{valType:"number",min:0,dflt:10,role:"info",description:["Sets the value of either the percentage","(if `type` is set to *percent*) or the constant","(if `type` is set to *constant*) corresponding to the lengths of","the error bars in the","bottom (left) direction for vertical (horizontal) bars"].join(" ")},traceref:{valType:"integer",min:0,dflt:0,role:"info"},tracerefminus:{valType:"integer",min:0,dflt:0,role:"info"},copy_ystyle:{valType:"boolean",role:"style"},copy_zstyle:{valType:"boolean",role:"style"},color:{valType:"color",role:"style",description:"Sets the stoke color of the error bars."},thickness:{valType:"number",min:0,dflt:2,role:"style",description:"Sets the thickness (in px) of the error bars."},width:{valType:"number",min:0,role:"style",description:["Sets the width (in px) of the cross-bar at both ends","of the error bars."].join(" ")},_deprecated:{opacity:{valType:"number",role:"style",description:["Obsolete.","Use the alpha channel in error bar `color` to set the opacity."].join(" ")}}}},{}],44:[function(a,b,c){"use strict";function d(a,b,c,d){var f=b["error_"+d]||{},i=f.visible&&["linear","log"].indexOf(c.type)!==-1,j=[];if(i){for(var k=h(f),l=0;l<a.length;l++){var m=a[l],n=m[d];if(e(c.c2l(n))){var o=k(n,l);if(e(o[0])&&e(o[1])){var p=m[d+"s"]=n-o[0],q=m[d+"h"]=n+o[1];j.push(p,q)}}}g.expand(c,j,{padded:!0})}}var e=a("fast-isnumeric"),f=a("../../plots/plots"),g=a("../../plots/cartesian/axes"),h=a("./compute_error");b.exports=function(a){for(var b=a.calcdata,c=0;c<b.length;c++){var e=b[c],h=e[0].trace;if(f.traceIs(h,"errorBarsOK")){var i=g.getFromId(a,h.xaxis),j=g.getFromId(a,h.yaxis);d(e,h,i,"x"),d(e,h,j,"y")}}}},{"../../plots/cartesian/axes":116,"../../plots/plots":136,"./compute_error":45,"fast-isnumeric":11}],45:[function(a,b,c){"use strict";function d(a,b){return"percent"===a?function(a){return Math.abs(a*b/100)}:"constant"===a?function(){return Math.abs(b)}:"sqrt"===a?function(a){return Math.sqrt(Math.abs(a))}:void 0}b.exports=function(a){var b=a.type,c=a.symmetric;if("data"===b){var e=a.array,f=a.arrayminus;return c||void 0===f?function(a,b){var c=+e[b];return[c,c]}:function(a,b){return[+f[b],+e[b]]}}var g=d(b,a.value),h=d(b,a.valueminus);return c||void 0===a.valueminus?function(a){var b=g(a);return[b,b]}:function(a){return[h(a),g(a)]}}},{}],46:[function(a,b,c){"use strict";var d=a("fast-isnumeric"),e=a("../../plots/plots"),f=a("../../lib"),g=a("./attributes");b.exports=function(a,b,c,h){function i(a,b){return f.coerce(l,k,g,a,b)}var j="error_"+h.axis,k=b[j]={},l=a[j]||{},m=void 0!==l.array||void 0!==l.value||"sqrt"===l.type,n=i("visible",m);if(n!==!1){var o=i("type","array"in l?"data":"percent"),p=!0;if("sqrt"!==o&&(p=i("symmetric",!(("data"===o?"arrayminus":"valueminus")in l))),"data"===o){var q=i("array");if(q||(k.array=[]),i("traceref"),!p){var r=i("arrayminus");r||(k.arrayminus=[]),i("tracerefminus")}}else"percent"!==o&&"constant"!==o||(i("value"),p||i("valueminus"));var s="copy_"+h.inherit+"style";if(h.inherit){var t=b["error_"+h.inherit];(t||{}).visible&&i(s,!(l.color||d(l.thickness)||d(l.width)))}h.inherit&&k[s]||(i("color",c),i("thickness"),i("width",e.traceIs(b,"gl3d")?0:4))}}},{"../../lib":95,"../../plots/plots":136,"./attributes":43,"fast-isnumeric":11}],47:[function(a,b,c){"use strict";var d=b.exports={};d.attributes=a("./attributes"),d.supplyDefaults=a("./defaults"),d.calc=a("./calc"),d.calcFromTrace=function(a,b){for(var c=a.x||[],e=a.y,f=c.length||e.length,g=new Array(f),h=0;h<f;h++)g[h]={x:c[h],y:e[h]};return g[0].trace=a,d.calc({calcdata:[g],_fullLayout:b}),g},d.plot=a("./plot"),d.style=a("./style"),d.hoverInfo=function(a,b,c){(b.error_y||{}).visible&&(c.yerr=a.yh-a.y,b.error_y.symmetric||(c.yerrneg=a.y-a.ys)),(b.error_x||{}).visible&&(c.xerr=a.xh-a.x,b.error_x.symmetric||(c.xerrneg=a.x-a.xs))}},{"./attributes":43,"./calc":44,"./defaults":46,"./plot":48,"./style":49}],48:[function(a,b,c){"use strict";function d(a,b,c){var d={x:b.c2p(a.x),y:c.c2p(a.y)};return void 0!==a.yh&&(d.yh=c.c2p(a.yh),d.ys=c.c2p(a.ys),f(d.ys)||(d.noYS=!0,d.ys=c.c2p(a.ys,!0))),void 0!==a.xh&&(d.xh=b.c2p(a.xh),d.xs=b.c2p(a.xs),f(d.xs)||(d.noXS=!0,d.xs=b.c2p(a.xs,!0))),d}var e=a("d3"),f=a("fast-isnumeric"),g=a("../../lib"),h=a("../../traces/scatter/subtypes");b.exports=function(a,b){var c=b.x(),i=b.y();a.each(function(a){var b=a[0].trace,j=b.error_x||{},k=b.error_y||{},l=h.hasMarkers(b)&&b.marker.maxdisplayed>0;if(k.visible||j.visible){var m=e.select(this).selectAll("g.errorbar").data(g.identity);m.enter().append("g").classed("errorbar",!0),m.each(function(a){var b=e.select(this),g=d(a,c,i);if(!l||a.vis){var h;if(k.visible&&f(g.x)&&f(g.yh)&&f(g.ys)){var m=k.width;h="M"+(g.x-m)+","+g.yh+"h"+2*m+"m-"+m+",0V"+g.ys,g.noYS||(h+="m-"+m+",0h"+2*m),b.append("path").classed("yerror",!0).attr("d",h)}if(j.visible&&f(g.y)&&f(g.xh)&&f(g.xs)){var n=(j.copy_ystyle?k:j).width;h="M"+g.xh+","+(g.y-n)+"v"+2*n+"m0,-"+n+"H"+g.xs,g.noXS||(h+="m0,-"+n+"v"+2*n),b.append("path").classed("xerror",!0).attr("d",h)}}})}})}},{"../../lib":95,"../../traces/scatter/subtypes":182,d3:9,"fast-isnumeric":11}],49:[function(a,b,c){"use strict";var d=a("d3"),e=a("../color");b.exports=function(a){a.each(function(a){var b=a[0].trace,c=b.error_y||{},f=b.error_x||{},g=d.select(this);g.selectAll("path.yerror").style("stroke-width",c.thickness+"px").call(e.stroke,c.color),f.copy_ystyle&&(f=c),g.selectAll("path.xerror").style("stroke-width",f.thickness+"px").call(e.stroke,f.color)})}},{"../color":18,d3:9}],50:[function(a,b,c){"use strict";var d=a("../../plots/cartesian/constants");b.exports={_isLinkedToArray:!0,source:{valType:"string",role:"info",description:["Specifies the URL of the image to be used.","The URL must be accessible from the domain where the","plot code is run, and can be either relative or absolute."].join(" ")},layer:{valType:"enumerated",values:["below","above"],dflt:"above",role:"info",description:["Specifies whether images are drawn below or above traces.","When `xref` and `yref` are both set to `paper`,","image is drawn below the entire plot area."].join(" ")},sizex:{valType:"number",role:"info",dflt:0,description:["Sets the image container size horizontally.","The image will be sized based on the `position` value.","When `xref` is set to `paper`, units are sized relative","to the plot width."].join(" ")},sizey:{valType:"number",role:"info",dflt:0,description:["Sets the image container size vertically.","The image will be sized based on the `position` value.","When `yref` is set to `paper`, units are sized relative","to the plot height."].join(" ")},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",role:"info",description:["Specifies which dimension of the image to constrain."].join(" ")},opacity:{valType:"number",role:"info",min:0,max:1,dflt:1,description:"Sets the opacity of the image."},x:{valType:"number",role:"info",dflt:0,description:["Sets the image's x position.","When `xref` is set to `paper`, units are sized relative","to the plot height.","See `xref` for more info"].join(" ")},y:{valType:"number",role:"info",dflt:0,description:["Sets the image's y position.","When `yref` is set to `paper`, units are sized relative","to the plot height.","See `yref` for more info"].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",role:"info",description:"Sets the anchor for the x position"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",role:"info",description:"Sets the anchor for the y position."},xref:{valType:"enumerated",values:["paper",d.idRegex.x.toString()],dflt:"paper",role:"info",description:["Sets the images's x coordinate axis.","If set to a x axis id (e.g. *x* or *x2*), the `x` position","refers to an x data coordinate","If set to *paper*, the `x` position refers to the distance from","the left of plot in normalized coordinates","where *0* (*1*) corresponds to the left (right)."].join(" ")},yref:{valType:"enumerated",values:["paper",d.idRegex.y.toString()],dflt:"paper",role:"info",description:["Sets the images's y coordinate axis.","If set to a y axis id (e.g. *y* or *y2*), the `y` position","refers to a y data coordinate.","If set to *paper*, the `y` position refers to the distance from","the bottom of the plot in normalized coordinates","where *0* (*1*) corresponds to the bottom (top)."].join(" ")}}},{"../../plots/cartesian/constants":121}],51:[function(a,b,c){"use strict";function d(a,b,c){function d(c,d){return f.coerce(a,b,g,c,d)}b=b||{},d("source"),d("layer"),d("x"),d("y"),d("xanchor"),
d("yanchor"),d("sizex"),d("sizey"),d("sizing"),d("opacity");for(var h=0;h<2;h++){var i={_fullLayout:c},j=["x","y"][h];e.coerceRef(a,b,i,j,"paper")}return b}var e=a("../../plots/cartesian/axes"),f=a("../../lib"),g=a("./attributes");b.exports=function(a,b){if(a.images&&Array.isArray(a.images))for(var c=a.images,e=b.images=[],f=0;f<c.length;f++){var g=c[f];if(g.source){var h=d(c[f]||{},e[f]||{},b);e.push(h)}}}},{"../../lib":95,"../../plots/cartesian/axes":116,"./attributes":50}],52:[function(a,b,c){"use strict";var d=a("d3"),e=a("../drawing"),f=a("../../plots/cartesian/axes"),g=a("../../constants/xmlns_namespaces");b.exports=function(a){function b(b){var c=d.select(this);c.attr("xmlns",g.svg);var e=new Promise(function(a){function d(){c.remove(),a()}var e=new Image;e.setAttribute("crossOrigin","anonymous"),e.onerror=d,e.onload=function(){var a=document.createElement("canvas");a.width=this.width,a.height=this.height;var b=a.getContext("2d");b.drawImage(this,0,0);var d=a.toDataURL("image/png");c.attr("xlink:href",d)},c.on("error",d),c.on("load",a),e.src=b.source});a._promises.push(e)}function c(b){var c=d.select(this),g=f.getFromId(a,b.xref),h=f.getFromId(a,b.yref),j=i._size,k=g?Math.abs(g.l2p(b.sizex)-g.l2p(0)):b.sizex*j.w,l=h?Math.abs(h.l2p(b.sizey)-h.l2p(0)):b.sizey*j.h,m=k*o.x[b.xanchor].offset,n=l*o.y[b.yanchor].offset,p=o.x[b.xanchor].sizing+o.y[b.yanchor].sizing,q=(g?g.l2p(b.x)+g._offset:b.x*j.w+j.l)+m,r=(h?h.l2p(b.y)+h._offset:j.h-b.y*j.h+j.t)+n;switch(b.sizing){case"fill":p+=" slice";break;case"stretch":p="none"}c.attr({x:q,y:r,width:k,height:l,preserveAspectRatio:p,opacity:b.opacity});var s=g?g._id:"",t=h?h._id:"",u=s+t;u&&c.call(e.setClipUrl,"clip"+i._uid+u)}function h(a,b){return a.source+b}var i=a._fullLayout,j=[],k=[],l=[];if(i.images){for(var m=0;m<i.images.length;m++){var n=i.images[m];"below"===n.layer&&"paper"!==n.xref&&"paper"!==n.yref?k.push(n):"above"===n.layer?j.push(n):l.push(n)}var o={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}}},p=i._imageLowerLayer.selectAll("image").data(l,h),q=i._imageSubplotLayer.selectAll("image").data(k,h),r=i._imageUpperLayer.selectAll("image").data(j,h);p.enter().append("image").each(b),q.enter().append("image").each(b),r.enter().append("image").each(b),p.exit().remove(),q.exit().remove(),r.exit().remove(),p.each(c),q.each(c),r.each(c)}}},{"../../constants/xmlns_namespaces":88,"../../plots/cartesian/axes":116,"../drawing":41,d3:9}],53:[function(a,b,c){"use strict";var d=a("./draw"),e=a("./defaults"),f=a("./attributes");b.exports={draw:d,layoutAttributes:f,supplyLayoutDefaults:e}},{"./attributes":50,"./defaults":51,"./draw":52}],54:[function(a,b,c){"use strict";c.isRightAnchor=function(a){return"right"===a.xanchor||"auto"===a.xanchor&&a.x>=2/3},c.isCenterAnchor=function(a){return"center"===a.xanchor||"auto"===a.xanchor&&a.x>1/3&&a.x<2/3},c.isBottomAnchor=function(a){return"bottom"===a.yanchor||"auto"===a.yanchor&&a.y<=1/3},c.isMiddleAnchor=function(a){return"middle"===a.yanchor||"auto"===a.yanchor&&a.y>1/3&&a.y<2/3}},{}],55:[function(a,b,c){"use strict";var d=a("../../plots/font_attributes"),e=a("../color/attributes"),f=a("../../lib/extend").extendFlat;b.exports={bgcolor:{valType:"color",role:"style",description:"Sets the legend background color."},bordercolor:{valType:"color",dflt:e.defaultLine,role:"style",description:"Sets the color of the border enclosing the legend."},borderwidth:{valType:"number",min:0,dflt:0,role:"style",description:"Sets the width (in px) of the border enclosing the legend."},font:f({},d,{description:"Sets the font used to text the legend items."}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",role:"info",description:"Sets the orientation of the legend."},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],role:"style",description:["Determines the order at which the legend items are displayed.","If *normal*, the items are displayed top-to-bottom in the same","order as the input data.","If *reversed*, the items are displayed in the opposite order","as *normal*.","If *grouped*, the items are displayed in groups","(when a trace `legendgroup` is provided).","if *grouped+reversed*, the items are displayed in the opposite order","as *grouped*."].join(" ")},tracegroupgap:{valType:"number",min:0,dflt:10,role:"style",description:["Sets the amount of vertical space (in px) between legend groups."].join(" ")},x:{valType:"number",min:-2,max:3,dflt:1.02,role:"style",description:"Sets the x position (in normalized coordinates) of the legend."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",description:["Sets the legend's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the legend."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:1,role:"style",description:"Sets the y position (in normalized coordinates) of the legend."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",role:"info",description:["Sets the legend's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the legend."].join(" ")}}},{"../../lib/extend":94,"../../plots/font_attributes":134,"../color/attributes":17}],56:[function(a,b,c){"use strict";b.exports={scrollBarWidth:4,scrollBarHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4}},{}],57:[function(a,b,c){"use strict";var d=a("../../lib"),e=a("../../plots/plots"),f=a("./attributes"),g=a("./helpers");b.exports=function(a,b,c){function h(a,b){return d.coerce(m,n,f,a,b)}for(var i,j,k,l,m=a.legend||{},n=b.legend={},o=0,p="normal",q=0;q<c.length;q++){var r=c[q];g.legendGetsTrace(r)&&(o++,e.traceIs(r,"pie")&&o++),(e.traceIs(r,"bar")&&"stack"===b.barmode||["tonextx","tonexty"].indexOf(r.fill)!==-1)&&(p=g.isGrouped({traceorder:p})?"grouped+reversed":"reversed"),void 0!==r.legendgroup&&""!==r.legendgroup&&(p=g.isReversed({traceorder:p})?"reversed+grouped":"grouped")}var s=d.coerce(a,b,e.layoutAttributes,"showlegend",o>1);if(s!==!1){if(h("bgcolor",b.paper_bgcolor),h("bordercolor"),h("borderwidth"),d.coerceFont(h,"font",b.font),h("orientation"),"h"===n.orientation){var t=a.xaxis;t&&t.rangeslider&&t.rangeslider.visible?(i=0,k="left",j=1.1,l="bottom"):(i=0,k="left",j=-.1,l="top")}h("traceorder",p),g.isGrouped(b.legend)&&h("tracegroupgap"),h("x",i),h("xanchor",k),h("y",j),h("yanchor",l),d.noneOrAll(m,n,["x","y"])}}},{"../../lib":95,"../../plots/plots":136,"./attributes":55,"./helpers":60}],58:[function(a,b,c){"use strict";function d(a,b){function c(c){k.util.convertToTspans(c,function(){c.selectAll("tspan.line").attr({x:c.attr("x")}),a.call(f,b)})}var d=a.data()[0][0],e=b._fullLayout,g=d.trace,h=m.traceIs(g,"pie"),i=g.index,j=h?d.label:g.name,l=a.selectAll("text.legendtext").data([0]);l.enter().append("text").classed("legendtext",!0),l.attr({x:40,y:0,"data-unformatted":j}).style("text-anchor","start").classed("user-select-none",!0).call(o.font,e.legend.font).text(j),b._context.editable&&!h?l.call(k.util.makeEditable).call(c).on("edit",function(a){this.attr({"data-unformatted":a}),this.text(a).call(c),this.text()||(a="    "),k.restyle(b,"name",a,i)}):l.call(c)}function e(a,b){var c=b._fullLayout.hiddenlabels?b._fullLayout.hiddenlabels.slice():[],d=a.selectAll("rect").data([0]);d.enter().append("rect").classed("legendtoggle",!0).style("cursor","pointer").attr("pointer-events","all").call(p.fill,"rgba(0,0,0,0)"),d.on("click",function(){if(!b._dragged){var d,e,f=a.data()[0][0],g=b._fullData,h=f.trace,i=h.legendgroup,j=[];if(m.traceIs(h,"pie")){var l=f.label,n=c.indexOf(l);n===-1?c.push(l):c.splice(n,1),k.relayout(b,"hiddenlabels",c)}else{if(""===i)j=[h.index];else for(var o=0;o<g.length;o++)d=g[o],d.legendgroup===i&&j.push(d.index);e=h.visible!==!0||"legendonly",k.restyle(b,"visible",e,j)}}})}function f(a,b){var c,d,e=a.data()[0][0],f=a.selectAll(".legendtoggle"),g=a.select("g[class*=math-group]"),h=b._fullLayout.legend,i=1.3*h.font.size;if(!e.trace.showlegend)return void a.remove();if(g.node()){var j=o.bBox(g.node());c=j.height,d=j.width,l.setTranslate(g,0,c/4)}else{var k=a.selectAll(".legendtext"),m=a.selectAll(".legendtext>tspan"),n=m[0].length||1;c=i*n,d=k.node()&&o.bBox(k.node()).width;var p=i*(.3+(1-n)/2);k.attr("y",p),m.attr("y",p)}c=Math.max(c,16)+3,f.attr({x:0,y:-c/2,height:c}),e.height=c,e.width=d}function g(a,b,c){var d=a._fullLayout,e=d.legend,f=e.borderwidth,g=t.isGrouped(e);if(t.isVertical(e))g&&b.each(function(a,b){l.setTranslate(this,0,b*e.tracegroupgap)}),e.width=0,e.height=0,c.each(function(a){var b=a[0],c=b.height,d=b.width;l.setTranslate(this,f,5+f+e.height+c/2),e.height+=c,e.width=Math.max(e.width,d)}),e.width+=45+2*f,e.height+=10+2*f,g&&(e.height+=(e._lgroupsLength-1)*e.tracegroupgap),c.selectAll(".legendtoggle").attr("width",(a._context.editable?0:e.width)+40),e.width=Math.ceil(e.width),e.height=Math.ceil(e.height);else if(g){e.width=0,e.height=0;for(var h=[e.width],i=b.data(),k=0,m=i.length;k<m;k++){var n=i[k].map(function(a){return a[0].width}),o=40+Math.max.apply(null,n);e.width+=e.tracegroupgap+o,h.push(e.width)}b.each(function(a,b){l.setTranslate(this,h[b],0)}),b.each(function(){var a=j.select(this),b=a.selectAll("g.traces"),c=0;b.each(function(a){var b=a[0],d=b.height;l.setTranslate(this,0,5+f+c+d/2),c+=d}),e.height=Math.max(e.height,c)}),e.height+=10+2*f,e.width+=2*f,e.width=Math.ceil(e.width),e.height=Math.ceil(e.height),c.selectAll(".legendtoggle").attr("width",a._context.editable?0:e.width)}else{e.width=0,e.height=0;var p=0,q=0,r=0,s=0;c.each(function(a){r=Math.max(40+a[0].width,r)}),c.each(function(a){var b=a[0],c=r,g=e.tracegroupgap||5;f+s+g+c>d.width-(d.margin.r+d.margin.l)&&(s=0,p+=q,e.height=e.height+q,q=0),l.setTranslate(this,f+s,5+f+b.height/2+p),e.width+=g+c,e.height=Math.max(e.height,b.height),s+=g+c,q=Math.max(b.height,q)}),e.width+=2*f,e.height+=10+2*f,e.width=Math.ceil(e.width),e.height=Math.ceil(e.height),c.selectAll(".legendtoggle").attr("width",a._context.editable?0:e.width)}}function h(a){var b=a._fullLayout,c=b.legend,d="left";u.isRightAnchor(c)?d="right":u.isCenterAnchor(c)&&(d="center");var e="top";u.isBottomAnchor(c)?e="bottom":u.isMiddleAnchor(c)&&(e="middle"),m.autoMargin(a,"legend",{x:c.x,y:c.y,l:c.width*({right:1,center:.5}[d]||0),r:c.width*({left:1,center:.5}[d]||0),b:c.height*({top:1,middle:.5}[e]||0),t:c.height*({bottom:1,middle:.5}[e]||0)})}function i(a){var b=a._fullLayout,c=b.legend,d="left";u.isRightAnchor(c)?d="right":u.isCenterAnchor(c)&&(d="center"),m.autoMargin(a,"legend",{x:c.x,y:.5,l:c.width*({right:1,center:.5}[d]||0),r:c.width*({left:1,center:.5}[d]||0),b:0,t:0})}var j=a("d3"),k=a("../../plotly"),l=a("../../lib"),m=a("../../plots/plots"),n=a("../dragelement"),o=a("../drawing"),p=a("../color"),q=a("./constants"),r=a("./get_legend_data"),s=a("./style"),t=a("./helpers"),u=a("./anchor_utils");b.exports=function(a){function b(a,b){A.attr("data-scroll",b).call(l.setTranslate,0,b),B.call(o.setRect,M,a,q.scrollBarWidth,q.scrollBarHeight),y.select("rect").attr({y:t.borderwidth-b})}var c=a._fullLayout,f="legend"+c._uid;if(c._infolayer&&a.calcdata){var t=c.legend,v=c.showlegend&&r(a.calcdata,t),w=c.hiddenlabels||[];if(!c.showlegend||!v.length)return c._infolayer.selectAll(".legend").remove(),c._topdefs.select("#"+f).remove(),void m.autoMargin(a,"legend");var x=c._infolayer.selectAll("g.legend").data([0]);x.enter().append("g").attr({class:"legend","pointer-events":"all"});var y=c._topdefs.selectAll("#"+f).data([0]);y.enter().append("clipPath").attr("id",f).append("rect");var z=x.selectAll("rect.bg").data([0]);z.enter().append("rect").attr({class:"bg","shape-rendering":"crispEdges"}),z.call(p.stroke,t.bordercolor),z.call(p.fill,t.bgcolor),z.style("stroke-width",t.borderwidth+"px");var A=x.selectAll("g.scrollbox").data([0]);A.enter().append("g").attr("class","scrollbox");var B=x.selectAll("rect.scrollbar").data([0]);B.enter().append("rect").attr({class:"scrollbar",rx:20,ry:2,width:0,height:0}).call(p.fill,"#808BA4");var C=A.selectAll("g.groups").data(v);C.enter().append("g").attr("class","groups"),C.exit().remove();var D=C.selectAll("g.traces").data(l.identity);D.enter().append("g").attr("class","traces"),D.exit().remove(),D.call(s).style("opacity",function(a){var b=a[0].trace;return m.traceIs(b,"pie")?w.indexOf(a[0].label)!==-1?.5:1:"legendonly"===b.visible?.5:1}).each(function(){j.select(this).call(d,a).call(e,a)});var E=0!==x.enter().size();E&&(g(a,C,D),h(a));var F=0,G=c.width,H=0,I=c.height;g(a,C,D),t.height>I?i(a):h(a);var J=c._size,K=J.l+J.w*t.x,L=J.t+J.h*(1-t.y);u.isRightAnchor(t)?K-=t.width:u.isCenterAnchor(t)&&(K-=t.width/2),u.isBottomAnchor(t)?L-=t.height:u.isMiddleAnchor(t)&&(L-=t.height/2);var M=t.width,N=J.w;M>N?(K=J.l,M=N):(K+M>G&&(K=G-M),K<F&&(K=F),M=Math.min(G-K,t.width));var O=t.height,P=J.h;O>P?(L=J.t,O=P):(L+O>I&&(L=I-O),L<H&&(L=H),O=Math.min(I-L,t.height)),l.setTranslate(x,K,L);var Q,R,S=O-q.scrollBarHeight-2*q.scrollBarMargin,T=t.height-O;if(t.height<=O||a._context.staticPlot)z.attr({width:M-t.borderwidth,height:O-t.borderwidth,x:t.borderwidth/2,y:t.borderwidth/2}),l.setTranslate(A,0,0),y.select("rect").attr({width:M-2*t.borderwidth,height:O-2*t.borderwidth,x:t.borderwidth,y:t.borderwidth}),A.call(o.setClipUrl,f);else{Q=q.scrollBarMargin,R=A.attr("data-scroll")||0,z.attr({width:M-2*t.borderwidth+q.scrollBarWidth+q.scrollBarMargin,height:O-t.borderwidth,x:t.borderwidth/2,y:t.borderwidth/2}),y.select("rect").attr({width:M-2*t.borderwidth+q.scrollBarWidth+q.scrollBarMargin,height:O-2*t.borderwidth,x:t.borderwidth,y:t.borderwidth-R}),A.call(o.setClipUrl,f),E&&b(Q,R),x.on("wheel",null),x.on("wheel",function(){R=l.constrain(A.attr("data-scroll")-j.event.deltaY/S*T,-T,0),Q=q.scrollBarMargin-R/T*S,b(Q,R),j.event.preventDefault()}),B.on(".drag",null),A.on(".drag",null);var U=j.behavior.drag().on("drag",function(){Q=l.constrain(j.event.y-q.scrollBarHeight/2,q.scrollBarMargin,q.scrollBarMargin+S),R=-(Q-q.scrollBarMargin)/S*T,b(Q,R)});B.call(U),A.call(U)}if(a._context.editable){var V,W,X,Y;x.classed("cursor-move",!0),n.init({element:x.node(),prepFn:function(){var a=l.getTranslate(x);X=a.x,Y=a.y},moveFn:function(a,b){var c=X+a,d=Y+b;l.setTranslate(x,c,d),V=n.align(c,0,J.l,J.l+J.w,t.xanchor),W=n.align(d,0,J.t+J.h,J.t,t.yanchor)},doneFn:function(b){b&&void 0!==V&&void 0!==W&&k.relayout(a,{"legend.x":V,"legend.y":W})}})}}}},{"../../lib":95,"../../plotly":113,"../../plots/plots":136,"../color":18,"../dragelement":39,"../drawing":41,"./anchor_utils":54,"./constants":56,"./get_legend_data":59,"./helpers":60,"./style":62,d3:9}],59:[function(a,b,c){"use strict";var d=a("../../plots/plots"),e=a("./helpers");b.exports=function(a,b){function c(a,c){if(""!==a&&e.isGrouped(b))i.indexOf(a)===-1?(i.push(a),j=!0,h[a]=[[c]]):h[a].push([c]);else{var d="~~i"+l;i.push(d),h[d]=[[c]],l++}}var f,g,h={},i=[],j=!1,k={},l=0;for(f=0;f<a.length;f++){var m=a[f],n=m[0],o=n.trace,p=o.legendgroup;if(e.legendGetsTrace(o)&&o.showlegend)if(d.traceIs(o,"pie"))for(k[p]||(k[p]={}),g=0;g<m.length;g++){var q=m[g].label;k[p][q]||(c(p,{label:q,color:m[g].color,i:m[g].i,trace:o}),k[p][q]=!0)}else c(p,n)}if(!i.length)return[];var r,s,t=i.length;if(j&&e.isGrouped(b))for(s=new Array(t),f=0;f<t;f++)r=h[i[f]],s[f]=e.isReversed(b)?r.reverse():r;else{for(s=[new Array(t)],f=0;f<t;f++)r=h[i[f]][0],s[0][e.isReversed(b)?t-f-1:f]=r;t=1}return b._lgroupsLength=t,s}},{"../../plots/plots":136,"./helpers":60}],60:[function(a,b,c){"use strict";var d=a("../../plots/plots");c.legendGetsTrace=function(a){return a.visible&&d.traceIs(a,"showLegend")},c.isGrouped=function(a){return(a.traceorder||"").indexOf("grouped")!==-1},c.isVertical=function(a){return"h"!==a.orientation},c.isReversed=function(a){return(a.traceorder||"").indexOf("reversed")!==-1}},{"../../plots/plots":136}],61:[function(a,b,c){"use strict";var d=b.exports={};d.layoutAttributes=a("./attributes"),d.supplyLayoutDefaults=a("./defaults"),d.draw=a("./draw"),d.style=a("./style")},{"./attributes":55,"./defaults":57,"./draw":58,"./style":62}],62:[function(a,b,c){"use strict";function d(a){var b=a[0].trace,c=b.visible&&b.fill&&"none"!==b.fill,d=n.hasLines(b),e=i.select(this).select(".legendfill").selectAll("path").data(c?[a]:[]);e.enter().append("path").classed("js-fill",!0),e.exit().remove(),e.attr("d","M5,0h30v6h-30z").call(l.fillGroupStyle);var f=i.select(this).select(".legendlines").selectAll("path").data(d?[a]:[]);f.enter().append("path").classed("js-line",!0).attr("d","M5,0h30"),f.exit().remove(),f.call(l.lineGroupStyle)}function e(a){function b(a,b,c){var d=j.nestedProperty(g,a).get(),e=Array.isArray(d)&&b?b(d):d;if(c){if(e<c[0])return c[0];if(e>c[1])return c[1]}return e}function c(a){return a[0]}var d,e,f=a[0],g=f.trace,h=n.hasMarkers(g),k=n.hasText(g),m=n.hasLines(g);if(h||k||m){var o={},p={};h&&(o.mc=b("marker.color",c),o.mo=b("marker.opacity",j.mean,[.2,1]),o.ms=b("marker.size",j.mean,[2,16]),o.mlc=b("marker.line.color",c),o.mlw=b("marker.line.width",j.mean,[0,5]),p.marker={sizeref:1,sizemin:1,sizemode:"diameter"}),m&&(p.line={width:b("line.width",c,[0,10])}),k&&(o.tx="Aa",o.tp=b("textposition",c),o.ts=10,o.tc=b("textfont.color",c),o.tf=b("textfont.family",c)),d=[j.minExtend(f,o)],e=j.minExtend(g,p)}var q=i.select(this).select("g.legendpoints"),r=q.selectAll("path.scatterpts").data(h?d:[]);r.enter().append("path").classed("scatterpts",!0).attr("transform","translate(20,0)"),r.exit().remove(),r.call(l.pointStyle,e),h&&(d[0].mrc=3);var s=q.selectAll("g.pointtext").data(k?d:[]);s.enter().append("g").classed("pointtext",!0).append("text").attr("transform","translate(20,0)"),s.exit().remove(),s.selectAll("text").call(l.textPointStyle,e)}function f(a){var b=a[0].trace,c=b.marker||{},d=c.line||{},e=i.select(this).select("g.legendpoints").selectAll("path.legendbar").data(k.traceIs(b,"bar")?[a]:[]);e.enter().append("path").classed("legendbar",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),e.exit().remove(),e.each(function(a){var b=(a.mlw+1||d.width+1)-1,e=i.select(this);e.style("stroke-width",b+"px").call(m.fill,a.mc||c.color),b&&e.call(m.stroke,a.mlc||d.color)})}function g(a){var b=a[0].trace,c=i.select(this).select("g.legendpoints").selectAll("path.legendbox").data(k.traceIs(b,"box")&&b.visible?[a]:[]);c.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),c.exit().remove(),c.each(function(a){var c=(a.lw+1||b.line.width+1)-1,d=i.select(this);d.style("stroke-width",c+"px").call(m.fill,a.fc||b.fillcolor),c&&d.call(m.stroke,a.lc||b.line.color)})}function h(a){var b=a[0].trace,c=i.select(this).select("g.legendpoints").selectAll("path.legendpie").data(k.traceIs(b,"pie")&&b.visible?[a]:[]);c.enter().append("path").classed("legendpie",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),c.exit().remove(),c.size()&&c.call(o,a[0],b)}var i=a("d3"),j=a("../../lib"),k=a("../../plots/plots"),l=a("../drawing"),m=a("../color"),n=a("../../traces/scatter/subtypes"),o=a("../../traces/pie/style_one");b.exports=function(a){a.each(function(a){var b=i.select(this),c=b.selectAll("g.legendfill").data([a]);c.enter().append("g").classed("legendfill",!0);var d=b.selectAll("g.legendlines").data([a]);d.enter().append("g").classed("legendlines",!0);var e=b.selectAll("g.legendsymbols").data([a]);e.enter().append("g").classed("legendsymbols",!0),e.style("opacity",a[0].trace.opacity),e.selectAll("g.legendpoints").data([a]).enter().append("g").classed("legendpoints",!0)}).each(f).each(g).each(h).each(d).each(e)}},{"../../lib":95,"../../plots/plots":136,"../../traces/pie/style_one":161,"../../traces/scatter/subtypes":182,"../color":18,"../drawing":41,d3:9}],63:[function(a,b,c){"use strict";function d(a,b){var c=b.currentTarget,d=c.getAttribute("data-attr"),e=c.getAttribute("data-val")||!0,f=a._fullLayout,g={};if("zoom"===d){for(var h,i,k="in"===e?.5:2,l=(1+k)/2,m=(1-k)/2,n=j.Axes.list(a,null,!0),o=0;o<n.length;o++)if(h=n[o],!h.fixedrange)if(i=h._name,"auto"===e)g[i+".autorange"]=!0;else if("reset"===e)if(void 0===h._rangeInitial)g[i+".autorange"]=!0;else{var p=h._rangeInitial.slice();g[i+".range[0]"]=p[0],g[i+".range[1]"]=p[1]}else{var q=h.range;g[i+".range[0]"]=l*q[0]+m*q[1],g[i+".range[1]"]=l*q[1]+m*q[0]}}else"hovermode"!==d||"x"!==e&&"y"!==e||(e=f._isHoriz?"y":"x",c.setAttribute("data-val",e)),g[d]=e;j.relayout(a,g)}function e(a,b){for(var c=b.currentTarget,d=c.getAttribute("data-attr"),e=c.getAttribute("data-val")||!0,f=a._fullLayout,g=j.Plots.getSubplotIds(f,"gl3d"),h={},i=d.split("."),k=0;k<g.length;k++)h[g[k]+"."+i[1]]=e;j.relayout(a,h)}function f(a,b){for(var c=b.currentTarget,d=c.getAttribute("data-attr"),e=a._fullLayout,f=j.Plots.getSubplotIds(e,"gl3d"),g=0;g<f.length;g++){var h=f[g],i=e[h],k=i._scene;"resetDefault"===d?k.setCameraToDefault():"resetLastSave"===d&&k.setCamera(i.camera)}}function g(a,b){var c=b.currentTarget,d=c._previousVal||!1,e=a.layout,f=a._fullLayout,g=j.Plots.getSubplotIds(f,"gl3d"),h=["xaxis","yaxis","zaxis"],i=["showspikes","spikesides","spikethickness","spikecolor"],l={},m={},n={};if(d)n=k.extendDeep(e,d),c._previousVal=null;else{n={"allaxes.showspikes":!1};for(var o=0;o<g.length;o++){var p=g[o],q=f[p],r=l[p]={};r.hovermode=q.hovermode,n[p+".hovermode"]=!1;for(var s=0;s<3;s++){var t=h[s];m=r[t]={};for(var u=0;u<i.length;u++){var v=i[u];m[v]=q[t][v]}}}c._previousVal=k.extendDeep({},l)}j.relayout(a,n)}function h(a,b){for(var c=b.currentTarget,d=c.getAttribute("data-attr"),e=c.getAttribute("data-val")||!0,f=a._fullLayout,g=j.Plots.getSubplotIds(f,"geo"),h=0;h<g.length;h++){var i=f[g[h]]._geo;if("zoom"===d){var k=i.projection.scale(),l="in"===e?2*k:.5*k;i.projection.scale(l),i.zoom.scale(l),i.render()}else"reset"===d&&i.zoomReset()}}function i(a){var b,c=a._fullLayout;b=c._has("cartesian")?c._isHoriz?"y":"x":"closest";var d=!a._fullLayout.hovermode&&b;j.relayout(a,"hovermode",d)}var j=a("../../plotly"),k=a("../../lib"),l=a("../../snapshot/download"),m=a("../../../build/ploticon"),n=b.exports={};n.toImage={name:"toImage",title:"Download plot as a png",icon:m.camera,click:function(a){var b="png";k.notifier("Taking snapshot - this may take a few seconds","long"),k.isIE()&&(k.notifier("IE only supports svg.  Changing format to svg.","long"),b="svg"),l(a,{format:b}).then(function(a){k.notifier("Snapshot succeeded - "+a,"long")}).catch(function(){k.notifier("Sorry there was a problem downloading your snapshot!","long")})}},n.sendDataToCloud={name:"sendDataToCloud",title:"Save and edit plot in cloud",icon:m.disk,click:function(a){j.Plots.sendDataToCloud(a)}},n.zoom2d={name:"zoom2d",title:"Zoom",attr:"dragmode",val:"zoom",icon:m.zoombox,click:d},n.pan2d={name:"pan2d",title:"Pan",attr:"dragmode",val:"pan",icon:m.pan,click:d},n.select2d={name:"select2d",title:"Box Select",attr:"dragmode",val:"select",icon:m.selectbox,click:d},n.lasso2d={name:"lasso2d",title:"Lasso Select",attr:"dragmode",val:"lasso",icon:m.lasso,click:d},n.zoomIn2d={name:"zoomIn2d",title:"Zoom in",attr:"zoom",val:"in",icon:m.zoom_plus,click:d},n.zoomOut2d={name:"zoomOut2d",title:"Zoom out",attr:"zoom",val:"out",icon:m.zoom_minus,click:d},n.autoScale2d={name:"autoScale2d",title:"Autoscale",attr:"zoom",val:"auto",icon:m.autoscale,click:d},n.resetScale2d={name:"resetScale2d",title:"Reset axes",attr:"zoom",val:"reset",icon:m.home,click:d},n.hoverClosestCartesian={name:"hoverClosestCartesian",title:"Show closest data on hover",attr:"hovermode",val:"closest",icon:m.tooltip_basic,gravity:"ne",click:d},n.hoverCompareCartesian={name:"hoverCompareCartesian",title:"Compare data on hover",attr:"hovermode",val:function(a){return a._fullLayout._isHoriz?"y":"x"},icon:m.tooltip_compare,gravity:"ne",click:d},n.zoom3d={name:"zoom3d",title:"Zoom",attr:"scene.dragmode",val:"zoom",icon:m.zoombox,click:e},n.pan3d={name:"pan3d",title:"Pan",attr:"scene.dragmode",val:"pan",icon:m.pan,click:e},n.orbitRotation={name:"orbitRotation",title:"orbital rotation",attr:"scene.dragmode",val:"orbit",icon:m["3d_rotate"],click:e},n.tableRotation={name:"tableRotation",title:"turntable rotation",attr:"scene.dragmode",val:"turntable",icon:m["z-axis"],click:e},n.resetCameraDefault3d={name:"resetCameraDefault3d",title:"Reset camera to default",attr:"resetDefault",icon:m.home,click:f},n.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:"Reset camera to last save",attr:"resetLastSave",icon:m.movie,click:f},n.hoverClosest3d={name:"hoverClosest3d",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:m.tooltip_basic,gravity:"ne",click:g},n.zoomInGeo={name:"zoomInGeo",title:"Zoom in",attr:"zoom",val:"in",icon:m.zoom_plus,click:h},n.zoomOutGeo={name:"zoomOutGeo",title:"Zoom out",attr:"zoom",val:"out",icon:m.zoom_minus,click:h},n.resetGeo={name:"resetGeo",title:"Reset",attr:"reset",val:null,icon:m.autoscale,click:h},n.hoverClosestGeo={name:"hoverClosestGeo",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:m.tooltip_basic,gravity:"ne",click:i},n.hoverClosestGl2d={name:"hoverClosestGl2d",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:m.tooltip_basic,gravity:"ne",click:i},n.hoverClosestPie={name:"hoverClosestPie",title:"Toggle show closest data on hover",attr:"hovermode",val:"closest",icon:m.tooltip_basic,gravity:"ne",click:i},n.toggleHover={name:"toggleHover",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:m.tooltip_basic,gravity:"ne",click:function(a,b){i(a),g(a,b)}},n.resetViews={name:"resetViews",title:"Reset views",icon:m.home,click:function(a,b){var c=b.currentTarget;c.setAttribute("data-attr","zoom"),c.setAttribute("data-val","reset"),d(a,b),c.setAttribute("data-attr","resetLastSave"),f(a,b)}}},{"../../../build/ploticon":6,"../../lib":95,"../../plotly":113,"../../snapshot/download":143}],64:[function(a,b,c){"use strict";function d(a){this.container=a.container,this.element=document.createElement("div"),this.update(a.graphInfo,a.buttons),this.container.appendChild(this.element)}function e(a,b){var c=a._fullLayout,e=new d({graphInfo:a,container:c._paperdiv.node(),buttons:b});return c._privateplot&&f.select(e.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),e}var f=a("d3"),g=a("../../lib"),h=a("../../../build/ploticon"),i=d.prototype;i.update=function(a,b){this.graphInfo=a;var c=this.graphInfo._context;"hover"===c.displayModeBar?this.element.className="modebar modebar--hover":this.element.className="modebar";var d=!this.hasButtons(b),e=this.hasLogo!==c.displaylogo;(d||e)&&(this.removeAllButtons(),this.updateButtons(b),c.displaylogo&&(this.element.appendChild(this.getLogo()),this.hasLogo=!0)),this.updateActiveButton()},i.updateButtons=function(a){var b=this;this.buttons=a,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(a){var c=b.createGroup();a.forEach(function(a){var d=a.name;if(!d)throw new Error("must provide button 'name' in button config");if(b.buttonsNames.indexOf(d)!==-1)throw new Error("button name '"+d+"' is taken");b.buttonsNames.push(d);var e=b.createButton(a);b.buttonElements.push(e),c.appendChild(e)}),b.element.appendChild(c)})},i.createGroup=function(){var a=document.createElement("div");return a.className="modebar-group",a},i.createButton=function(a){var b=this,c=document.createElement("a");c.setAttribute("rel","tooltip"),c.className="modebar-btn";var d=a.title;void 0===d&&(d=a.name),(d||0===d)&&c.setAttribute("data-title",d),void 0!==a.attr&&c.setAttribute("data-attr",a.attr);var e=a.val;void 0!==e&&("function"==typeof e&&(e=e(this.graphInfo)),c.setAttribute("data-val",e));var f=a.click;if("function"!=typeof f)throw new Error("must provide button 'click' function in button config");return c.addEventListener("click",function(c){a.click(b.graphInfo,c),b.updateActiveButton(c.currentTarget)}),c.setAttribute("data-toggle",a.toggle||!1),a.toggle&&c.classList.add("active"),c.appendChild(this.createIcon(a.icon||h.question)),c.setAttribute("data-gravity",a.gravity||"n"),c},i.createIcon=function(a){var b=a.ascent-a.descent,c="http://www.w3.org/2000/svg",d=document.createElementNS(c,"svg"),e=document.createElementNS(c,"path");return d.setAttribute("height","1em"),d.setAttribute("width",a.width/b+"em"),d.setAttribute("viewBox",[0,0,a.width,b].join(" ")),e.setAttribute("d",a.path),e.setAttribute("transform","matrix(1 0 0 -1 0 "+a.ascent+")"),d.appendChild(e),d},i.updateActiveButton=function(a){var b=this.graphInfo._fullLayout,c=void 0!==a?a.getAttribute("data-attr"):null;this.buttonElements.forEach(function(a){var d=a.getAttribute("data-val")||!0,e=a.getAttribute("data-attr"),h="true"===a.getAttribute("data-toggle"),i=f.select(a);if(h)e===c&&i.classed("active",!i.classed("active"));else{var j=null===e?e:g.nestedProperty(b,e).get();i.classed("active",j===d)}})},i.hasButtons=function(a){var b=this.buttons;if(!b)return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;++c){if(a[c].length!==b[c].length)return!1;for(var d=0;d<a[c].length;d++)if(a[c][d].name!==b[c][d].name)return!1}return!0},i.getLogo=function(){var a=this.createGroup(),b=document.createElement("a");return b.href="https://plot.ly/",b.target="_blank",b.setAttribute("data-title","Produced with Plotly"),b.className="modebar-btn plotlyjsicon modebar-btn--logo",b.appendChild(this.createIcon(h.plotlylogo)),a.appendChild(b),a},i.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},i.destroy=function(){g.removeElement(this.container.querySelector(".modebar"))},b.exports=e},{"../../../build/ploticon":6,"../../lib":95,d3:9}],65:[function(a,b,c){"use strict";function d(a,b,c){function d(a){for(var c=[],d=0;d<a.length;d++){var e=a[d];b.indexOf(e)===-1&&c.push(l[e])}q.push(c)}var h=a._fullLayout,i=a._fullData,j=h._has("cartesian"),k=h._has("gl3d"),m=h._has("geo"),n=h._has("pie"),o=h._has("gl2d"),p=h._has("ternary"),q=[];if(d(["toImage","sendDataToCloud"]),(j||o||n||p)+m+k>1)return d(["resetViews","toggleHover"]),g(q,c);k&&(d(["zoom3d","pan3d","orbitRotation","tableRotation"]),d(["resetCameraDefault3d","resetCameraLastSave3d"]),d(["hoverClosest3d"])),m&&(d(["zoomInGeo","zoomOutGeo","resetGeo"]),d(["hoverClosestGeo"]));var r=e(h),s=[];return((j||o)&&!r||p)&&(s=["zoom2d","pan2d"]),(j||p)&&f(i)&&(s.push("select2d"),s.push("lasso2d")),s.length&&d(s),!j&&!o||r||p||d(["zoomIn2d","zoomOut2d","autoScale2d","resetScale2d"]),j&&n?d(["toggleHover"]):o?d(["hoverClosestGl2d"]):j?d(["hoverClosestCartesian","hoverCompareCartesian"]):n&&d(["hoverClosestPie"]),g(q,c)}function e(a){for(var b=i.Axes.list({_fullLayout:a},null,!0),c=!0,d=0;d<b.length;d++)if(!b[d].fixedrange){c=!1;break}return c}function f(a){for(var b=!1,c=0;c<a.length&&!b;c++){var d=a[c];d._module&&d._module.selectPoints&&("scatter"===d.type||"scatterternary"===d.type?(j.hasMarkers(d)||j.hasText(d))&&(b=!0):b=!0)}return b}function g(a,b){if(b.length)if(Array.isArray(b[0]))for(var c=0;c<b.length;c++)a.push(b[c]);else a.push(b);return a}function h(a){for(var b=0;b<a.length;b++)for(var c=a[b],d=0;d<c.length;d++){var e=c[d];if("string"==typeof e){if(void 0===l[e])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));a[b][d]=l[e]}}return a}var i=a("../../plotly"),j=a("../../traces/scatter/subtypes"),k=a("./"),l=a("./buttons");b.exports=function(a){var b=a._fullLayout,c=a._context,e=b._modeBar;if(!c.displayModeBar)return void(e&&(e.destroy(),delete b._modeBar));if(!Array.isArray(c.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(c.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var f,g=c.modeBarButtons;f=Array.isArray(g)&&g.length?h(g):d(a,c.modeBarButtonsToRemove,c.modeBarButtonsToAdd),e?e.update(a,f):b._modeBar=k(a,f)}},{"../../plotly":113,"../../traces/scatter/subtypes":182,
"./":64,"./buttons":63}],66:[function(a,b,c){"use strict";var d=a("../../plots/font_attributes"),e=a("../color/attributes"),f=a("../../lib/extend").extendFlat,g=a("./button_attributes");g=f(g,{_isLinkedToArray:!0,description:["Sets the specifications for each buttons.","By default, a range selector comes with no buttons."].join(" ")}),b.exports={visible:{valType:"boolean",role:"info",description:["Determines whether or not this range selector is visible.","Note that range selectors are only available for x axes of","`type` set to or auto-typed to *date*."].join(" ")},buttons:g,x:{valType:"number",min:-2,max:3,role:"style",description:"Sets the x position (in normalized coordinates) of the range selector."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",description:["Sets the range selector's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,role:"style",description:"Sets the y position (in normalized coordinates) of the range selector."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",role:"info",description:["Sets the range selector's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},font:f({},d,{description:"Sets the font of the range selector button text."}),bgcolor:{valType:"color",dflt:e.lightLine,role:"style",description:"Sets the background color of the range selector buttons."},activecolor:{valType:"color",role:"style",description:"Sets the background color of the active range selector button."},bordercolor:{valType:"color",dflt:e.defaultLine,role:"style",description:"Sets the color of the border enclosing the range selector."},borderwidth:{valType:"number",min:0,dflt:0,role:"style",description:"Sets the width (in px) of the border enclosing the range selector."}}},{"../../lib/extend":94,"../../plots/font_attributes":134,"../color/attributes":17,"./button_attributes":67}],67:[function(a,b,c){"use strict";b.exports={step:{valType:"enumerated",role:"info",values:["month","year","day","hour","minute","second","all"],dflt:"month",description:["The unit of measurement that the `count` value will set the range by."].join(" ")},stepmode:{valType:"enumerated",role:"info",values:["backward","todate"],dflt:"backward",description:["Sets the range update mode.","If *backward*, the range update shifts the start of range","back *count* times *step* milliseconds.","If *todate*, the range update shifts the start of range","back to the first timestamp from *count* times","*step* milliseconds back.","For example, with `step` set to *year* and `count` set to *1*","the range update shifts the start of the range back to","January 01 of the current year."].join(" ")},count:{valType:"number",role:"info",min:0,dflt:1,description:["Sets the number of steps to take to update the range.","Use with `step` to specify the update interval."].join(" ")},label:{valType:"string",role:"info",description:"Sets the text label to appear on the button."}}},{}],68:[function(a,b,c){"use strict";b.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],69:[function(a,b,c){"use strict";function d(a,b){function c(a,b){return f.coerce(d,e,i,a,b)}for(var d,e,g=a.buttons||[],h=b.buttons=[],j=0;j<g.length;j++)if(d=g[j],e={},f.isPlainObject(d)){var k=c("step");"all"!==k&&(c("stepmode"),c("count")),c("label"),e._index=j,h.push(e)}return h}function e(a,b,c){for(var d=c.filter(function(c){return b[c].anchor===a._id}),e=0,f=0;f<d.length;f++){var g=b[d[f]].domain;g&&(e=Math.max(g[1],e))}return[a.domain[0],e+j.yPad]}var f=a("../../lib"),g=a("../color"),h=a("./attributes"),i=a("./button_attributes"),j=a("./constants");b.exports=function(a,b,c,i){function k(a,b){return f.coerce(l,m,h,a,b)}var l=a.rangeselector||{},m=b.rangeselector={},n=d(l,m),o=k("visible",n.length>0);if(o){var p=e(b,c,i);k("x",p[0]),k("y",p[1]),f.noneOrAll(a,b,["x","y"]),k("xanchor"),k("yanchor"),f.coerceFont(k,"font",c.font);var q=k("bgcolor");k("activecolor",g.contrast(q,j.lightAmount,j.darkAmount)),k("bordercolor"),k("borderwidth")}}},{"../../lib":95,"../color":18,"./attributes":66,"./button_attributes":67,"./constants":68}],70:[function(a,b,c){"use strict";function d(a){for(var b=r.list(a,"x",!0),c=[],d=0;d<b.length;d++){var e=b[d];e.rangeselector&&e.rangeselector.visible&&c.push(e)}return c}function e(a){return a._id}function f(a,b,c){if("all"===b.step)return a.autorange===!0;var d=Object.keys(c);return a.range[0]===c[d[0]]&&a.range[1]===c[d[1]]}function g(a,b,c){var d=a.selectAll("rect").data([0]);d.enter().append("rect").classed("selector-rect",!0),d.attr("shape-rendering","crispEdges"),d.attr({rx:t.rx,ry:t.ry}),d.call(o.stroke,b.bordercolor).call(o.fill,h(b,c)).style("stroke-width",b.borderwidth+"px")}function h(a,b){return b.isActive||b.isHovered?a.activecolor:a.bgcolor}function i(a,b,c){function d(a){q.convertToTspans(a)}var e=a.selectAll("text").data([0]);e.enter().append("text").classed("selector-text",!0).classed("user-select-none",!0),e.attr("text-anchor","middle"),e.call(p.font,b.font).text(j(c)).call(d)}function j(a){return a.label?a.label:"all"===a.step?"all":a.count+a.step.charAt(0)}function k(a,b,c,d){c.width=0,c.height=0;var e=c.borderwidth;b.each(function(){var a=l.select(this),b=a.select(".selector-text"),d=b.selectAll("tspan"),e=1.3*c.font.size,f=d[0].length||1,g=Math.max(e*f,16)+3;c.height=Math.max(c.height,g)}),b.each(function(){var a=l.select(this),b=a.select(".selector-rect"),d=a.select(".selector-text"),f=d.selectAll("tspan"),g=d.node()&&p.bBox(d.node()).width,h=1.3*c.font.size,i=f[0].length||1,j=Math.max(g+10,t.minButtonWidth);a.attr("transform","translate("+(e+c.width)+","+e+")"),b.attr({x:0,y:0,width:j,height:c.height});var k={x:j/2,y:c.height/2-(i-1)*h/2+3};d.attr(k),f.attr(k),c.width+=j+5}),b.selectAll("rect").attr("height",c.height);var f=a._fullLayout._size;c.lx=f.l+f.w*c.x,c.ly=f.t+f.h*(1-c.y);var g="left";s.isRightAnchor(c)&&(c.lx-=c.width,g="right"),s.isCenterAnchor(c)&&(c.lx-=c.width/2,g="center");var h="top";s.isBottomAnchor(c)&&(c.ly-=c.height,h="bottom"),s.isMiddleAnchor(c)&&(c.ly-=c.height/2,h="middle"),c.width=Math.ceil(c.width),c.height=Math.ceil(c.height),c.lx=Math.round(c.lx),c.ly=Math.round(c.ly),n.autoMargin(a,d+"-range-selector",{x:c.x,y:c.y,l:c.width*({right:1,center:.5}[g]||0),r:c.width*({left:1,center:.5}[g]||0),b:c.height*({top:1,middle:.5}[h]||0),t:c.height*({bottom:1,middle:.5}[h]||0)})}var l=a("d3"),m=a("../../plotly"),n=a("../../plots/plots"),o=a("../color"),p=a("../drawing"),q=a("../../lib/svg_text_utils"),r=a("../../plots/cartesian/axis_ids"),s=a("../legend/anchor_utils"),t=a("./constants"),u=a("./get_update_object");b.exports=function(a){var b=a._fullLayout,c=b._infolayer.selectAll(".rangeselector").data(d(a),e);c.enter().append("g").classed("rangeselector",!0),c.exit().remove(),c.style({cursor:"pointer","pointer-events":"all"}),c.each(function(b){var c=l.select(this),d=b,e=d.rangeselector,h=c.selectAll("g.button").data(e.buttons);h.enter().append("g").classed("button",!0),h.exit().remove(),h.each(function(b){var c=l.select(this),h=u(d,b);b.isActive=f(d,b,h),c.call(g,e,b),c.call(i,e,b),c.on("click",function(){a._dragged||m.relayout(a,h)}),c.on("mouseover",function(){b.isHovered=!0,c.call(g,e,b)}),c.on("mouseout",function(){b.isHovered=!1,c.call(g,e,b)})}),k(a,h,e,d._name),c.attr("transform","translate("+e.lx+","+e.ly+")")})}},{"../../lib/svg_text_utils":106,"../../plotly":113,"../../plots/cartesian/axis_ids":118,"../../plots/plots":136,"../color":18,"../drawing":41,"../legend/anchor_utils":54,"./constants":68,"./get_update_object":71,d3:9}],71:[function(a,b,c){"use strict";function d(a,b){var c,d=a.range,f=new Date(d[1]),g=b.step,h=b.count;switch(b.stepmode){case"backward":c=e.time[g].offset(f,-h).getTime();break;case"todate":var i=e.time[g].offset(f,-(h-1));c=e.time[g].floor(i).getTime()}var j=d[1];return[c,j]}var e=a("d3");b.exports=function(a,b){var c=a._name,e={};if("all"===b.step)e[c+".autorange"]=!0;else{var f=d(a,b);e[c+".range[0]"]=f[0],e[c+".range[1]"]=f[1]}return e}},{d3:9}],72:[function(a,b,c){"use strict";c.attributes=a("./attributes"),c.supplyLayoutDefaults=a("./defaults"),c.draw=a("./draw")},{"./attributes":66,"./defaults":69,"./draw":70}],73:[function(a,b,c){"use strict";var d=a("../color/attributes");b.exports={bgcolor:{valType:"color",dflt:d.background,role:"style",description:"Sets the background color of the range slider."},bordercolor:{valType:"color",dflt:d.defaultLine,role:"style",description:"Sets the border color of the range slider."},borderwidth:{valType:"integer",dflt:0,min:0,role:"style",description:"Sets the border color of the range slider."},range:{valType:"info_array",role:"info",items:[{valType:"number"},{valType:"number"}],description:["Sets the range of the range slider.","If not set, defaults to the full xaxis range.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, then you must convert","the date to unix time in milliseconds."].join(" ")},thickness:{valType:"number",dflt:.15,min:0,max:1,role:"style",description:["The height of the range slider as a fraction of the","total plot area height."].join(" ")},visible:{valType:"boolean",dflt:!0,role:"info",description:["Determines whether or not the range slider will be visible.","If visible, perpendicular axes will be set to `fixedrange`"].join(" ")}}},{"../color/attributes":17}],74:[function(a,b,c){"use strict";var d=a("../../plotly"),e=a("../../plots/cartesian/axes"),f=a("../../lib"),g=a("../../constants/xmlns_namespaces").svg,h=a("./helpers"),i=a("./range_plot");b.exports=function(a){function b(a){var b=n.range[0],c=n.range[1],d=c-b,e=a/o*d+b;return e=f.constrain(e,b,c)}function c(a,b){a=a||-(1/0),b=b||1/0;var c=n.range[0],d=n.range[1],e=d-c,f=(a-c)/e*o,g=(b-c)/e*o;k(f,g)}function j(b,c){window.requestAnimationFrame?window.requestAnimationFrame(function(){d.relayout(a,"xaxis.range",[b,c])}):setTimeout(function(){d.relayout(a,"xaxis.range",[b,c])},16)}function k(a,b){if(a=f.constrain(a,0,o),b=f.constrain(b,0,o),b<a){var c=b;b=a,a=c}h.setAttributes(w,{"data-min":a,"data-max":b}),h.setAttributes(H,{x:a,width:b-a}),h.setAttributes(z,{width:a}),h.setAttributes(A,{x:b,width:o-b}),h.setAttributes(B,{transform:"translate("+(a-q-1)+")"}),h.setAttributes(E,{transform:"translate("+b+")"})}var l=a._fullLayout,m=l._infolayer.selectAll("g.range-slider"),n=l.xaxis.rangeslider,o=l._size.w,p=(l.height-l.margin.b-l.margin.t)*n.thickness,q=2,r=Math.floor(n.borderwidth/2),s=l.margin.l,t=l.height-p-l.margin.b,u=0,v=o,w=document.createElementNS(g,"g");h.setAttributes(w,{class:"range-slider","data-min":u,"data-max":v,"pointer-events":"all",transform:"translate("+s+","+t+")"});var x=document.createElementNS(g,"rect"),y=n.borderwidth%2===0?n.borderwidth:n.borderwidth-1;h.setAttributes(x,{fill:n.bgcolor,stroke:n.bordercolor,"stroke-width":n.borderwidth,height:p+y,width:o+y,transform:"translate(-"+r+", -"+r+")","shape-rendering":"crispEdges"});var z=document.createElementNS(g,"rect");h.setAttributes(z,{x:0,width:u,height:p,fill:"rgba(0,0,0,0.4)"});var A=document.createElementNS(g,"rect");h.setAttributes(A,{x:v,width:o-v,height:p,fill:"rgba(0,0,0,0.4)"});var B=document.createElementNS(g,"g"),C=document.createElementNS(g,"rect"),D=document.createElementNS(g,"rect");h.setAttributes(B,{transform:"translate("+(u-q-1)+")"}),h.setAttributes(C,{width:10,height:p,x:-6,fill:"transparent",cursor:"col-resize"}),h.setAttributes(D,{width:q,height:p/2,y:p/4,rx:1,fill:"white",stroke:"#666","shape-rendering":"crispEdges"}),h.appendChildren(B,[D,C]);var E=document.createElementNS(g,"g"),F=document.createElementNS(g,"rect"),G=document.createElementNS(g,"rect");h.setAttributes(E,{transform:"translate("+v+")"}),h.setAttributes(F,{width:10,height:p,x:-2,fill:"transparent",cursor:"col-resize"}),h.setAttributes(G,{width:q,height:p/2,y:p/4,rx:1,fill:"white",stroke:"#666","shape-rendering":"crispEdges"}),h.appendChildren(E,[G,F]);var H=document.createElementNS(g,"rect");h.setAttributes(H,{x:u,width:v-u,height:p,cursor:"ew-resize",fill:"transparent"}),w.addEventListener("mousedown",function(a){function c(a){var c,d,l=+a.clientX-f;switch(e){case H:w.style.cursor="ew-resize",c=+h+l,d=+i+l,k(c,d),j(b(c),b(d));break;case C:w.style.cursor="col-resize",c=+h+l,d=+i,k(c,d),j(b(c),b(d));break;case F:w.style.cursor="col-resize",c=+h,d=+i+l,k(c,d),j(b(c),b(d));break;default:w.style.cursor="ew-resize",c=g,d=g+l,k(c,d),j(b(c),b(d))}}function d(){window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",d),w.style.cursor="auto"}var e=a.target,f=a.clientX,g=f-w.getBoundingClientRect().left,h=w.getAttribute("data-min"),i=w.getAttribute("data-max");window.addEventListener("mousemove",c),window.addEventListener("mouseup",d)}),n.range||(n.range=e.getAutoRange(l.xaxis));var I=i(a,o,p);h.appendChildren(w,[x,I,z,A,H,B,E]),c(l.xaxis.range[0],l.xaxis.range[1]),m.data([0]).enter().append(function(){return n.setRange=c,w})}},{"../../constants/xmlns_namespaces":88,"../../lib":95,"../../plotly":113,"../../plots/cartesian/axes":116,"./helpers":76,"./range_plot":78}],75:[function(a,b,c){"use strict";var d=a("../../lib"),e=a("./attributes");b.exports=function(a,b,c,f){function g(a,b){return d.coerce(h,i,e,a,b)}if(a[c].rangeslider){var h=d.isPlainObject(a[c].rangeslider)?a[c].rangeslider:{},i=b[c].rangeslider={};if(g("bgcolor"),g("bordercolor"),g("borderwidth"),g("thickness"),g("visible"),g("range"),i.range&&!b[c].autorange){var j=i.range,k=b[c].range;j[0]=Math.min(j[0],k[0]),j[1]=Math.max(j[1],k[1])}else b[c]._needsExpand=!0;i.visible&&f.forEach(function(a){var c=b[a]||{};c.fixedrange=!0,b[a]=c})}}},{"../../lib":95,"./attributes":73}],76:[function(a,b,c){"use strict";c.setAttributes=function(a,b){for(var c in b)a.setAttribute(c,b[c])},c.appendChildren=function(a,b){for(var c=0;c<b.length;c++)b[c]&&a.appendChild(b[c])}},{}],77:[function(a,b,c){"use strict";function d(a){if(a._fullLayout.xaxis){var b=a._fullLayout,c=b._infolayer.selectAll("g.range-slider"),d=b.xaxis.rangeslider;if(!d||!d.visible)return c.data([]).exit().remove(),void e.autoMargin(a,"range-slider");var g=(b.height-b.margin.b-b.margin.t)*d.thickness,h=Math.floor(d.borderwidth/2);0!==c[0].length||b._has("gl2d")||f(a);var i=b.xaxis._boundingBox?b.xaxis._boundingBox.height:0;e.autoMargin(a,"range-slider",{x:0,y:0,l:0,r:0,t:0,b:g+b.margin.b+i,pad:15+2*h})}}var e=a("../../plots/plots"),f=a("./create_slider"),g=a("./defaults");b.exports={draw:d,supplyLayoutDefaults:g}},{"../../plots/plots":136,"./create_slider":74,"./defaults":75}],78:[function(a,b,c){"use strict";function d(a,b){for(var c=b.makeCalcdata(a||[],b._id[0]),d=0;d<c.length;d++)c[d]=b.c2l(c[d]);return c}function e(a,b,c,d){var e,f,l;if(a.line){e=document.createElementNS(k,"path");var m=i.smoothopen(b,a.line.smoothing||0);j.setAttributes(e,{d:m,fill:"none",stroke:a.line?a.line.color:"transparent","stroke-width":a.line.width/2||1,opacity:1})}if(a.marker){f=document.createElementNS(k,"g");var n=b.map(function(b,c){var d,e=document.createElementNS(k,"g"),f=document.createElementNS(k,"path");return d=Array.isArray(a.marker.size)?"number"==typeof a.marker.size[c]?Math.max(a.marker.size[c]/(a.marker.sizeref||1)/15,0):0:Math.max(a.marker.size/15,2),j.setAttributes(f,{d:h[a.marker.symbol].f(d),fill:a.marker.color,stroke:a.marker.line.color,"stroke-width":a.marker.line.width,opacity:a.marker.opacity}),j.setAttributes(e,{transform:"translate("+b[0]+","+b[1]+")"}),e.appendChild(f),e});j.appendChildren(f,n)}if("none"!==a.fill){switch(l=document.createElementNS(k,"path"),a.fill){case"tozeroy":b.unshift([b[0][0],d]),b.push([b[b.length-1][0],d]);break;case"tozerox":b.unshift([0,b[b.length-1][1]]);break;default:g.warn("Fill type "+a.fill+" not supported for range slider! (yet...)")}var o=i.smoothopen(b,a.line.smoothing||0);j.setAttributes(l,{d:o,fill:a.fillcolor||"transparent"})}return[e,f,l]}var f=a("d3"),g=a("../../lib"),h=a("../drawing/symbol_defs"),i=a("../drawing"),j=a("./helpers"),k=a("../../constants/xmlns_namespaces").svg;b.exports=function a(b,c,h){var l=b._fullLayout,m=b._fullData,n=l.xaxis,o=l.yaxis,p=n.rangeslider.range[0],q=n.rangeslider.range[1],r=o.range[0],s=o.range[1],t=document.createElementNS(k,"path");t.setAttribute("d",["M0,0",c+",0",c+","+h,"0,"+h,"Z"].join(" "));var u=document.createElementNS(k,"clipPath");u.setAttribute("id","range-clip-path"),u.appendChild(t);var v=document.createElementNS(k,"defs");v.appendChild(u);var a=document.createElementNS(k,"g");f.select(a).call(i.setClipUrl,"range-clip-path"),a.appendChild(v);for(var w=["scatter"],x=0;x<m.length;x++){var y=m[x],z=[];if(w.indexOf(y.type)<0)g.warn("Trace type "+y.type+" not supported for range slider!");else{for(var A=d(y,n),B=d(y,o),C=0;C<A.length;C++){var D=c*(A[C]-p)/(q-p),E=h*(1-(B[C]-r)/(s-r));isNaN(D)||isNaN(E)||z.push([D,E])}j.appendChildren(a,e(y,z,c,h))}}return a}},{"../../constants/xmlns_namespaces":88,"../../lib":95,"../drawing":41,"../drawing/symbol_defs":42,"./helpers":76,d3:9}],79:[function(a,b,c){"use strict";var d=a("../annotations/attributes"),e=a("../../traces/scatter/attributes"),f=a("../../lib/extend").extendFlat,g=e.line;b.exports={_isLinkedToArray:!0,type:{valType:"enumerated",values:["circle","rect","path","line"],role:"info",description:["Specifies the shape type to be drawn.","If *line*, a line is drawn from (`x0`,`y0`) to (`x1`,`y1`)","If *circle*, a circle is drawn from","((`x0`+`x1`)/2, (`y0`+`y1`)/2))","with radius","(|(`x0`+`x1`)/2 - `x0`|, |(`y0`+`y1`)/2 -`y0`)|)","If *rect*, a rectangle is drawn linking","(`x0`,`y0`), (`x1`,`y0`), (`x1`,`y1`), (`x0`,`y1`), (`x0`,`y0`)","If *path*, draw a custom SVG path using `path`."].join(" ")},layer:{valType:"enumerated",values:["below","above"],dflt:"above",role:"info",description:"Specifies whether shapes are drawn below or above traces."},xref:f({},d.xref,{description:["Sets the shape's x coordinate axis.","If set to an x axis id (e.g. *x* or *x2*), the `x` position","refers to an x coordinate","If set to *paper*, the `x` position refers to the distance from","the left side of the plotting area in normalized coordinates","where *0* (*1*) corresponds to the left (right) side.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, then you must convert","the date to unix time in milliseconds."].join(" ")}),x0:{valType:"any",role:"info",description:["Sets the shape's starting x position.","See `type` for more info."].join(" ")},x1:{valType:"any",role:"info",description:["Sets the shape's end x position.","See `type` for more info."].join(" ")},yref:f({},d.yref,{description:["Sets the annotation's y coordinate axis.","If set to an y axis id (e.g. *y* or *y2*), the `y` position","refers to an y coordinate","If set to *paper*, the `y` position refers to the distance from","the bottom of the plotting area in normalized coordinates","where *0* (*1*) corresponds to the bottom (top)."].join(" ")}),y0:{valType:"any",role:"info",description:["Sets the shape's starting y position.","See `type` for more info."].join(" ")},y1:{valType:"any",role:"info",description:["Sets the shape's end y position.","See `type` for more info."].join(" ")},path:{valType:"string",role:"info",description:["For `type` *path* - a valid SVG path but with the pixel values","replaced by data values. There are a few restrictions / quirks","only absolute instructions, not relative. So the allowed segments","are: M, L, H, V, Q, C, T, S, and Z","arcs (A) are not allowed because radius rx and ry are relative.","In the future we could consider supporting relative commands,","but we would have to decide on how to handle date and log axes.","Note that even as is, Q and C Bezier paths that are smooth on","linear axes may not be smooth on log, and vice versa.",'no chained "polybezier" commands - specify the segment type for',"each one.","On category axes, values are numbers scaled to the serial numbers","of categories because using the categories themselves there would","be no way to describe fractional positions","On data axes: because space and T are both normal components of path","strings, we can't use either to separate date from time parts.","Therefore we'll use underscore for this purpose:","2015-02-21_13:45:56.789"].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,role:"info",description:"Sets the opacity of the shape."},line:{color:g.color,width:g.width,dash:g.dash,role:"info"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"info",description:["Sets the color filling the shape's interior."].join(" ")}}},{"../../lib/extend":94,"../../traces/scatter/attributes":163,"../annotations/attributes":15}],80:[function(a,b,c){"use strict";function d(a,b){function c(b,c){return y.coerce(a,d,E.layoutAttributes,b,c)}var d={};c("layer"),c("opacity"),c("fillcolor"),c("line.color"),c("line.width"),c("line.dash");for(var e=a.path?"path":"rect",g=c("type",e),h=["x","y"],i=0;i<2;i++){var j=h[i],k={_fullLayout:b},l=z.coerceRef(a,d,k,j);if("path"!==g){var m=.25,n=.75;if("paper"!==l){var o=z.getFromId(k,l),p=f(o);m=p(o.range[0]+m*(o.range[1]-o.range[0])),n=p(o.range[0]+n*(o.range[1]-o.range[0]))}c(j+"0",m),c(j+"1",n)}}return"path"===g?c("path"):y.noneOrAll(a,d,["x0","x1","y0","y1"]),d}function e(a){return"category"===a.type?a.c2l:a.d2l}function f(a){return"category"===a.type?a.l2c:a.l2d}function g(a,b){a.layout.shapes=b,E.supplyLayoutDefaults(a.layout,a._fullLayout),E.drawAll(a)}function h(a){delete a.layout.shapes,a._fullLayout.shapes=[],E.drawAll(a)}function i(a,b,c){for(var d=0;d<a._fullLayout.shapes.length;d++)E.draw(a,d,b,c)}function j(a,b){n(a,b).selectAll('[data-index="'+b+'"]').remove(),a._fullLayout.shapes.splice(b,1),a.layout.shapes.splice(b,1);for(var c=b;c<a._fullLayout.shapes.length;c++)n(a,c).selectAll('[data-index="'+(c+1)+'"]').attr("data-index",c),E.draw(a,c)}function k(a,b,c){a._fullLayout.shapes.splice(b,0,{});var d=y.isPlainObject(c)?y.extendFlat({},c):{text:"New text"};a.layout.shapes?a.layout.shapes.splice(b,0,d):a.layout.shapes=[d];for(var e=a._fullLayout.shapes.length-1;e>b;e--)n(a,e).selectAll('[data-index="'+(e-1)+'"]').attr("data-index",e),E.draw(a,e)}function l(a,b,c,g){function h(c){var d={"data-index":b,"fill-rule":"evenodd",d:t(a,E)},e=E.line.width?E.line.color:"rgba(0,0,0,0)",f=c.append("path").attr(d).style("opacity",E.opacity).call(A.stroke,e).call(A.fill,E.fillcolor).call(B.dashLine,E.line.dash,E.line.width);F&&f.call(B.setClipUrl,"clip"+a._fullLayout._uid+F),a._context.editable&&m(a,f,E,b)}var i,j;n(a,b).selectAll('[data-index="'+b+'"]').remove();var k=a.layout.shapes[b];if(k){var l={xref:k.xref,yref:k.yref},p={};"string"==typeof c&&c?p[c]=g:y.isPlainObject(c)&&(p=c);var q=Object.keys(p);for(i=0;i<q.length;i++){var r=q[i];y.nestedProperty(k,r).set(p[r])}var s=["x0","x1","y0","y1"];for(i=0;i<4;i++){var u=s[i];if(void 0===p[u]&&void 0!==k[u]){var v,w=u.charAt(0),x=z.getFromId(a,z.coerceRef(l,{},a,w)),C=z.getFromId(a,z.coerceRef(k,{},a,w)),D=k[u];void 0!==p[w+"ref"]&&(x?(v=e(x)(D),D=(v-x.range[0])/(x.range[1]-x.range[0])):D=(D-C.domain[0])/(C.domain[1]-C.domain[0]),C?(v=C.range[0]+D*(C.range[1]-C.range[0]),D=f(C)(v)):D=x.domain[0]+D*(x.domain[1]-x.domain[0])),k[u]=D}}var E=d(k,a._fullLayout);a._fullLayout.shapes[b]=E;var F;if("below"!==E.layer)F=(E.xref+E.yref).replace(/paper/g,""),h(a._fullLayout._shapeUpperLayer);else if("paper"===E.xref&&"paper"===E.yref)F="",h(a._fullLayout._shapeLowerLayer);else{var G,H=a._fullLayout._plots||{},I=Object.keys(H);for(i=0,j=I.length;i<j;i++)G=H[I[i]],F=I[i],o(a,E,G)&&h(G.shapelayer)}}}function m(a,b,c,d){function e(a){var c=Z.right-Z.left,d=Z.bottom-Z.top,e=a.clientX-Z.left,f=a.clientY-Z.top,g=c>W&&d>X&&!a.shiftKey?C.getCursor(e/c,1-f/d):"move";D(b,g),V=g.split("-")[0]}function f(b){P=z.getFromId(a,c.xref),Q=z.getFromId(a,c.yref),R=r(a,P),S=r(a,Q,!0),T=s(a,P),U=s(a,Q,!0);var f="shapes["+d+"]";"path"===c.type?(N=c.path,O=f+".path"):(k=R(c.x0),l=S(c.y0),m=R(c.x1),n=S(c.y1),o=f+".x0",p=f+".y0",v=f+".x1",w=f+".y1"),k<m?(B=k,H=f+".x0",L="x0",E=m,I=f+".x1",M="x1"):(B=m,H=f+".x1",L="x1",E=k,I=f+".x0",M="x0"),l<n?(y=l,F=f+".y0",J="y0",A=n,G=f+".y1",K="y1"):(y=n,F=f+".y1",J="y1",A=l,G=f+".y0",K="y0"),j={},e(b),Y.moveFn="move"===V?h:i}function g(c){D(b),c&&x.relayout(a,j)}function h(d,e){if("path"===c.type){var f=function(a){return T(R(a)+d)};P&&"date"===P.type&&(f=q(f));var g=function(a){return U(S(a)+e)};Q&&"date"===Q.type&&(g=q(g)),c.path=u(N,f,g),j[O]=c.path}else j[o]=c.x0=T(k+d),j[p]=c.y0=U(l+e),j[v]=c.x1=T(m+d),j[w]=c.y1=U(n+e);b.attr("d",t(a,c))}function i(d,e){if("path"===c.type){var f=function(a){return T(R(a)+d)};P&&"date"===P.type&&(f=q(f));var g=function(a){return U(S(a)+e)};Q&&"date"===Q.type&&(g=q(g)),c.path=u(N,f,g),j[O]=c.path}else{var h=~V.indexOf("n")?y+e:y,i=~V.indexOf("s")?A+e:A,k=~V.indexOf("w")?B+d:B,l=~V.indexOf("e")?E+d:E;i-h>X&&(j[F]=c[J]=U(h),j[G]=c[K]=U(i)),l-k>W&&(j[H]=c[L]=T(k),j[I]=c[M]=T(l))}b.attr("d",t(a,c))}var j,k,l,m,n,o,p,v,w,y,A,B,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W=10,X=10,Y={setCursor:e,element:b.node(),prepFn:f,doneFn:g},Z=Y.element.getBoundingClientRect();C.init(Y)}function n(a,b){var c=a._fullLayout.shapes[b],d=a._fullLayout._shapeUpperLayer;return c?"below"===c.layer&&(d="paper"===c.xref&&"paper"===c.yref?a._fullLayout._shapeLowerLayer:a._fullLayout._shapeSubplotLayer):y.log("getShapeLayer: undefined shape: index",b),d}function o(a,b,c){var d=x.Axes.getFromId(a,c.id,"x")._id,e=x.Axes.getFromId(a,c.id,"y")._id,f="below"===b.layer,g=d===b.xref||e===b.yref,h=!!c.shapelayer;return f&&g&&h}function p(a){return function(b){return b.replace&&(b=b.replace("_"," ")),a(b)}}function q(a){return function(b){return a(b).replace(" ","_")}}function r(a,b,c){var d,f=a._fullLayout._size;if(b){var g=e(b);d=function(a){return b._offset+b.l2p(g(a,!0))},"date"===b.type&&(d=p(d))}else d=c?function(a){return f.t+f.h*(1-a)}:function(a){return f.l+f.w*a};return d}function s(a,b,c){var d,e=a._fullLayout._size;if(b){var g=f(b);d=function(a){return g(b.p2l(a-b._offset))}}else d=c?function(a){return 1-(a-e.t)/e.h}:function(a){return(a-e.l)/e.w};return d}function t(a,b){var c,d,f,g,h=b.type,i=z.getFromId(a,b.xref),j=z.getFromId(a,b.yref),k=a._fullLayout._size;if(i?(c=e(i),d=function(a){return i._offset+i.l2p(c(a,!0))}):d=function(a){return k.l+k.w*a},j?(f=e(j),g=function(a){return j._offset+j.l2p(f(a,!0))}):g=function(a){return k.t+k.h*(1-a)},"path"===h)return i&&"date"===i.type&&(d=p(d)),j&&"date"===j.type&&(g=p(g)),E.convertPath(b.path,d,g);var l=d(b.x0),m=d(b.x1),n=g(b.y0),o=g(b.y1);if("line"===h)return"M"+l+","+n+"L"+m+","+o;if("rect"===h)return"M"+l+","+n+"H"+m+"V"+o+"H"+l+"Z";var q=(l+m)/2,r=(n+o)/2,s=Math.abs(q-l),t=Math.abs(r-n),u="A"+s+","+t,v=q+s+","+r,w=q+","+(r-t);return"M"+v+u+" 0 1,1 "+w+u+" 0 0,1 "+v+"Z"}function u(a,b,c){return a.replace(F,function(a){var d=0,e=a.charAt(0),f=H[e],g=I[e],h=J[e],i=a.substr(1).replace(G,function(a){return d>=h?a:(f[d]?a=b(a):g[d]&&(a=c(a)),d++,a)});return e+i})}function v(a,b,c,d,e){var f="category"===a.type?Number:a.d2c;if(void 0!==b)return[f(b),f(c)];if(d){var g,h,i,j,k,l=1/0,m=-(1/0),n=d.match(F);for("date"===a.type&&(f=p(f)),g=0;g<n.length;g++)h=n[g],i=e[h.charAt(0)].drawn,void 0!==i&&(j=n[g].substr(1).match(G),!j||j.length<i||(k=f(j[i]),k<l&&(l=k),k>m&&(m=k)));return m>=l?[l,m]:void 0}}var w=a("fast-isnumeric"),x=a("../../plotly"),y=a("../../lib"),z=a("../../plots/cartesian/axes"),A=a("../color"),B=a("../drawing"),C=a("../dragelement"),D=a("../../lib/setcursor"),E=b.exports={};E.layoutAttributes=a("./attributes"),E.supplyLayoutDefaults=function(a,b){for(var c=a.shapes||[],e=b.shapes=[],f=0;f<c.length;f++)e.push(d(c[f]||{},b))},E.drawAll=function(a){var b=a._fullLayout;b._shapeUpperLayer.selectAll("path").remove(),b._shapeLowerLayer.selectAll("path").remove(),b._shapeSubplotLayer.selectAll("path").remove();for(var c=0;c<b.shapes.length;c++)E.draw(a,c)},E.add=function(a){var b=a._fullLayout.shapes.length;x.relayout(a,"shapes["+b+"]","add")},E.draw=function(a,b,c,d){if(!w(b)||b===-1){if(!b&&Array.isArray(d))return void g(a,d);if("remove"===d)return void h(a);if(c&&"add"!==d)return void i(a,c,d);b=a._fullLayout.shapes.length,a._fullLayout.shapes.push({})}if(!c&&d){if("remove"===d)return void j(a,b);("add"===d||y.isPlainObject(d))&&k(a,b,d)}l(a,b,c,d)};var F=/[MLHVQCTSZ][^MLHVQCTSZ]*/g,G=/[^\s,]+/g,H={M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},I={M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},J={M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0};E.convertPath=function(a,b,c){return a.replace(F,function(a){var d=0,e=a.charAt(0),f=H[e],g=I[e],h=J[e],i=a.substr(1).replace(G,function(a){return f[d]?a=b(a):g[d]&&(a=c(a)),d++,d>h&&(a="X"),a});return d>h&&(i=i.replace(/[\s,]*X.*/,""),y.log("Ignoring extra params in segment "+a)),e+i})},E.calcAutorange=function(a){var b,c,d,e,f,g=a._fullLayout,h=g.shapes;if(h.length&&a._fullData.length)for(b=0;b<h.length;b++)c=h[b],d=c.line.width/2,"paper"!==c.xref&&(e=z.getFromId(a,c.xref),f=v(e,c.x0,c.x1,c.path,H),f&&z.expand(e,f,{ppad:d})),"paper"!==c.yref&&(e=z.getFromId(a,c.yref),f=v(e,c.y0,c.y1,c.path,I),f&&z.expand(e,f,{ppad:d}))}},{"../../lib":95,"../../lib/setcursor":104,"../../plotly":113,"../../plots/cartesian/axes":116,"../color":18,"../dragelement":39,"../drawing":41,"./attributes":79,"fast-isnumeric":11}],81:[function(a,b,c){"use strict";var d=a("d3"),e=a("fast-isnumeric"),f=a("../../plotly"),g=a("../../plots/plots"),h=a("../../lib"),i=a("../drawing"),j=a("../color"),k=a("../../lib/svg_text_utils"),l=b.exports={};l.draw=function(a,b,c){function l(a){h.syncOrAsync([m,n],a)}function m(b){return b.attr("transform",v?"rotate("+[v.rotate,u.x,u.y]+") translate(0, "+v.offset+")":null),b.style({"font-family":y,"font-size":d.round(z,2)+"px",fill:j.rgb(A),opacity:B*j.opacity(A),"font-weight":g.fontWeight}).attr(u).call(k.convertToTspans).attr(u),b.selectAll("tspan.line").attr(u),g.previousPromises(a)}function n(a){var b=d.select(a.node().parentNode);if(t&&t.selection&&t.side&&D){b.attr("transform",null);var c=0,f={left:"right",right:"left",top:"bottom",bottom:"top"}[t.side],g=["left","top"].indexOf(t.side)!==-1?-1:1,j=e(t.pad)?t.pad:2,k=i.bBox(b.node()),l={left:0,top:0,right:x.width,bottom:x.height},m=t.maxShift||(l[t.side]-k[t.side])*("left"===t.side||"top"===t.side?-1:1);if(m<0?c=m:(k.left-=t.offsetLeft,k.right-=t.offsetLeft,k.top-=t.offsetTop,k.bottom-=t.offsetTop,t.selection.each(function(){var a=i.bBox(this);h.bBoxIntersect(k,a,j)&&(c=Math.max(c,g*(a[t.side]-k[f])+j))}),c=Math.min(m,c)),c>0||m<0){var n={left:[-c,0],right:[c,0],top:[0,-c],bottom:[0,c]}[t.side];b.attr("transform","translate("+n+")")}}}function o(){B=0,C=!0,D=F,x._infolayer.select("."+b).attr({"data-unformatted":D}).text(D).on("mouseover.opacity",function(){d.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){d.select(this).transition().duration(1e3).style("opacity",0)})}var p=c.propContainer,q=c.propName,r=c.traceIndex,s=c.dfltName,t=c.avoid||{},u=c.attributes,v=c.transform,w=c.containerGroup,x=a._fullLayout,y=p.titlefont.family,z=p.titlefont.size,A=p.titlefont.color,B=1,C=!1,D=p.title.trim();""===D&&(B=0),D.match(/Click to enter .+ title/)&&(B=.2,C=!0),w||(w=x._infolayer.selectAll(".g-"+b).data([0]),w.enter().append("g").classed("g-"+b,!0));var E=w.selectAll("text").data([0]);E.enter().append("text"),E.text(D).attr("class",b),E.attr({"data-unformatted":D}).call(l);var F="Click to enter "+s+" title";a._context.editable?(D||o(),E.call(k.makeEditable).on("edit",function(b){void 0!==r?f.restyle(a,q,b,r):f.relayout(a,q,b)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(l)}).on("input",function(a){
this.text(a||" ").attr(u).selectAll("tspan.line").attr(u)})):D&&!D.match(/Click to enter .+ title/)||E.remove(),E.classed("js-placeholder",C)}},{"../../lib":95,"../../lib/svg_text_utils":106,"../../plotly":113,"../../plots/plots":136,"../color":18,"../drawing":41,d3:9,"fast-isnumeric":11}],82:[function(a,b,c){"use strict";var d=a("../../plots/font_attributes"),e=a("../color/attributes"),f=a("../../lib/extend").extendFlat,g={_isLinkedToArray:!0,method:{valType:"enumerated",values:["restyle","relayout"],dflt:"restyle",role:"info",description:["Sets the Plotly method to be called on click."].join(" ")},args:{valType:"info_array",role:"info",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets the arguments values to be passed to the Plotly","method set in `method` on click."].join(" ")},label:{valType:"string",role:"info",dflt:"",description:"Sets the text label to appear on the button."}};b.exports={_isLinkedToArray:!0,visible:{valType:"boolean",role:"info",description:["Determines whether or not the update menu is visible."].join(" ")},active:{valType:"integer",role:"info",min:-1,dflt:0,description:["Determines which button (by index starting from 0) is","considered active."].join(" ")},buttons:g,x:{valType:"number",min:-2,max:3,dflt:-.05,role:"style",description:"Sets the x position (in normalized coordinates) of the update menu."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right",role:"info",description:["Sets the update menu's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:1,role:"style",description:"Sets the y position (in normalized coordinates) of the update menu."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",role:"info",description:["Sets the update menu's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},font:f({},d,{description:"Sets the font of the update menu button text."}),bgcolor:{valType:"color",role:"style",description:"Sets the background color of the update menu buttons."},bordercolor:{valType:"color",dflt:e.borderLine,role:"style",description:"Sets the color of the border enclosing the update menu."},borderwidth:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the width (in px) of the border enclosing the update menu."}}},{"../../lib/extend":94,"../../plots/font_attributes":134,"../color/attributes":17}],83:[function(a,b,c){"use strict";b.exports={name:"updatemenus",itemName:"updatemenu",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",buttonGroupClassName:"updatemenu-button-group",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:40,fontSizeToHeight:1.3,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF"}},{}],84:[function(a,b,c){"use strict";function d(a,b,c){function d(c,d){return f.coerce(a,b,g,c,d)}var h=e(a,b),i=d("visible",h.length>0);i&&(d("active"),d("x"),d("y"),f.noneOrAll(a,b,["x","y"]),d("xanchor"),d("yanchor"),f.coerceFont(d,"font",c.font),d("bgcolor",c.paper_bgcolor),d("bordercolor"),d("borderwidth"))}function e(a,b){function c(a,b){return f.coerce(d,e,j,a,b)}for(var d,e,g=a.buttons||[],h=b.buttons=[],i=0;i<g.length;i++)d=g[i],e={},f.isPlainObject(d)&&Array.isArray(d.args)&&(c("method"),c("args"),c("label"),e._index=i,h.push(e));return h}var f=a("../../lib"),g=a("./attributes"),h=a("./constants"),i=h.name,j=g.buttons;b.exports=function(a,b){for(var c=Array.isArray(a[i])?a[i]:[],e=b[i]=[],f=0;f<c.length;f++){var g=c[f]||{},h={};d(g,h,b),h._input=g,h._index=f,e.push(h)}}},{"../../lib":95,"./attributes":82,"./constants":83}],85:[function(a,b,c){"use strict";function d(a){for(var b=a[A.name],c=[],d=0;d<b.length;d++){var e=b[d];e.visible&&c.push(e)}return c}function e(a){return a._index}function f(a,b){var c=+a.attr(A.menuIndexAttrName);return c===b._index}function g(a,b,c,d){var e=b.selectAll("g."+A.headerClassName).data([0]);e.enter().append("g").classed(A.headerClassName,!0).style("pointer-events","all");var g=d.active,j=d.buttons[g]||A.blankHeaderOpts,k={y:0,yPad:0};e.call(i,d,j).call(p,d,k);var l=b.selectAll("text."+A.headerArrowClassName).data([0]);l.enter().append("text").classed(A.headerArrowClassName,!0).classed("user-select-none",!0).attr("text-anchor","end").call(x.font,d.font).text("â¼"),l.attr({x:d.width-A.arrowOffsetX,y:d.height1/2+A.textOffsetY}),e.on("click",function(){c.call(q),c.attr(A.menuIndexAttrName,f(c,d)?"-1":String(d._index)),h(a,b,c,d)}),e.on("mouseover",function(){e.call(m)}),e.on("mouseout",function(){e.call(n,d)}),v.setTranslate(b,d.lx,d.ly)}function h(a,b,c,d){var e="-1"!==c.attr(A.menuIndexAttrName)?d.buttons:[],f=c.selectAll("g."+A.buttonClassName).data(e);f.enter().append("g").classed(A.buttonClassName,!0).attr("opacity","0").transition().attr("opacity","1"),f.exit().transition().attr("opacity","0").remove();var j={y:d.height1+A.gapButtonHeader,yPad:A.gapButton};f.each(function(e,k){var o=s.select(this);o.call(i,d,e).call(p,d,j),o.on("click",function(){d._input.active=d.active=k,c.attr(A.menuIndexAttrName,"-1"),g(a,b,c,d),h(a,b,c,d);var f=e.args;t[e.method](a,f[0],f[1],f[2])}),o.on("mouseover",function(){o.call(m)}),o.on("mouseout",function(){o.call(n,d),f.call(l,d)})}),f.call(l,d),v.setTranslate(c,d.lx,d.ly)}function i(a,b,c){a.call(j,b).call(k,b,c)}function j(a,b){var c=a.selectAll("rect").data([0]);c.enter().append("rect").classed(A.itemRectClassName,!0).attr({rx:A.rx,ry:A.ry,"shape-rendering":"crispEdges"}),c.call(w.stroke,b.bordercolor).call(w.fill,b.bgcolor).style("stroke-width",b.borderwidth+"px")}function k(a,b,c){var d=a.selectAll("text").data([0]);d.enter().append("text").classed(A.itemTextClassName,!0).classed("user-select-none",!0).attr("text-anchor","start"),d.call(x.font,b.font).text(c.label).call(y.convertToTspans)}function l(a,b){var c=b.active;a.each(function(a,b){var d=s.select(this);b===c&&d.select("rect."+A.itemRectClassName).call(w.fill,A.activeColor)})}function m(a){a.select("rect."+A.itemRectClassName).call(w.fill,A.hoverColor)}function n(a,b){a.select("rect."+A.itemRectClassName).call(w.fill,b.bgcolor)}function o(a,b){b.width=0,b.height=0,b.height1=0,b.lx=0,b.ly=0;var c=a._tester.selectAll("g."+A.buttonClassName).data(b.buttons);c.enter().append("g").classed(A.buttonClassName,!0),c.each(function(a){var c=s.select(this);c.call(i,b,a);var d=c.select("."+A.itemTextClassName),e=d.selectAll("tspan"),f=d.node()&&x.bBox(d.node()).width,g=Math.max(f+A.textPadX,A.minWidth),h=b.font.size*A.fontSizeToHeight,j=e[0].length||1,k=Math.max(h*j,A.minHeight)+A.textOffsetY;b.width=Math.max(b.width,g),b.height1=Math.max(b.height1,k),b.height+=b.height1}),c.remove();var d=a._fullLayout._size;b.lx=d.l+d.w*b.x,b.ly=d.t+d.h*(1-b.y);var e="left";z.isRightAnchor(b)&&(b.lx-=b.width,e="right"),z.isCenterAnchor(b)&&(b.lx-=b.width/2,e="center");var f="top";z.isBottomAnchor(b)&&(b.ly-=b.height,f="bottom"),z.isMiddleAnchor(b)&&(b.ly-=b.height/2,f="middle"),b.width=Math.ceil(b.width),b.height=Math.ceil(b.height),b.lx=Math.round(b.lx),b.ly=Math.round(b.ly),u.autoMargin(a,A.autoMarginIdRoot+b._index,{x:b.x,y:b.y,l:b.width*({right:1,center:.5}[e]||0),r:b.width*({left:1,center:.5}[e]||0),b:b.height*({top:1,middle:.5}[f]||0),t:b.height*({bottom:1,middle:.5}[f]||0)})}function p(a,b,c){var d=a.select("."+A.itemRectClassName),e=a.select("."+A.itemTextClassName),f=e.selectAll("tspan"),g=b.borderwidth;v.setTranslate(a,g,g+c.y),d.attr({x:0,y:0,width:b.width,height:b.height1});var h=b.font.size*A.fontSizeToHeight,i=f[0].length||1,j=(i-1)*h/4,k={x:A.textOffsetX,y:b.height1/2-j+A.textOffsetY};e.attr(k),f.attr(k),c.y+=b.height1+c.yPad}function q(a){a.selectAll("g."+A.buttonClassName).remove()}function r(a){for(var b=a._fullLayout._pushmargin||{},c=Object.keys(b),d=0;d<c.length;d++){var e=c[d];e.indexOf(A.autoMarginIdRoot)!==-1&&u.autoMargin(a,e)}}var s=a("d3"),t=a("../../plotly"),u=a("../../plots/plots"),v=a("../../lib"),w=a("../color"),x=a("../drawing"),y=a("../../lib/svg_text_utils"),z=a("../legend/anchor_utils"),A=a("./constants");b.exports=function(a){var b=a._fullLayout,c=d(b),i=b._infolayer.selectAll("g."+A.containerClassName).data(c.length>0?[0]:[]);if(i.enter().append("g").classed(A.containerClassName,!0).style("cursor","pointer"),i.exit().remove(),i.exit().size()&&r(a),0!==c.length){var j=i.selectAll("g."+A.headerGroupClassName).data(c,e);j.enter().append("g").classed(A.headerGroupClassName,!0);var k=i.selectAll("g."+A.buttonGroupClassName).data([0]);k.enter().append("g").classed(A.buttonGroupClassName,!0).style("pointer-events","all"),j.enter().size()&&k.call(q).attr(A.menuIndexAttrName,"-1"),j.exit().each(function(b){s.select(this).remove(),k.call(q).attr(A.menuIndexAttrName,"-1"),u.autoMargin(a,A.autoMarginIdRoot+b._index)});for(var l=0;l<c.length;l++){var m=c[l];o(a,m)}j.each(function(b){var c=s.select(this);g(a,c,k,b),f(k,b)&&h(a,c,k,b)})}}},{"../../lib":95,"../../lib/svg_text_utils":106,"../../plotly":113,"../../plots/plots":136,"../color":18,"../drawing":41,"../legend/anchor_utils":54,"./constants":83,d3:9}],86:[function(a,b,c){"use strict";c.layoutAttributes=a("./attributes"),c.supplyLayoutDefaults=a("./defaults"),c.draw=a("./draw")},{"./attributes":82,"./defaults":84,"./draw":85}],87:[function(a,b,c){"use strict";b.exports={entityToUnicode:{mu:"Î¼",amp:"&",lt:"<",gt:">",nbsp:"Â ",times:"Ã",plusmn:"Â±",deg:"Â°"},unicodeToEntity:{"&":"amp","<":"lt",">":"gt",'"':"quot","'":"#x27","/":"#x2F"}}},{}],88:[function(a,b,c){"use strict";c.xmlns="http://www.w3.org/2000/xmlns/",c.svg="http://www.w3.org/2000/svg",c.xlink="http://www.w3.org/1999/xlink",c.svgAttrs={xmlns:c.svg,"xmlns:xlink":c.xlink}},{}],89:[function(a,b,c){"use strict";var d=a("./plotly");c.version="1.16.3",c.plot=d.plot,c.newPlot=d.newPlot,c.restyle=d.restyle,c.relayout=d.relayout,c.redraw=d.redraw,c.extendTraces=d.extendTraces,c.prependTraces=d.prependTraces,c.addTraces=d.addTraces,c.deleteTraces=d.deleteTraces,c.moveTraces=d.moveTraces,c.purge=d.purge,c.setPlotConfig=a("./plot_api/set_plot_config"),c.register=d.register,c.toImage=a("./plot_api/to_image"),c.downloadImage=a("./snapshot/download"),c.validate=a("./plot_api/validate"),c.Icons=a("../build/ploticon"),c.Plots=d.Plots,c.Fx=d.Fx,c.Snapshot=d.Snapshot,c.PlotSchema=d.PlotSchema,c.Queue=d.Queue,c.d3=a("d3")},{"../build/ploticon":6,"./plot_api/set_plot_config":110,"./plot_api/to_image":111,"./plot_api/validate":112,"./plotly":113,"./snapshot/download":143,d3:9}],90:[function(a,b,c){"use strict";"undefined"!=typeof MathJax?(c.MathJax=!0,MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:!0,displayAlign:"left",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}}),MathJax.Hub.Configured()):c.MathJax=!1},{}],91:[function(a,b,c){"use strict";var d=a("fast-isnumeric"),e=a("tinycolor2"),f=a("./nested_property"),g=a("../components/colorscale/get_scale"),h=Object.keys(a("../components/colorscale/scales")),i=/^([2-9]|[1-9][0-9]+)$/;c.valObjects={data_array:{description:["An {array} of data.","The value MUST be an {array}, or we ignore it."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(a,b,c){Array.isArray(a)?b.set(a):void 0!==c&&b.set(c)}},enumerated:{description:["Enumerated value type. The available values are listed","in `values`."].join(" "),requiredOpts:["values"],otherOpts:["dflt","coerceNumber","arrayOk"],coerceFunction:function(a,b,c,d){d.coerceNumber&&(a=+a),d.values.indexOf(a)===-1?b.set(c):b.set(a)}},boolean:{description:"A boolean (true/false) value.",requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(a,b,c){a===!0||a===!1?b.set(a):b.set(c)}},number:{description:["A number or a numeric value","(e.g. a number inside a string).","When applicable, values greater (less) than `max` (`min`)","are coerced to the `dflt`."].join(" "),requiredOpts:[],otherOpts:["dflt","min","max","arrayOk"],coerceFunction:function(a,b,c,e){!d(a)||void 0!==e.min&&a<e.min||void 0!==e.max&&a>e.max?b.set(c):b.set(+a)}},integer:{description:["An integer or an integer inside a string.","When applicable, values greater (less) than `max` (`min`)","are coerced to the `dflt`."].join(" "),requiredOpts:[],otherOpts:["dflt","min","max"],coerceFunction:function(a,b,c,e){a%1||!d(a)||void 0!==e.min&&a<e.min||void 0!==e.max&&a>e.max?b.set(c):b.set(+a)}},string:{description:["A string value.","Numbers are converted to strings except for attributes with","`strict` set to true."].join(" "),requiredOpts:[],otherOpts:["dflt","noBlank","strict","arrayOk","values"],coerceFunction:function(a,b,c,d){if("string"!=typeof a){var e="number"==typeof a;d.strict!==!0&&e?b.set(String(a)):b.set(c)}else d.noBlank&&!a?b.set(c):b.set(a)}},color:{description:["A string describing color.","Supported formats:","- hex (e.g. '#d3d3d3')","- rgb (e.g. 'rgb(255, 0, 0)')","- rgba (e.g. 'rgb(255, 0, 0, 0.5)')","- hsl (e.g. 'hsl(0, 100%, 50%)')","- hsv (e.g. 'hsv(0, 100%, 100%)')","- named colors (full list: http://www.w3.org/TR/css3-color/#svg-color)"].join(" "),requiredOpts:[],otherOpts:["dflt","arrayOk"],coerceFunction:function(a,b,c){e(a).isValid()?b.set(a):b.set(c)}},colorscale:{description:["A Plotly colorscale either picked by a name:","(any of",h.join(", "),")","customized as an {array} of 2-element {arrays} where","the first element is the normalized color level value","(starting at *0* and ending at *1*),","and the second item is a valid color string."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(a,b,c){b.set(g(a,c))}},angle:{description:["A number (in degree) between -180 and 180."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(a,b,c){"auto"===a?b.set("auto"):d(a)?(Math.abs(a)>180&&(a-=360*Math.round(a/360)),b.set(+a)):b.set(c)}},subplotid:{description:["An id string of a subplot type (given by dflt), optionally","followed by an integer >1. e.g. if dflt='geo', we can have","'geo', 'geo2', 'geo3', ..."].join(" "),requiredOpts:["dflt"],otherOpts:[],coerceFunction:function(a,b,c){var d=c.length;return"string"==typeof a&&a.substr(0,d)===c&&i.test(a.substr(d))?void b.set(a):void b.set(c)},validateFunction:function(a,b){var c=b.dflt,d=c.length;return a===c||"string"==typeof a&&!(a.substr(0,d)!==c||!i.test(a.substr(d)))}},flaglist:{description:["A string representing a combination of flags","(order does not matter here).","Combine any of the available `flags` with *+*.","(e.g. ('lines+markers')).","Values in `extras` cannot be combined."].join(" "),requiredOpts:["flags"],otherOpts:["dflt","extras"],coerceFunction:function(a,b,c,d){if("string"!=typeof a)return void b.set(c);if((d.extras||[]).indexOf(a)!==-1)return void b.set(a);for(var e=a.split("+"),f=0;f<e.length;){var g=e[f];d.flags.indexOf(g)===-1||e.indexOf(g)<f?e.splice(f,1):f++}e.length?b.set(e.join("+")):b.set(c)}},any:{description:"Any type.",requiredOpts:[],otherOpts:["dflt","values"],coerceFunction:function(a,b,c){void 0===a?b.set(c):b.set(a)}},info_array:{description:["An {array} of plot information."].join(" "),requiredOpts:["items"],otherOpts:["dflt","freeLength"],coerceFunction:function(a,b,d,e){if(!Array.isArray(a))return void b.set(d);var f=e.items,g=[];d=Array.isArray(d)?d:[];for(var h=0;h<f.length;h++)c.coerce(a,g,f,"["+h+"]",d[h]);b.set(g)},validateFunction:function(a,b){if(!Array.isArray(a))return!1;var d=b.items;if(!b.freeLength&&a.length!==d.length)return!1;for(var e=0;e<a.length;e++){var f=c.validate(a[e],b.items[e]);if(!f)return!1}return!0}}},c.coerce=function(a,b,d,e,g){var h=f(d,e).get(),i=f(a,e),j=f(b,e),k=i.get();return void 0===g&&(g=h.dflt),h.arrayOk&&Array.isArray(k)?(j.set(k),k):(c.valObjects[h.valType].coerceFunction(k,j,g,h),j.get())},c.coerce2=function(a,b,d,e,g){var h=f(a,e),i=c.coerce(a,b,d,e,g);return!!h.get()&&i},c.coerceFont=function(a,b,c){var d={};return c=c||{},d.family=a(b+".family",c.family),d.size=a(b+".size",c.size),d.color=a(b+".color",c.color),d},c.validate=function(a,b){var d=c.valObjects[b.valType];if(b.arrayOk&&Array.isArray(a))return!0;if(d.validateFunction)return d.validateFunction(a,b);var e={},f=e,g={set:function(a){f=a}};return d.coerceFunction(a,g,e,b),f!==e}},{"../components/colorscale/get_scale":30,"../components/colorscale/scales":36,"./nested_property":99,"fast-isnumeric":11,tinycolor2:13}],92:[function(a,b,c){"use strict";function d(a,b){return String(a+Math.pow(10,b)).substr(1)}function e(a){var b;return b=t.test(a)?"Y":"y",b+=u.test(a)?"b":""}function f(a){var b;return b=w.test(a)?v.test(a)?"I":"H":"D"}var g=a("d3"),h=a("fast-isnumeric"),i=a("../lib");c.dateTime2ms=function(a){try{if(a.getTime)return+a}catch(a){return!1}var b,c,d,e,f=String(a).split(" ");if(f.length>2)return!1;var g=f[0].split("-");if(g.length>3||3!==g.length&&f[1])return!1;if(4===g[0].length)b=Number(g[0]);else{if(2!==g[0].length)return!1;var i=(new Date).getFullYear();b=((Number(g[0])-i+70)%100+200)%100+i-70}return!!h(b)&&(1===g.length?new Date(b,0,1).getTime():(c=Number(g[1])-1,!(g[1].length>2)&&c>=0&&c<=11&&(2===g.length?new Date(b,c,1).getTime():(d=Number(g[2]),!(g[2].length>2)&&d>=1&&d<=31&&(d=new Date(b,c,d).getTime(),f[1]?(g=f[1].split(":"),!(g.length>3)&&(e=Number(g[0]),!(g[0].length>2)&&e>=0&&e<=23&&(d+=36e5*e,1===g.length?d:(c=Number(g[1]),!(g[1].length>2)&&c>=0&&c<=59&&(d+=6e4*c,2===g.length?d:(a=Number(g[2]),a>=0&&a<60&&d+1e3*a)))))):d)))))},c.isDateTime=function(a){return c.dateTime2ms(a)!==!1},c.ms2DateTime=function(a,b){if("undefined"==typeof g)return void i.error("d3 is not defined.");b||(b=0);var c=new Date(a),e=g.time.format("%Y-%m-%d")(c);return b<7776e6?(e+=" "+d(c.getHours(),2),b<432e6&&(e+=":"+d(c.getMinutes(),2),b<108e5&&(e+=":"+d(c.getSeconds(),2),b<3e5&&(e+="."+d(c.getMilliseconds(),3)))),e.replace(/([:\s]00)*\.?[0]*$/,"")):e};var j={H:["%H:%M:%S~%L","%H:%M:%S","%H:%M"],I:["%I:%M:%S~%L%p","%I:%M:%S%p","%I:%M%p"],D:["%H","%I%p","%Hh"]},k={Y:["%Y~%m~%d","%Y%m%d","%y%m%d","%m~%d~%Y","%d~%m~%Y"],Yb:["%b~%d~%Y","%d~%b~%Y","%Y~%d~%b","%Y~%b~%d"],y:["%m~%d~%y","%d~%m~%y","%y~%m~%d"],yb:["%b~%d~%y","%d~%b~%y","%y~%d~%b","%y~%b~%d"]},l=g.time.format.utc,m={Y:{H:["%Y~%m~%dT%H:%M:%S","%Y~%m~%dT%H:%M:%S~%L"].map(l),I:[],D:["%Y%m%d%H%M%S","%Y~%m","%m~%Y"].map(l)},Yb:{H:[],I:[],D:["%Y~%b","%b~%Y"].map(l)},y:{H:[],I:[],D:[]},yb:{H:[],I:[],D:[]}};["Y","Yb","y","yb"].forEach(function(a){k[a].forEach(function(b){m[a].D.push(l(b)),["H","I","D"].forEach(function(c){j[c].forEach(function(d){var e=m[a][c];e.push(l(b+"~"+d)),e.push(l(d+"~"+b))})})})});var n=/[a-z]*/g,o=function(a){return a.substr(0,3)},p=/(mon|tue|wed|thu|fri|sat|sun|the|of|st|nd|rd|th)/g,q=/[\s,\/\-\.\(\)]+/g,r=/~?([ap])~?m(~|$)/,s=function(a,b){return b+"m "},t=/\d\d\d\d/,u=/(^|~)[a-z]{3}/,v=/[ap]m/,w=/:/,x=/q([1-4])/,y=["31~mar","30~jun","30~sep","31~dec"],z=function(a,b){return y[b-1]},A=/ ?([+\-]\d\d:?\d\d|Z)$/;c.parseDate=function(a){if(a.getTime)return a;if("string"!=typeof a)return!1;a=a.toLowerCase().replace(n,o).replace(p,"").replace(q,"~").replace(r,s).replace(x,z).trim().replace(A,"");var b,c,d=null,g=e(a),h=f(a);b=m[g][h],c=b.length;for(var i=0;i<c&&!(d=b[i].parse(a));i++);if(!(d instanceof Date))return!1;var j=d.getTimezoneOffset();return d.setTime(d.getTime()+60*j*1e3),d}},{"../lib":95,d3:9,"fast-isnumeric":11}],93:[function(a,b,c){"use strict";var d=a("events").EventEmitter,e={init:function(a){if(a._ev instanceof d)return a;var b=new d;return a._ev=b,a.on=b.on.bind(b),a.once=b.once.bind(b),a.removeListener=b.removeListener.bind(b),a.removeAllListeners=b.removeAllListeners.bind(b),a.emit=function(c,d){"undefined"!=typeof jQuery&&jQuery(a).trigger(c,d),b.emit(c,d)},a},triggerHandler:function(a,b,c){var d,e;"undefined"!=typeof jQuery&&(d=jQuery(a).triggerHandler(b,c));var f=a._ev;if(!f)return d;var g=f._events[b];if(!g)return d;"function"==typeof g&&(g=[g]);for(var h=g.pop(),i=0;i<g.length;i++)g[i](c);return e=h(c),void 0!==d?d:e},purge:function(a){return delete a._ev,delete a.on,delete a.once,delete a.removeListener,delete a.removeAllListeners,delete a.emit,a}};b.exports=e},{events:2}],94:[function(a,b,c){"use strict";function d(a,b){var c,d;for(c=0;c<a.length;c++){if(d=a[c],null!==d&&"object"==typeof d)return!1;void 0!==d&&(b[c]=d)}return!0}function e(a,b,c,h){var i,j,k,l,m,n,o,p=a[0],q=a.length;if(2===q&&g(p)&&g(a[1])&&0===p.length){if(o=d(a[1],p))return p;p.splice(0,p.length)}for(var r=1;r<q;r++){i=a[r];for(j in i)k=p[j],l=i[j],h&&g(l)?p[j]=l:b&&l&&(f(l)||(m=g(l)))?(m?(m=!1,n=k&&g(k)?k:[]):n=k&&f(k)?k:{},p[j]=e([n,l],b,c,h)):("undefined"!=typeof l||c)&&(p[j]=l)}return p}var f=a("./is_plain_object.js"),g=Array.isArray;c.extendFlat=function(){return e(arguments,!1,!1,!1)},c.extendDeep=function(){return e(arguments,!0,!1,!1)},c.extendDeepAll=function(){return e(arguments,!0,!0,!1)},c.extendDeepNoArrays=function(){return e(arguments,!0,!1,!0)}},{"./is_plain_object.js":96}],95:[function(a,b,c){"use strict";var d=a("d3"),e=b.exports={};e.nestedProperty=a("./nested_property"),e.isPlainObject=a("./is_plain_object");var f=a("./coerce");e.valObjects=f.valObjects,e.coerce=f.coerce,e.coerce2=f.coerce2,e.coerceFont=f.coerceFont,e.validate=f.validate;var g=a("./dates");e.dateTime2ms=g.dateTime2ms,e.isDateTime=g.isDateTime,e.ms2DateTime=g.ms2DateTime,e.parseDate=g.parseDate;var h=a("./search");e.findBin=h.findBin,e.sorterAsc=h.sorterAsc,e.sorterDes=h.sorterDes,e.distinctVals=h.distinctVals,e.roundUp=h.roundUp;var i=a("./stats");e.aggNums=i.aggNums,e.len=i.len,e.mean=i.mean,e.variance=i.variance,e.stdev=i.stdev,e.interp=i.interp;var j=a("./matrix");e.init2dArray=j.init2dArray,e.transposeRagged=j.transposeRagged,e.dot=j.dot,e.translationMatrix=j.translationMatrix,e.rotationMatrix=j.rotationMatrix,e.rotationXYMatrix=j.rotationXYMatrix,e.apply2DTransform=j.apply2DTransform,e.apply2DTransform2=j.apply2DTransform2;var k=a("./extend");e.extendFlat=k.extendFlat,e.extendDeep=k.extendDeep,e.extendDeepAll=k.extendDeepAll,e.extendDeepNoArrays=k.extendDeepNoArrays;var l=a("./loggers");e.log=l.log,e.warn=l.warn,e.error=l.error,e.notifier=a("./notifier"),e.swapAttrs=function(a,b,c,d){c||(c="x"),d||(d="y");for(var f=0;f<b.length;f++){var g=b[f],h=e.nestedProperty(a,g.replace("?",c)),i=e.nestedProperty(a,g.replace("?",d)),j=h.get();h.set(i.get()),i.set(j)}},e.pauseEvent=function(a){return a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,!1},e.constrain=function(a,b,c){return b>c?Math.max(c,Math.min(b,a)):Math.max(b,Math.min(c,a))},e.bBoxIntersect=function(a,b,c){return c=c||0,a.left<=b.right+c&&b.left<=a.right+c&&a.top<=b.bottom+c&&b.top<=a.bottom+c},e.identity=function(a){return a},e.randstr=function a(b,c,d){if(d||(d=16),void 0===c&&(c=24),c<=0)return"0";var e,f,g,h=Math.log(Math.pow(2,c))/Math.log(d),i="";for(e=2;h===1/0;e*=2)h=Math.log(Math.pow(2,c/e))/Math.log(d)*e;var j=h-Math.floor(h);for(e=0;e<Math.floor(h);e++)g=Math.floor(Math.random()*d).toString(d),i=g+i;j&&(f=Math.pow(d,j),g=Math.floor(Math.random()*f).toString(d),i=g+i);var k=parseInt(i,d);return b&&b.indexOf(i)>-1||k!==1/0&&k>=Math.pow(2,c)?a(b,c,d):i},e.OptionControl=function(a,b){a||(a={}),b||(b="opt");var c={};return c.optionList=[],c._newoption=function(d){d[b]=a,c[d.name]=d,c.optionList.push(d)},c["_"+b]=a,c},e.smooth=function(a,b){if(b=Math.round(b)||0,b<2)return a;var c,d,e,f,g=a.length,h=2*g,i=2*b-1,j=new Array(i),k=new Array(g);for(c=0;c<i;c++)j[c]=(1-Math.cos(Math.PI*(c+1)/b))/(2*b);for(c=0;c<g;c++){for(f=0,d=0;d<i;d++)e=c+d+1-b,e<-g?e-=h*Math.round(e/h):e>=h&&(e-=h*Math.floor(e/h)),e<0?e=-1-e:e>=g&&(e=h-1-e),f+=a[e]*j[d];k[c]=f}return k},e.syncOrAsync=function(a,b,c){function d(){return e.syncOrAsync(a,b,c)}for(var f,g;a.length;)if(g=a.splice(0,1)[0],f=g(b),f&&f.then)return f.then(d).then(void 0,e.promiseError);return c&&c(b)},e.stripTrailingSlash=function(a){return"/"===a.substr(-1)?a.substr(0,a.length-1):a},e.noneOrAll=function(a,b,c){if(a){var d,e,f=!1,g=!0;for(d=0;d<c.length;d++)e=a[c[d]],void 0!==e&&null!==e?f=!0:g=!1;if(f&&!g)for(d=0;d<c.length;d++)a[c[d]]=b[c[d]]}},e.pushUnique=function(a,b){return b&&a.indexOf(b)===-1&&a.push(b),a},e.mergeArray=function(a,b,c){if(Array.isArray(a))for(var d=Math.min(a.length,b.length),e=0;e<d;e++)b[e][c]=a[e]},e.minExtend=function(a,b){var c={};"object"!=typeof b&&(b={});var d,f,g,h=3,i=Object.keys(a);for(d=0;d<i.length;d++)f=i[d],g=a[f],"_"!==f.charAt(0)&&"function"!=typeof g&&("module"===f?c[f]=g:Array.isArray(g)?c[f]=g.slice(0,h):g&&"object"==typeof g?c[f]=e.minExtend(a[f],b[f]):c[f]=g);for(i=Object.keys(b),d=0;d<i.length;d++)f=i[d],g=b[f],"object"==typeof g&&f in c&&"object"==typeof c[f]||(c[f]=g);return c},e.titleCase=function(a){return a.charAt(0).toUpperCase()+a.substr(1)},e.containsAny=function(a,b){for(var c=0;c<b.length;c++)if(a.indexOf(b[c])!==-1)return!0;return!1},e.getPlotDiv=function(a){for(;a&&a.removeAttribute;a=a.parentNode)if(e.isPlotDiv(a))return a},e.isPlotDiv=function(a){var b=d.select(a);return b.size()&&b.classed("js-plotly-plot")},e.removeElement=function(a){var b=a&&a.parentNode;b&&b.removeChild(a)},e.addStyleRule=function(a,b){if(!e.styleSheet){var c=document.createElement("style");c.appendChild(document.createTextNode("")),document.head.appendChild(c),e.styleSheet=c.sheet}var d=e.styleSheet;d.insertRule?d.insertRule(a+"{"+b+"}",0):d.addRule?d.addRule(a,b,0):e.warn("addStyleRule failed")},e.getTranslate=function(a){var b=/.*\btranslate\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,c=a.attr?"attr":"getAttribute",d=a[c]("transform")||"",e=d.replace(b,function(a,b,c){return[b,c].join(" ")}).split(" ");return{x:+e[0]||0,y:+e[1]||0}},e.setTranslate=function(a,b,c){var d=/(\btranslate\(.*?\);?)/,e=a.attr?"attr":"getAttribute",f=a.attr?"attr":"setAttribute",g=a[e]("transform")||"";return b=b||0,c=c||0,g=g.replace(d,"").trim(),g+=" translate("+b+", "+c+")",g=g.trim(),a[f]("transform",g),g},e.getScale=function(a){var b=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,c=a.attr?"attr":"getAttribute",d=a[c]("transform")||"",e=d.replace(b,function(a,b,c){return[b,c].join(" ")}).split(" ");return{x:+e[0]||1,y:+e[1]||1}},e.setScale=function(a,b,c){var d=/(\bscale\(.*?\);?)/,e=a.attr?"attr":"getAttribute",f=a.attr?"attr":"setAttribute",g=a[e]("transform")||"";return b=b||1,c=c||1,g=g.replace(d,"").trim(),g+=" scale("+b+", "+c+")",g=g.trim(),a[f]("transform",g),g},e.setPointGroupScale=function(a,b,c){var d,e,f;return b=b||1,c=c||1,e=1===b&&1===c?"":" scale("+b+","+c+")",f=/\s*sc.*/,a.each(function(){d=(this.getAttribute("transform")||"").replace(f,""),d+=e,d=d.trim(),this.setAttribute("transform",d)}),e},e.isIE=function(){return"undefined"!=typeof window.navigator.msSaveBlob},e.objectFromPath=function(a,b){for(var c,d=a.split("."),e=c={},f=0;f<d.length;f++){var g=d[f],h=null,i=d[f].match(/(.*)\[([0-9]+)\]/);i?(g=i[1],h=i[2],c=c[g]=[],f===d.length-1?c[h]=b:c[h]={},c=c[h]):(f===d.length-1?c[g]=b:c[g]={},c=c[g])}return e},e.numSeparate=function(a,b){if("string"!=typeof b||0===b.length)throw new Error("Separator string required for formatting!");"number"==typeof a&&(a=String(a));var c=/(\d+)(\d{3})/,d=b.charAt(0),e=b.charAt(1),f=a.split("."),g=f[0],h=f.length>1?d+f[1]:"";if(e&&(f.length>1||g.length>4))for(;c.test(g);)g=g.replace(c,"$1"+e+"$2");return g+h}},{"./coerce":91,"./dates":92,"./extend":94,"./is_plain_object":96,"./loggers":97,"./matrix":98,"./nested_property":99,"./notifier":100,"./search":103,"./stats":105,d3:9}],96:[function(a,b,c){"use strict";b.exports=function(a){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(a):"[object Object]"===Object.prototype.toString.call(a)&&Object.getPrototypeOf(a)===Object.prototype}},{}],97:[function(a,b,c){"use strict";var d=a("../plot_api/plot_config"),e=b.exports={};e.log=function(){if(d.logging>1){for(var a=["LOG:"],b=0;b<arguments.length;b++)a.push(arguments[b]);console.trace?console.trace.apply(console,a):console.log.apply(console,a)}},e.warn=function(){if(d.logging>0){for(var a=["WARN:"],b=0;b<arguments.length;b++)a.push(arguments[b]);console.trace?console.trace.apply(console,a):console.log.apply(console,a)}},e.error=function(){if(d.logging>0){for(var a=["ERROR:"],b=0;b<arguments.length;b++)a.push(arguments[b]);console.error.apply(console,arguments)}}},{"../plot_api/plot_config":108}],98:[function(a,b,c){"use strict";c.init2dArray=function(a,b){for(var c=new Array(a),d=0;d<a;d++)c[d]=new Array(b);return c},c.transposeRagged=function(a){var b,c,d=0,e=a.length;for(b=0;b<e;b++)d=Math.max(d,a[b].length);var f=new Array(d);for(b=0;b<d;b++)for(f[b]=new Array(e),c=0;c<e;c++)f[b][c]=a[c][b];return f},c.dot=function(a,b){if(!a.length||!b.length||a.length!==b.length)return null;var d,e,f=a.length;if(a[0].length)for(d=new Array(f),e=0;e<f;e++)d[e]=c.dot(a[e],b);else if(b[0].length){var g=c.transposeRagged(b);for(d=new Array(g.length),e=0;e<g.length;e++)d[e]=c.dot(a,g[e])}else for(d=0,e=0;e<f;e++)d+=a[e]*b[e];return d},c.translationMatrix=function(a,b){return[[1,0,a],[0,1,b],[0,0,1]]},c.rotationMatrix=function(a){var b=a*Math.PI/180;return[[Math.cos(b),-Math.sin(b),0],[Math.sin(b),Math.cos(b),0],[0,0,1]]},c.rotationXYMatrix=function(a,b,d){return c.dot(c.dot(c.translationMatrix(b,d),c.rotationMatrix(a)),c.translationMatrix(-b,-d))},c.apply2DTransform=function(a){return function(){var b=arguments;3===b.length&&(b=b[0]);var d=1===arguments.length?b[0]:[b[0],b[1]];return c.dot(a,[d[0],d[1],1]).slice(0,2)}},c.apply2DTransform2=function(a){var b=c.apply2DTransform(a);return function(a){return b(a.slice(0,2)).concat(b(a.slice(2,4)))}}},{}],99:[function(a,b,c){"use strict";function d(a,b){return function(){var c,e,f,g,h,i=a;for(g=0;g<b.length-1;g++){if(c=b[g],c===-1){for(e=!0,f=[],h=0;h<i.length;h++)f[h]=d(i[h],b.slice(g+1))(),f[h]!==f[0]&&(e=!1);return e?f[0]:f}if("number"==typeof c&&!Array.isArray(i))return;if(i=i[c],"object"!=typeof i||null===i)return}if("object"==typeof i&&null!==i&&(f=i[b[g]],null!==f))return f}}function e(a,b){var c=["annotations","shapes","range","domain","buttons"],d=c.indexOf(b)===-1;return Array.isArray(a)&&d}function f(a,b){return function(c){var d,f,k=a,l=[a],m=j(c)&&!e(c,b[b.length-1]);for(f=0;f<b.length-1;f++){if(d=b[f],"number"==typeof d&&!Array.isArray(k))throw"array index but container is not an array";if(d===-1){if(m=!g(k,b.slice(f+1),c))break;return}if(!h(k,d,b[f+1],m))break;if(k=k[d],"object"!=typeof k||null===k)throw"container is not an object";l.push(k)}m?(f===b.length-1&&delete k[b[f]],i(l)):k[b[f]]=c}}function g(a,b,c){var d,e=Array.isArray(c),g=!0,i=c,k=!e&&j(c),l=b[0];for(d=0;d<a.length;d++)e&&(i=c[d%c.length],k=j(i)),k&&(g=!1),h(a,d,l,k)&&f(a[d],b)(i);return g}function h(a,b,c,d){if(void 0===a[b]){if(d)return!1;"number"==typeof c?a[b]=[]:a[b]={}}return!0}function i(a){var b,c,d,f,g;for(b=a.length-1;b>=0;b--){if(d=a[b],g=!1,Array.isArray(d))for(c=d.length-1;c>=0;c--)j(d[c])?g?d[c]=void 0:d.pop():g=!0;else if("object"==typeof d&&null!==d)for(f=Object.keys(d),g=!1,c=f.length-1;c>=0;c--)j(d[f[c]])&&!e(d[f[c]],f[c])?delete d[f[c]]:g=!0;if(g)return}}function j(a){return void 0===a||null===a||"object"==typeof a&&(Array.isArray(a)?!a.length:!Object.keys(a).length)}function k(a,b,c){return{set:function(){throw"bad container"},get:function(){},astr:b,parts:c,obj:a}}var l=a("fast-isnumeric");b.exports=function(a,b){if(l(b))b=String(b);else if("string"!=typeof b||"[-1]"===b.substr(b.length-4))throw"bad property string";for(var c,e,g,h=0,i=b.split(".");h<i.length;){if(c=String(i[h]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(c[1])i[h]=c[1];else{if(0!==h)throw"bad property string";i.splice(0,1)}for(e=c[2].substr(1,c[2].length-2).split("]["),g=0;g<e.length;g++)h++,i.splice(h,0,Number(e[g]));
}h++}return"object"!=typeof a?k(a,b,i):{set:f(a,i),get:d(a,i),astr:b,parts:i,obj:a}}},{"fast-isnumeric":11}],100:[function(a,b,c){"use strict";var d=a("d3"),e=a("fast-isnumeric"),f=[];b.exports=function(a,b){function c(a){a.duration(700).style("opacity",0).each("end",function(a){var b=f.indexOf(a);b!==-1&&f.splice(b,1),d.select(this).remove()})}if(f.indexOf(a)===-1){f.push(a);var g=1e3;e(b)?g=b:"long"===b&&(g=3e3);var h=d.select("body").selectAll(".plotly-notifier").data([0]);h.enter().append("div").classed("plotly-notifier",!0);var i=h.selectAll(".notifier-note").data(f);i.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(a){var b=d.select(this);b.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){b.transition().call(c)}),b.append("p").html(a),b.transition().duration(700).style("opacity",1).transition().delay(g).call(c)})}}},{d3:9,"fast-isnumeric":11}],101:[function(a,b,c){"use strict";var d=a("./matrix").dot,e=b.exports={};e.tester=function(a){function b(a,b){var c=a[0],d=a[1];return!(c<e||c>f||d<g||d>h)&&(!b||!j(a))}function c(a,b){var c=a[0],i=a[1];if(c<e||c>f||i<g||i>h)return!1;var j,k,l,m,n,o=d.length,p=d[0][0],q=d[0][1],r=0;for(j=1;j<o;j++)if(k=p,l=q,p=d[j][0],q=d[j][1],m=Math.min(k,p),!(c<m||c>Math.max(k,p)||i>Math.max(l,q)))if(i<Math.min(l,q))c!==m&&r++;else{if(n=p===k?i:l+(c-k)*(q-l)/(p-k),i===n)return 1!==j||!b;i<=n&&c!==m&&r++}return r%2===1}var d=a.slice(),e=d[0][0],f=e,g=d[0][1],h=g;d.push(d[0]);for(var i=1;i<d.length;i++)e=Math.min(e,d[i][0]),f=Math.max(f,d[i][0]),g=Math.min(g,d[i][1]),h=Math.max(h,d[i][1]);var j,k=!1;return 5===d.length&&(d[0][0]===d[1][0]?d[2][0]===d[3][0]&&d[0][1]===d[3][1]&&d[1][1]===d[2][1]&&(k=!0,j=function(a){return a[0]===d[0][0]}):d[0][1]===d[1][1]&&d[2][1]===d[3][1]&&d[0][0]===d[3][0]&&d[1][0]===d[2][0]&&(k=!0,j=function(a){return a[1]===d[0][1]})),{xmin:e,xmax:f,ymin:g,ymax:h,pts:d,contains:k?b:c,isRect:k}};var f=e.isSegmentBent=function(a,b,c,e){var f,g,h,i=a[b],j=[a[c][0]-i[0],a[c][1]-i[1]],k=d(j,j),l=Math.sqrt(k),m=[-j[1]/l,j[0]/l];for(f=b+1;f<c;f++)if(g=[a[f][0]-i[0],a[f][1]-i[1]],h=d(g,j),h<0||h>k||Math.abs(d(g,m))>e)return!0;return!1};e.filter=function(a,b){function c(c){a.push(c);var h=d.length,i=e;d.splice(g+1);for(var j=i+1;j<a.length;j++)(j===a.length-1||f(a,i,j+1,b))&&(d.push(a[j]),d.length<h-2&&(e=j,g=d.length-1),i=j)}var d=[a[0]],e=0,g=0;if(a.length>1){var h=a.pop();c(h)}return{addPt:c,raw:a,filtered:d}}},{"./matrix":98}],102:[function(a,b,c){"use strict";function d(a,b){for(var c,d=[],f=0;f<b.length;f++)c=b[f],c===a?d[f]=c:"object"==typeof c?d[f]=Array.isArray(c)?e.extendDeep([],c):e.extendDeepAll({},c):d[f]=c;return d}var e=a("../lib"),f=a("../plot_api/plot_config"),g={};g.add=function(a,b,c,d,e){var g,h;return a.undoQueue=a.undoQueue||{index:0,queue:[],sequence:!1},h=a.undoQueue.index,a.autoplay?void(a.undoQueue.inSequence||(a.autoplay=!1)):(!a.undoQueue.sequence||a.undoQueue.beginSequence?(g={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},a.undoQueue.queue.splice(h,a.undoQueue.queue.length-h,g),a.undoQueue.index+=1):g=a.undoQueue.queue[h-1],a.undoQueue.beginSequence=!1,g&&(g.undo.calls.unshift(b),g.undo.args.unshift(c),g.redo.calls.push(d),g.redo.args.push(e)),void(a.undoQueue.queue.length>f.queueLength&&(a.undoQueue.queue.shift(),a.undoQueue.index--)))},g.startSequence=function(a){a.undoQueue=a.undoQueue||{index:0,queue:[],sequence:!1},a.undoQueue.sequence=!0,a.undoQueue.beginSequence=!0},g.stopSequence=function(a){a.undoQueue=a.undoQueue||{index:0,queue:[],sequence:!1},a.undoQueue.sequence=!1,a.undoQueue.beginSequence=!1},g.undo=function(a){var b,c;if(a.framework&&a.framework.isPolar)return void a.framework.undo();if(!(void 0===a.undoQueue||isNaN(a.undoQueue.index)||a.undoQueue.index<=0)){for(a.undoQueue.index--,b=a.undoQueue.queue[a.undoQueue.index],a.undoQueue.inSequence=!0,c=0;c<b.undo.calls.length;c++)g.plotDo(a,b.undo.calls[c],b.undo.args[c]);a.undoQueue.inSequence=!1,a.autoplay=!1}},g.redo=function(a){var b,c;if(a.framework&&a.framework.isPolar)return void a.framework.redo();if(!(void 0===a.undoQueue||isNaN(a.undoQueue.index)||a.undoQueue.index>=a.undoQueue.queue.length)){for(b=a.undoQueue.queue[a.undoQueue.index],a.undoQueue.inSequence=!0,c=0;c<b.redo.calls.length;c++)g.plotDo(a,b.redo.calls[c],b.redo.args[c]);a.undoQueue.inSequence=!1,a.autoplay=!1,a.undoQueue.index++}},g.plotDo=function(a,b,c){a.autoplay=!0,c=d(a,c),b.apply(null,c)},b.exports=g},{"../lib":95,"../plot_api/plot_config":108}],103:[function(a,b,c){"use strict";function d(a,b){return a<b}function e(a,b){return a<=b}function f(a,b){return a>b}function g(a,b){return a>=b}var h=a("fast-isnumeric"),i=a("../lib");c.findBin=function(a,b,c){if(h(b.start))return c?Math.ceil((a-b.start)/b.size)-1:Math.floor((a-b.start)/b.size);var j,k,l=0,m=b.length,n=0;for(k=b[b.length-1]>=b[0]?c?d:e:c?g:f;l<m&&n++<100;)j=Math.floor((l+m)/2),k(b[j],a)?l=j+1:m=j;return n>90&&i.log("Long binary search..."),l-1},c.sorterAsc=function(a,b){return a-b},c.sorterDes=function(a,b){return b-a},c.distinctVals=function(a){var b=a.slice();b.sort(c.sorterAsc);for(var d=b.length-1,e=b[d]-b[0]||1,f=e/(d||1)/1e4,g=[b[0]],h=0;h<d;h++)b[h+1]>b[h]+f&&(e=Math.min(e,b[h+1]-b[h]),g.push(b[h+1]));return{vals:g,minDiff:e}},c.roundUp=function(a,b,c){for(var d,e=0,f=b.length-1,g=0,h=c?0:1,i=c?1:0,j=c?Math.ceil:Math.floor;e<f&&g++<100;)d=j((e+f)/2),b[d]<=a?e=d+h:f=d-i;return b[e]}},{"../lib":95,"fast-isnumeric":11}],104:[function(a,b,c){"use strict";b.exports=function(a,b){(a.attr("class")||"").split(" ").forEach(function(b){0===b.indexOf("cursor-")&&a.classed(b,!1)}),b&&a.classed("cursor-"+b,!0)}},{}],105:[function(a,b,c){"use strict";var d=a("fast-isnumeric");c.aggNums=function(a,b,e,f){var g,h;if(f||(f=e.length),d(b)||(b=!1),Array.isArray(e[0])){for(h=new Array(f),g=0;g<f;g++)h[g]=c.aggNums(a,b,e[g]);e=h}for(g=0;g<f;g++)d(b)?d(e[g])&&(b=a(+b,+e[g])):b=e[g];return b},c.len=function(a){return c.aggNums(function(a){return a+1},0,a)},c.mean=function(a,b){return b||(b=c.len(a)),c.aggNums(function(a,b){return a+b},0,a)/b},c.variance=function(a,b,e){return b||(b=c.len(a)),d(e)||(e=c.mean(a,b)),c.aggNums(function(a,b){return a+Math.pow(b-e,2)},0,a)/b},c.stdev=function(a,b,d){return Math.sqrt(c.variance(a,b,d))},c.interp=function(a,b){if(!d(b))throw"n should be a finite number";if(b=b*a.length-.5,b<0)return a[0];if(b>a.length-1)return a[a.length-1];var c=b%1;return c*a[Math.ceil(b)]+(1-c)*a[Math.floor(b)]}},{"fast-isnumeric":11}],106:[function(a,b,c){"use strict";function d(a,b){return a.node().getBoundingClientRect()[b]}function e(a){return a.replace(/(<|&lt;|&#60;)/g,"\\lt ").replace(/(>|&gt;|&#62;)/g,"\\gt ")}function f(a,b,c){var d="math-output-"+m.randstr([],64),f=l.select("body").append("div").attr({id:d}).style({visibility:"hidden",position:"absolute"}).style({"font-size":b.fontSize+"px"}).text(e(a));MathJax.Hub.Queue(["Typeset",MathJax.Hub,f.node()],function(){var b=l.select("body").select("#MathJax_SVG_glyphs");if(f.select(".MathJax_SVG").empty()||!f.select("svg").node())m.log("There was an error in the tex syntax.",a),c();else{var d=f.select("svg").node().getBoundingClientRect();c(f.select(".MathJax_SVG"),b,d)}f.remove()})}function g(a,b){for(var c=a||"",d=0;d<b.length;d++){var e=b[d];c=c.replace(e.regExp,e.sub)}return c}function h(a){return g(a,s)}function i(a){return g(a,t)}function j(a){a=h(a);for(var b=a.split(/(<[^<>]*>)/).map(function(a){var b=a.match(/<(\/?)([^ >]*)\s*(.*)>/i),d=b&&b[2].toLowerCase(),e=p[d];if(void 0!==e){var f=b[1],g=b[3],h=g.match(/^style\s*=\s*"([^"]+)"\s*/i);if("a"===d){if(f)return"</a>";if("href"!==g.substr(0,4).toLowerCase())return"<a>";var j=g.substr(4).replace(/["']/g,"").replace(/=/,""),k=document.createElement("a");return k.href=j,q.indexOf(k.protocol)===-1?"<a>":'<a xlink:show="new" xlink:href="'+i(j)+'">'}if("br"===d)return"<br>";if(f)return"sup"===d?'</tspan><tspan dy="0.42em">&#x200b;</tspan>':"sub"===d?'</tspan><tspan dy="-0.21em">&#x200b;</tspan>':"</tspan>";var l="<tspan";return"sup"!==d&&"sub"!==d||(l="&#x200b;"+l),h&&(h=h[1].replace(/(^|;)\s*color:/,"$1 fill:"),e=(e?e+";":"")+i(h)),l+(e?' style="'+e+'"':"")+">"}return c.xml_entity_encode(a).replace(/</g,"&lt;")}),d=[],e=b.indexOf("<br>");e>0;e=b.indexOf("<br>",e+1))d.push(e);var f=0;d.forEach(function(a){for(var c=a+f,d=b.slice(0,c),e="",g=d.length-1;g>=0;g--){var h=d[g].match(/<(\/?).*>/i);if(h&&"<br>"!==d[g]){h[1]||(e=d[g]);break}}e&&(b.splice(c+1,0,e),b.splice(c,0,"</tspan>"),f+=2)});var g=b.join(""),j=g.split(/<br>/gi);return j.length>1&&(b=j.map(function(a,b){return'<tspan class="line" dy="'+1.3*b+'em">'+a+"</tspan>"})),b.join("")}function k(a,b,c){var d,e,f,g=c.horizontalAlign,h=c.verticalAlign||"top",i=a.node().getBoundingClientRect(),j=b.node().getBoundingClientRect();return e="bottom"===h?function(){return i.bottom-d.height}:"middle"===h?function(){return i.top+(i.height-d.height)/2}:function(){return i.top},f="right"===g?function(){return i.right-d.width}:"center"===g?function(){return i.left+(i.width-d.width)/2}:function(){return i.left},function(){return d=this.node().getBoundingClientRect(),this.style({top:e()-j.top+"px",left:f()-j.left+"px","z-index":1e3}),this}}var l=a("d3"),m=a("../lib"),n=a("../constants/xmlns_namespaces"),o=a("../constants/string_mappings");l.selection.prototype.appendSVG=function(a){for(var b=['<svg xmlns="',n.svg,'" ','xmlns:xlink="',n.xlink,'">',a,"</svg>"].join(""),c=(new DOMParser).parseFromString(b,"application/xml"),d=c.documentElement.firstChild;d;)this.node().appendChild(this.node().ownerDocument.importNode(d,!0)),d=d.nextSibling;return c.querySelector("parsererror")?(m.log(c.querySelector("parsererror div").textContent),null):l.select(this.node().lastChild)},c.html_entity_decode=function(a){var b=l.select("body").append("div").style({display:"none"}).html(""),c=a.replace(/(&[^;]*;)/gi,function(a){return"&lt;"===a?"&#60;":"&rt;"===a?"&#62;":b.html(a).text()});return b.remove(),c},c.xml_entity_encode=function(a){return a.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")},c.convertToTspans=function(a,b){function c(){n.empty()||(o=h.attr("class")+"-math",n.select("svg."+o).remove()),a.text("").style({visibility:"visible","white-space":"pre"}),k=a.appendSVG(g),k||a.text(e),a.select("a").size()&&a.style("pointer-events","all"),b&&b.call(h)}var e=a.text(),g=j(e),h=a,i=!h.attr("data-notex")&&g.match(/([^$]*)([$]+[^$]*[$]+)([^$]*)/),k=e,n=l.select(h.node().parentNode);if(!n.empty()){var o=h.attr("class")?h.attr("class").split(" ")[0]:"text";o+="-math",n.selectAll("svg."+o).remove(),n.selectAll("g."+o+"-group").remove(),a.style({visibility:null});for(var p=a.node();p&&p.removeAttribute;p=p.parentNode)p.removeAttribute("data-bb");if(i){var q=m.getPlotDiv(h.node());(q&&q._promises||[]).push(new Promise(function(a){h.style({visibility:"hidden"});var e={fontSize:parseInt(h.style("font-size"),10)};f(i[2],e,function(e,f,g){n.selectAll("svg."+o).remove(),n.selectAll("g."+o+"-group").remove();var i=e&&e.select("svg");if(!i||!i.node())return c(),void a();var j=n.append("g").classed(o+"-group",!0).attr({"pointer-events":"none"});j.node().appendChild(i.node()),f&&f.node()&&i.node().insertBefore(f.node().cloneNode(!0),i.node().firstChild),i.attr({class:o,height:g.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var k=h.style("fill")||"black";i.select("g").attr({fill:k,stroke:k});var l=d(i,"width"),m=d(i,"height"),p=+h.attr("x")-l*{start:0,middle:.5,end:1}[h.attr("text-anchor")||"start"],q=parseInt(h.style("font-size"),10)||d(h,"height"),r=-q/4;"y"===o[0]?(j.attr({transform:"rotate("+[-90,+h.attr("x"),+h.attr("y")]+") translate("+[-l/2,r-m/2]+")"}),i.attr({x:+h.attr("x"),y:+h.attr("y")})):"l"===o[0]?i.attr({x:h.attr("x"),y:r-m/2}):"a"===o[0]?i.attr({x:0,y:r}):i.attr({x:p,y:+h.attr("y")+r-m/2}),b&&b.call(h,j),a(j)})}))}else c();return a}};var p={sup:'font-size:70%" dy="-0.6em',sub:'font-size:70%" dy="0.3em',b:"font-weight:bold",i:"font-style:italic",a:"",span:"",br:"",em:"font-style:italic;font-weight:bold"},q=["http:","https:","mailto:"],r=new RegExp("</?("+Object.keys(p).join("|")+")( [^>]*)?/?>","g"),s=Object.keys(o.entityToUnicode).map(function(a){return{regExp:new RegExp("&"+a+";","g"),sub:o.entityToUnicode[a]}}),t=Object.keys(o.unicodeToEntity).map(function(a){return{regExp:new RegExp(a,"g"),sub:"&"+o.unicodeToEntity[a]+";"}});c.plainText=function(a){return(a||"").replace(r," ")},c.makeEditable=function(a,b,c){function d(){f(),g.style({opacity:0});var a,b=j.attr("class");a=b?"."+b.split(" ")[0]+"-math-group":"[class*=-math-group]",a&&l.select(g.node().parentNode).select(a).style({opacity:0})}function e(a){var b=a.node(),c=document.createRange();c.selectNodeContents(b);var d=window.getSelection();d.removeAllRanges(),d.addRange(c),b.focus()}function f(){var a=l.select(m.getPlotDiv(g.node())),b=a.select(".svg-container"),d=b.append("div");d.classed("plugin-editable editable",!0).style({position:"absolute","font-family":g.style("font-family")||"Arial","font-size":g.style("font-size")||12,color:c.fill||g.style("fill")||"black",opacity:1,"background-color":c.background||"transparent",outline:"#ffffff33 1px solid",margin:[-parseFloat(g.style("font-size"))/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(c.text||g.attr("data-unformatted")).call(k(g,b,c)).on("blur",function(){g.text(this.textContent).style({opacity:1});var a,b=l.select(this).attr("class");a=b?"."+b.split(" ")[0]+"-math-group":"[class*=-math-group]",a&&l.select(g.node().parentNode).select(a).style({opacity:0});var c=this.textContent;l.select(this).transition().duration(0).remove(),l.select(document).on("mouseup",null),h.edit.call(g,c)}).on("focus",function(){var a=this;l.select(document).on("mouseup",function(){return l.event.target!==a&&void(document.activeElement===d.node()&&d.node().blur())})}).on("keyup",function(){27===l.event.which?(g.style({opacity:1}),l.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),h.cancel.call(g,this.textContent)):(h.input.call(g,this.textContent),l.select(this).call(k(g,b,c)))}).on("keydown",function(){13===l.event.which&&this.blur()}).call(e)}c||(c={});var g=this,h=l.dispatch("edit","input","cancel"),i=l.select(this.node()).style({"pointer-events":"all"}),j=b||i;return b&&i.style({"pointer-events":"none"}),c.immediate?d():j.on("click",d),l.rebind(this,h,"on")}},{"../constants/string_mappings":87,"../constants/xmlns_namespaces":88,"../lib":95,d3:9}],107:[function(a,b,c){"use strict";function d(a){var b;if("string"==typeof a){if(b=document.getElementById(a),null===b)throw new Error("No DOM element with id '"+a+"' exists on the page.");return b}if(null===a||void 0===a)throw new Error("DOM element provided is null or undefined");return a}function e(a){Array.isArray(a._promises)&&a._promises.length>0&&I.log("Clearing previous rejected promises from queue."),a._promises=[]}function f(a,b){a._fullLayout._paperdiv.style("background","white"),H.defaultConfig.setBackground(a,b)}function g(a,b){a._context||(a._context=I.extendFlat({},H.defaultConfig));var c=a._context;b&&(Object.keys(b).forEach(function(a){a in c&&("setBackground"===a&&"opaque"===b[a]?c[a]=f:c[a]=b[a])}),b.plot3dPixelRatio&&!c.plotGlPixelRatio&&(c.plotGlPixelRatio=c.plot3dPixelRatio)),c.staticPlot&&(c.editable=!1,c.autosizable=!1,c.scrollZoom=!1,c.doubleClick=!1,c.showTips=!1,c.showLink=!1,c.displayModeBar=!1)}function h(a,b,c){var d=E.select(a).selectAll(".plot-container").data([0]);d.enter().insert("div",":first-child").classed("plot-container plotly",!0);var e=d.selectAll(".svg-container").data([0]);e.enter().append("div").classed("svg-container",!0).style("position","relative"),e.html(""),b&&(a.data=b),c&&(a.layout=c),H.micropolar.manager.fillLayout(a),"initial"===a._fullLayout.autosize&&a._context.autosizable&&(x(a,{}),a._fullLayout.autosize=c.autosize=!0),e.style({width:a._fullLayout.width+"px",height:a._fullLayout.height+"px"}),a.framework=H.micropolar.manager.framework(a),a.framework({data:a.data,layout:a.layout},e.node()),a.framework.setUndoPoint();var f=a.framework.svg(),g=1,h=a._fullLayout.title;""!==h&&h||(g=0);var i="Click to enter title",j=function(){this.call(H.util.convertToTspans)},k=f.select(".title-group text").call(j);if(a._context.editable){k.attr({"data-unformatted":h}),h&&h!==i||(g=.2,k.attr({"data-unformatted":i}).text(i).style({opacity:g}).on("mouseover.opacity",function(){E.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){E.select(this).transition().duration(1e3).style("opacity",0)}));var l=function(){this.call(H.util.makeEditable).on("edit",function(b){a.framework({layout:{title:b}}),this.attr({"data-unformatted":b}).text(b).call(j),this.call(l)}).on("cancel",function(){var a=this.attr("data-unformatted");this.text(a).call(j)})};k.call(l)}return a._context.setBackground(a,a._fullLayout.paper_bgcolor),L.addLinks(a),Promise.resolve()}function i(a){var b,c;a||(a={}),a.xaxis1&&(a.xaxis||(a.xaxis=a.xaxis1),delete a.xaxis1),a.yaxis1&&(a.yaxis||(a.yaxis=a.yaxis1),delete a.yaxis1);var d=H.Axes.list({_fullLayout:a});for(b=0;b<d.length;b++){var e=d[b];e.anchor&&"free"!==e.anchor&&(e.anchor=H.Axes.cleanId(e.anchor)),e.overlaying&&(e.overlaying=H.Axes.cleanId(e.overlaying)),e.type||(e.isdate?e.type="date":e.islog?e.type="log":e.isdate===!1&&e.islog===!1&&(e.type="linear")),"withzero"!==e.autorange&&"tozero"!==e.autorange||(e.autorange=!0,e.rangemode="tozero"),delete e.islog,delete e.isdate,delete e.categories,m(e,"domain")&&delete e.domain,void 0!==e.autotick&&(void 0===e.tickmode&&(e.tickmode=e.autotick?"auto":"linear"),delete e.autotick)}void 0===a.annotations||Array.isArray(a.annotations)||(I.warn("Annotations must be an array."),delete a.annotations);var f=(a.annotations||[]).length;for(b=0;b<f;b++){var g=a.annotations[b];g.ref&&("paper"===g.ref?(g.xref="paper",g.yref="paper"):"data"===g.ref&&(g.xref="x",g.yref="y"),delete g.ref),j(g,"xref"),j(g,"yref")}void 0===a.shapes||Array.isArray(a.shapes)||(I.warn("Shapes must be an array."),delete a.shapes);var h=(a.shapes||[]).length;for(b=0;b<h;b++){var i=a.shapes[b];j(i,"xref"),j(i,"yref")}var k=a.legend;k&&(k.x>3?(k.x=1.02,k.xanchor="left"):k.x<-2&&(k.x=-.02,k.xanchor="right"),k.y>3?(k.y=1.02,k.yanchor="bottom"):k.y<-2&&(k.y=-.02,k.yanchor="top")),"rotate"===a.dragmode&&(a.dragmode="orbit"),a.scene1&&(a.scene||(a.scene=a.scene1),delete a.scene1);var l=L.getSubplotIds(a,"gl3d");for(b=0;b<l.length;b++){var n=a[l[b]],o=n.cameraposition;if(Array.isArray(o)&&4===o[0].length){var p=o[0],q=o[1],r=o[2],s=F([],p),t=[];for(c=0;c<3;++c)t[c]=q[b]+r*s[2+4*c];n.camera={eye:{x:t[0],y:t[1],z:t[2]},center:{x:q[0],y:q[1],z:q[2]},up:{x:s[1],y:s[5],z:s[9]}},delete n.cameraposition}}return N.clean(a),a}function j(a,b){var c=a[b],d=b.charAt(0);c&&"paper"!==c&&(a[b]=H.Axes.cleanId(c,d))}function k(a,b){for(var c=[],d=(a.concat(Array.isArray(b)?b:[]).filter(function(a){return"uid"in a}).map(function(a){return a.uid})),e=0;e<a.length;e++){var f,g=a[e];if(!("uid"in g)||c.indexOf(g.uid)!==-1){var h;for(f=0;f<100&&(h=I.randstr(d),c.indexOf(h)!==-1);f++);g.uid=I.randstr(d),d.push(g.uid)}if(c.push(g.uid),"histogramy"===g.type&&"xbins"in g&&!("ybins"in g)&&(g.ybins=g.xbins,delete g.xbins),g.error_y&&"opacity"in g.error_y){var i=N.defaults,j=g.error_y.color||(L.traceIs(g,"bar")?N.defaultLine:i[e%i.length]);g.error_y.color=N.addOpacity(N.rgb(j),N.opacity(j)*g.error_y.opacity),delete g.error_y.opacity}if("bardir"in g&&("h"!==g.bardir||!L.traceIs(g,"bar")&&"histogram"!==g.type.substr(0,9)||(g.orientation="h",v(g)),delete g.bardir),"histogramy"===g.type&&v(g),"histogramx"!==g.type&&"histogramy"!==g.type||(g.type="histogram"),"scl"in g&&(g.colorscale=g.scl,delete g.scl),"reversescl"in g&&(g.reversescale=g.reversescl,delete g.reversescl),g.xaxis&&(g.xaxis=H.Axes.cleanId(g.xaxis,"x")),g.yaxis&&(g.yaxis=H.Axes.cleanId(g.yaxis,"y")),L.traceIs(g,"gl3d")&&g.scene&&(g.scene=L.subplotsRegistry.gl3d.cleanId(g.scene)),L.traceIs(g,"pie")||(Array.isArray(g.textposition)?g.textposition=g.textposition.map(l):g.textposition&&(g.textposition=l(g.textposition))),L.traceIs(g,"2dMap")&&("YIGnBu"===g.colorscale&&(g.colorscale="YlGnBu"),"YIOrRd"===g.colorscale&&(g.colorscale="YlOrRd")),L.traceIs(g,"markerColorscale")&&g.marker){var k=g.marker;"YIGnBu"===k.colorscale&&(k.colorscale="YlGnBu"),"YIOrRd"===k.colorscale&&(k.colorscale="YlOrRd")}if("surface"===g.type&&I.isPlainObject(g.contours)){var n=["x","y","z"];for(f=0;f<n.length;f++){var o=g.contours[n[f]];I.isPlainObject(o)&&(o.highlightColor&&(o.highlightcolor=o.highlightColor,delete o.highlightColor),o.highlightWidth&&(o.highlightwidth=o.highlightWidth,delete o.highlightWidth))}}m(g,"line")&&delete g.line,"marker"in g&&(m(g.marker,"line")&&delete g.marker.line,m(g,"marker")&&delete g.marker),N.clean(g)}}function l(a){var b="middle",c="center";return a.indexOf("top")!==-1?b="top":a.indexOf("bottom")!==-1&&(b="bottom"),a.indexOf("left")!==-1?c="left":a.indexOf("right")!==-1&&(c="right"),b+" "+c}function m(a,b){return b in a&&"object"==typeof a[b]&&0===Object.keys(a[b]).length}function n(a){var b,c=H.Axes.list(a),d=a._fullData,e=a._fullLayout,f=a.calcdata=new Array(d.length);for(a.firstscatter=!0,a.numboxes=0,a._hmpixcount=0,a._hmlumcount=0,e._piecolormap={},e._piedefaultcolorcount=0,b=0;b<c.length;b++)c[b]._categories=c[b]._initialCategories.slice();for(b=0;b<d.length;b++){var g=d[b],h=g._module,i=[];h&&g.visible===!0&&h.calc&&(i=h.calc(a,g)),Array.isArray(i)&&i[0]||(i=[{x:!1,y:!1}]),i[0].t||(i[0].t={}),i[0].trace=g,f[b]=i}}function o(a,b){var c,d,e=b+1,f=[];for(c=0;c<a.length;c++)d=a[c],d<0?f.push(e+d):f.push(d);return f}function p(a,b,c){var d,e;for(d=0;d<b.length;d++){if(e=b[d],e!==parseInt(e,10))throw new Error("all values in "+c+" must be integers");if(e>=a.data.length||e<-a.data.length)throw new Error(c+" must be valid indices for gd.data.");if(b.indexOf(e,d+1)>-1||e>=0&&b.indexOf(-a.data.length+e)>-1||e<0&&b.indexOf(a.data.length+e)>-1)throw new Error("each index in "+c+" must be unique.")}}function q(a,b,c){if(!Array.isArray(a.data))throw new Error("gd.data must be an array.");if("undefined"==typeof b)throw new Error("currentIndices is a required argument.");if(Array.isArray(b)||(b=[b]),p(a,b,"currentIndices"),"undefined"==typeof c||Array.isArray(c)||(c=[c]),"undefined"!=typeof c&&p(a,c,"newIndices"),"undefined"!=typeof c&&b.length!==c.length)throw new Error("current and new indices must be of equal length.")}function r(a,b,c){var d,e;if(!Array.isArray(a.data))throw new Error("gd.data must be an array.");if("undefined"==typeof b)throw new Error("traces must be defined.");for(Array.isArray(b)||(b=[b]),d=0;d<b.length;d++)if(e=b[d],"object"!=typeof e||Array.isArray(e)||null===e)throw new Error("all values in traces array must be non-array objects");if("undefined"==typeof c||Array.isArray(c)||(c=[c]),"undefined"!=typeof c&&c.length!==b.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function s(a,b,c,d){var e=I.isPlainObject(d);if(!Array.isArray(a.data))throw new Error("gd.data must be an array");if(!I.isPlainObject(b))throw new Error("update must be a key:value object");if("undefined"==typeof c)throw new Error("indices must be an integer or array of integers");p(a,c,"indices");for(var f in b){if(!Array.isArray(b[f])||b[f].length!==c.length)throw new Error("attribute "+f+" must be an array of length equal to indices array length");if(e&&(!(f in d)||!Array.isArray(d[f])||d[f].length!==b[f].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function t(a,b,c,d){var e,f,g,h,i,j=I.isPlainObject(d),k=[];Array.isArray(c)||(c=[c]),c=o(c,a.data.length-1);for(var l in b)for(var m=0;m<c.length;m++){if(e=a.data[c[m]],g=I.nestedProperty(e,l),f=g.get(),h=b[l][m],!Array.isArray(h))throw new Error("attribute: "+l+" index: "+m+" must be an array");if(!Array.isArray(f))throw new Error("cannot extend missing or non-array attribute: "+l);i=j?d[l][m]:d,G(i)||(i=-1),k.push({prop:g,target:f,insert:h,maxp:Math.floor(i)})}return k}function u(a,b,c,d,e,f){s(a,b,c,d);for(var g,h,i,j=t(a,b,c,d),k=[],l={},m={},n=0;n<j.length;n++)h=j[n].prop,i=j[n].maxp,g=e(j[n].target,j[n].insert),i>=0&&i<g.length&&(k=f(g,i)),i=j[n].target.length,h.set(g),Array.isArray(l[h.astr])||(l[h.astr]=[]),Array.isArray(m[h.astr])||(m[h.astr]=[]),l[h.astr].push(k),m[h.astr].push(i);return{update:l,maxPoints:m}}function v(a){var b;if(I.swapAttrs(a,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(a.z)&&Array.isArray(a.z[0])&&(a.transpose?delete a.transpose:a.transpose=!0),a.error_x&&a.error_y){var c=a.error_y,d="copy_ystyle"in c?c.copy_ystyle:!(c.color||c.thickness||c.width);I.swapAttrs(a,["error_?.copy_ystyle"]),d&&I.swapAttrs(a,["error_?.color","error_?.thickness","error_?.width"])}if(a.hoverinfo){var e=a.hoverinfo.split("+");for(b=0;b<e.length;b++)"x"===e[b]?e[b]="y":"y"===e[b]&&(e[b]="x");a.hoverinfo=e.join("+")}}function w(a){var b,c={left:0,right:0,bottom:0,top:0};if(a)for(b in a)a.hasOwnProperty(b)&&(c.left+=a[b].left||0,c.right+=a[b].right||0,c.bottom+=a[b].bottom||0,c.top+=a[b].top||0);return c}function x(a,b){var c,d,e,f=a._fullLayout,g=a._context;if(a.emit("plotly_autosize"),a._context.fillFrame)e=window.innerWidth,d=window.innerHeight,document.body.style.overflow="hidden";else if(G(g.frameMargins)&&g.frameMargins>0){var h=w(a._boundingBoxMargins),i=h.left+h.right,j=h.bottom+h.top,k=f._container.node().getBoundingClientRect(),l=1-2*g.frameMargins;e=Math.round(l*(k.width-i)),d=Math.round(l*(k.height-j))}else c=window.getComputedStyle(a),d=parseFloat(c.height)||f.height,e=parseFloat(c.width)||f.width;return Math.abs(f.width-e)>1||Math.abs(f.height-d)>1?(f.height=a.layout.height=d,f.width=a.layout.width=e):"initial"!==f.autosize&&(delete b.autosize,f.autosize=a.layout.autosize=!0),L.sanitizeMargins(f),b}function y(a){var b=E.select(a),c=a._fullLayout;if(c._container=b.selectAll(".plot-container").data([0]),c._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),c._paperdiv=c._container.selectAll(".svg-container").data([0]),c._paperdiv.enter().append("div").classed("svg-container",!0).style("position","relative"),"initial"===c.autosize&&(x(a,{}),c.autosize=!0,a.layout.autosize=!0),c._glcontainer=c._paperdiv.selectAll(".gl-container").data([0]),c._glcontainer.enter().append("div").classed("gl-container",!0),c._geocontainer=c._paperdiv.selectAll(".geo-container").data([0]),c._geocontainer.enter().append("div").classed("geo-container",!0),c._paperdiv.selectAll(".main-svg").remove(),c._paper=c._paperdiv.insert("svg",":first-child").classed("main-svg",!0),c._toppaper=c._paperdiv.append("svg").classed("main-svg",!0),!c._uid){var d=[];E.selectAll("defs").each(function(){this.id&&d.push(this.id.split("-")[1])}),c._uid=I.randstr(d)}c._paperdiv.selectAll(".main-svg").attr(Y.svgAttrs),c._defs=c._paper.append("defs").attr("id","defs-"+c._uid),c._topdefs=c._toppaper.append("defs").attr("id","topdefs-"+c._uid),c._draggers=c._paper.append("g").classed("draglayer",!0);var e=c._paper.append("g").classed("layer-below",!0);c._imageLowerLayer=e.append("g").classed("imagelayer",!0),c._shapeLowerLayer=e.append("g").classed("shapelayer",!0);var f=H.Axes.getSubplots(a);f.join("")!==Object.keys(a._fullLayout._plots||{}).join("")&&z(a,f),c._has("cartesian")&&A(a,f),c._ternarylayer=c._paper.append("g").classed("ternarylayer",!0);var g=c._paper.selectAll(".layer-subplot");c._imageSubplotLayer=g.selectAll(".imagelayer"),c._shapeSubplotLayer=g.selectAll(".shapelayer");var h=c._paper.append("g").classed("layer-above",!0);c._imageUpperLayer=h.append("g").classed("imagelayer",!0),c._shapeUpperLayer=h.append("g").classed("shapelayer",!0),c._pielayer=c._paper.append("g").classed("pielayer",!0),c._glimages=c._paper.append("g").classed("glimages",!0),c._geoimages=c._paper.append("g").classed("geoimages",!0),c._infolayer=c._toppaper.append("g").classed("infolayer",!0),c._zoomlayer=c._toppaper.append("g").classed("zoomlayer",!0),c._hoverlayer=c._toppaper.append("g").classed("hoverlayer",!0),a.emit("plotly_framework");var i=I.syncOrAsync([B,function(){return H.Axes.doTicks(a,"redraw")},M.init],a);return i&&i.then&&a._promises.push(i),i}function z(a,b){function c(b,c){return function(){return H.Axes.getFromId(a,b,c)}}for(var d,e,f=a._fullLayout._plots={},g=0;g<b.length;g++)d=b[g],e=f[d]={},e.id=d,e.x=c(d,"x"),e.y=c(d,"y"),e.xaxis=e.x(),e.yaxis=e.y()}function A(a,b){function c(a){a.append("g").classed("imagelayer",!0),a.append("g").classed("maplayer",!0),a.append("g").classed("barlayer",!0),a.append("g").classed("boxlayer",!0),a.append("g").classed("scatterlayer",!0)}var d=a._fullLayout,e=[];d._paper.selectAll("g.subplot").data(b).enter().append("g").classed("subplot",!0).each(function(f){var g=d._plots[f],h=g.plotgroup=E.select(this).classed(f,!0),i=g.xaxis,j=g.yaxis;g.overlays=[];var k=H.Axes.getFromId(a,i.overlaying)||i;k!==i&&k.overlaying&&(k=i,i.overlaying=!1);var l=H.Axes.getFromId(a,j.overlaying)||j;l!==j&&l.overlaying&&(l=j,j.overlaying=!1);var m=k._id+l._id;if(m!==f&&b.indexOf(m)!==-1)g.mainplot=m,e.push(g),i.domain=k.domain.slice(),j.domain=l.domain.slice();else{g.bg=h.append("rect").style("stroke-width",0);var n=h.append("g").classed("layer-subplot",!0);g.shapelayer=n.append("g").classed("shapelayer",!0),g.imagelayer=n.append("g").classed("imagelayer",!0),g.gridlayer=h.append("g"),g.overgrid=h.append("g"),g.zerolinelayer=h.append("g"),g.overzero=h.append("g"),g.plot=h.append("g").call(c),g.overplot=h.append("g"),g.xlines=h.append("path"),g.ylines=h.append("path"),g.overlines=h.append("g"),g.xaxislayer=h.append("g"),g.yaxislayer=h.append("g"),g.overaxes=h.append("g")}g.draglayer=d._draggers.append("g")}),e.forEach(function(a){var b=d._plots[a.mainplot];b.overlays.push(a),a.gridlayer=b.overgrid.append("g"),a.zerolinelayer=b.overzero.append("g"),a.plot=b.overplot.append("g").call(c),a.xlines=b.overlines.append("path"),a.ylines=b.overlines.append("path"),a.xaxislayer=b.overaxes.append("g"),a.yaxislayer=b.overaxes.append("g")}),b.forEach(function(a){var b=d._plots[a];b.xlines.style("fill","none").classed("crisp",!0),b.ylines.style("fill","none").classed("crisp",!0)})}function B(a){return I.syncOrAsync([L.doAutoMargin,C],a)}function C(a){var b,c=a._fullLayout,d=c._size,e=H.Axes.list(a);for(b=0;b<e.length;b++)e[b]._linepositions={};c._paperdiv.style({width:c.width+"px",height:c.height+"px"}).selectAll(".main-svg").call(O.setSize,c.width,c.height),a._context.setBackground(a,c.paper_bgcolor);var f=[];return c._paper.selectAll("g.subplot").each(function(b){var e=c._plots[b],g=H.Axes.getFromId(a,b,"x"),h=H.Axes.getFromId(a,b,"y");g.setScale(),h.setScale(),e.bg&&e.bg.call(O.setRect,g._offset-d.p,h._offset-d.p,g._length+2*d.p,h._length+2*d.p).call(N.fill,c.plot_bgcolor),e.clipId="clip"+c._uid+b+"plot";var i=c._defs.selectAll("g.clips").selectAll("#"+e.clipId).data([0]);i.enter().append("clipPath").attr({class:"plotclip",id:e.clipId}).append("rect"),i.selectAll("rect").attr({width:g._length,height:h._length}),e.plot.call(I.setTranslate,g._offset,h._offset),e.plot.call(O.setClipUrl,e.clipId);var j=O.crispRound(a,g.linewidth,1),k=O.crispRound(a,h.linewidth,1),l=d.p+k,m="M"+-l+",",n="h"+(g._length+2*l),o="free"===g.anchor&&f.indexOf(g._id)===-1,p=d.h*(1-(g.position||0))+j/2%1,q=g.anchor===h._id&&(g.mirror||"top"!==g.side)||"all"===g.mirror||"allticks"===g.mirror||g.mirrors&&g.mirrors[h._id+"bottom"],r=h._length+d.p+j/2,s=g.anchor===h._id&&(g.mirror||"top"===g.side)||"all"===g.mirror||"allticks"===g.mirror||g.mirrors&&g.mirrors[h._id+"top"],t=-d.p-j/2,u=d.p,v=q?0:j,w=s?0:j,x=","+(-u-w)+"v"+(h._length+2*u+w+v),y="free"===h.anchor&&f.indexOf(h._id)===-1,z=d.w*(h.position||0)+k/2%1,A=h.anchor===g._id&&(h.mirror||"right"!==h.side)||"all"===h.mirror||"allticks"===h.mirror||h.mirrors&&h.mirrors[g._id+"left"],B=-d.p-k/2,C=h.anchor===g._id&&(h.mirror||"right"===h.side)||"all"===h.mirror||"allticks"===h.mirror||h.mirrors&&h.mirrors[g._id+"right"],D=g._length+d.p+k/2;
g._linepositions[b]=[q?r:void 0,s?t:void 0,o?p:void 0],g.anchor===h._id?g._linepositions[b][3]="top"===g.side?t:r:o&&(g._linepositions[b][3]=p),h._linepositions[b]=[A?B:void 0,C?D:void 0,y?z:void 0],h.anchor===g._id?h._linepositions[b][3]="right"===h.side?D:B:y&&(h._linepositions[b][3]=z);var E="translate("+g._offset+","+h._offset+")",F=E,G=E;o&&(F="translate("+g._offset+","+d.t+")",t+=h._offset-d.t,r+=h._offset-d.t),y&&(G="translate("+d.l+","+h._offset+")",B+=g._offset-d.l,D+=g._offset-d.l),e.xlines.attr("transform",F).attr("d",(q?m+r+n:"")+(s?m+t+n:"")+(o?m+p+n:"")||"M0,0").style("stroke-width",j+"px").call(N.stroke,g.showline?g.linecolor:"rgba(0,0,0,0)"),e.ylines.attr("transform",G).attr("d",(A?"M"+B+x:"")+(C?"M"+D+x:"")+(y?"M"+z+x:"")||"M0,0").attr("stroke-width",k+"px").call(N.stroke,h.showline?h.linecolor:"rgba(0,0,0,0)"),e.xaxislayer.attr("transform",F),e.yaxislayer.attr("transform",G),e.gridlayer.attr("transform",E),e.zerolinelayer.attr("transform",E),e.draglayer.attr("transform",E),o&&f.push(g._id),y&&f.push(h._id)}),H.Axes.makeClipPaths(a),D(a),X(a),a._promises.length&&Promise.all(a._promises)}function D(a){var b=a._fullLayout;W.draw(a,"gtitle",{propContainer:b,propName:"title",dfltName:"Plot",attributes:{x:b.width/2,y:b._size.t/2,"text-anchor":"middle"}})}var E=a("d3"),F=a("gl-mat4/fromQuat"),G=a("fast-isnumeric"),H=a("../plotly"),I=a("../lib"),J=a("../lib/events"),K=a("../lib/queue"),L=a("../plots/plots"),M=a("../plots/cartesian/graph_interact"),N=a("../components/color"),O=a("../components/drawing"),P=a("../components/errorbars"),Q=a("../components/images"),R=a("../components/legend"),S=a("../components/rangeslider"),T=a("../components/rangeselector"),U=a("../components/updatemenus"),V=a("../components/shapes"),W=a("../components/titles"),X=a("../components/modebar/manage"),Y=a("../constants/xmlns_namespaces");H.plot=function(a,b,c,e){function f(){var b,c,d,e=a.calcdata;for(R.draw(a),T.draw(a),U.draw(a),b=0;b<e.length;b++)c=e[b],d=c[0].trace,d.visible===!0&&d._module.colorbar?d._module.colorbar(a,c):L.autoMargin(a,"cb"+d.uid);return L.doAutoMargin(a),L.previousPromises(a)}function j(){var b=JSON.stringify(z._size)===D?[]:[f,B];return I.syncOrAsync(b.concat(M.init),a)}function l(){if(A){for(var b,c,d=L.getSubplotIds(z,"cartesian"),e=z._modules,f=0;f<d.length;f++){b=z._plots[d[f]];for(var g=0;g<e.length;g++)c=e[g],c.setPositions&&c.setPositions(a,b)}return P.calc(a),I.syncOrAsync([V.calcAutorange,H.Annotations.calcAutorange,m],a)}}function m(){for(var b=H.Axes.list(a,"",!0),c=0;c<b.length;c++)H.Axes.doAutoRange(b[c])}function o(){return H.Axes.doTicks(a,"redraw")}function p(){var b,c=a.calcdata;for(b=0;b<c.length;b++){var d=c[b][0].trace,e=d.visible===!0,f=d.uid;e&&L.traceIs(d,"2dMap")||z._paper.selectAll(".hm"+f+",.contour"+f+",#clip"+f).remove(),e&&d._module.colorbar||z._infolayer.selectAll(".cb"+f).remove()}var g=z._basePlotModules;for(b=0;b<g.length;b++)g[b].plot(a);return L.style(a),V.drawAll(a),H.Annotations.drawAll(a),L.addLinks(a),a._replotting=!1,L.previousPromises(a)}function q(){V.drawAll(a),Q.draw(a),H.Annotations.drawAll(a),R.draw(a),S.draw(a),T.draw(a),U.draw(a)}function r(){a.emit("plotly_afterplot")}a=d(a),J.init(a);var s=J.triggerHandler(a,"plotly_beforeplot",[b,c,e]);if(s===!1)return Promise.reject();b||c||I.isPlotDiv(a)||I.warn("Calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",a),g(a,e),c||(c={}),E.select(a).classed("js-plotly-plot",!0),O.makeTester(a),a._promises=[];var t=0===(a.data||[]).length&&Array.isArray(b);if(Array.isArray(b)&&(k(b,a.data),t?a.data=b:a.data.push.apply(a.data,b),a.empty=!1),a.layout&&!t||(a.layout=i(c)),a._dragging)return a._replotPending=!0,Promise.reject();if(a._replotPending=!1,L.supplyDefaults(a),b&&b[0]&&b[0].r)return h(a,b,c);a._replotting=!0;var u=a._fullData.length>0,v=H.Axes.getSubplots(a).join(""),w=Object.keys(a._fullLayout._plots||{}).join(""),x=w===v;u?a.framework===y&&!t&&x||(a.framework=y,y(a)):x?t&&y(a):(a.framework=y,y(a)),t&&H.Axes.saveRangeInitial(a);var z=a._fullLayout,A=!a.calcdata||a.calcdata.length!==(a.data||[]).length;A&&n(a);for(var C=0;C<a.calcdata.length;C++)a.calcdata[C][0].trace=a._fullData[C];var D=JSON.stringify(z._size);return I.syncOrAsync([L.previousPromises,f,j,l,B,o,p,q],a,r),Promise.all(a._promises).then(function(){return a})},H.redraw=function(a){return a=d(a),I.isPlotDiv(a)?(a.calcdata=void 0,H.plot(a).then(function(){return a.emit("plotly_redraw"),a})):void I.warn("This element is not a Plotly plot.",a)},H.newPlot=function(a,b,c,e){return a=d(a),L.cleanPlot([],{},a._fullData||{},a._fullLayout||{}),L.purge(a),H.plot(a,b,c,e)},H.extendTraces=function a(b,c,e,f){b=d(b);var g=u(b,c,e,f,function(a,b){return a.concat(b)},function(a,b){return a.splice(0,a.length-b)}),h=H.redraw(b),i=[b,g.update,e,g.maxPoints];return K.add(b,H.prependTraces,i,a,arguments),h},H.prependTraces=function a(b,c,e,f){b=d(b);var g=u(b,c,e,f,function(a,b){return b.concat(a)},function(a,b){return a.splice(b,a.length)}),h=H.redraw(b),i=[b,g.update,e,g.maxPoints];return K.add(b,H.extendTraces,i,a,arguments),h},H.addTraces=function a(b,c,e){b=d(b);var f,g,h=[],i=H.deleteTraces,j=a,l=[b,h],m=[b,c];for(r(b,c,e),Array.isArray(c)||(c=[c]),k(c,b.data),f=0;f<c.length;f+=1)b.data.push(c[f]);for(f=0;f<c.length;f++)h.push(-c.length+f);if("undefined"==typeof e)return g=H.redraw(b),K.add(b,i,l,j,m),g;Array.isArray(e)||(e=[e]);try{q(b,h,e)}catch(a){throw b.data.splice(b.data.length-c.length,c.length),a}return K.startSequence(b),K.add(b,i,l,j,m),g=H.moveTraces(b,h,e),K.stopSequence(b),g},H.deleteTraces=function a(b,c){b=d(b);var e,f,g=[],h=H.addTraces,i=a,j=[b,g,c],k=[b,c];if("undefined"==typeof c)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(c)||(c=[c]),p(b,c,"indices"),c=o(c,b.data.length-1),c.sort(I.sorterDes),e=0;e<c.length;e+=1)f=b.data.splice(c[e],1)[0],g.push(f);var l=H.redraw(b);return K.add(b,h,j,i,k),l},H.moveTraces=function a(b,c,e){b=d(b);var f,g=[],h=[],i=a,j=a,k=[b,e,c],l=[b,c,e];if(q(b,c,e),c=Array.isArray(c)?c:[c],"undefined"==typeof e)for(e=[],f=0;f<c.length;f++)e.push(-c.length+f);for(e=Array.isArray(e)?e:[e],c=o(c,b.data.length-1),e=o(e,b.data.length-1),f=0;f<b.data.length;f++)c.indexOf(f)===-1&&g.push(b.data[f]);for(f=0;f<c.length;f++)h.push({newIndex:e[f],trace:b.data[c[f]]});for(h.sort(function(a,b){return a.newIndex-b.newIndex}),f=0;f<h.length;f+=1)g.splice(h[f].newIndex,0,h[f].trace);b.data=g;var m=H.redraw(b);return K.add(b,i,k,j,l),m},H.restyle=function a(b,c,f,g){function h(){return g.map(function(){})}function i(a){var b=H.Axes.id2name(a);q.indexOf(b)===-1&&q.push(b)}function j(a){return"LAYOUT"+a+".autorange"}function k(a){return"LAYOUT"+a+".range"}function l(a,c,d){if(Array.isArray(a))return void a.forEach(function(a){l(a,c,d)});if(!(a in o)){var e;e="LAYOUT"===a.substr(0,6)?I.nestedProperty(b.layout,a.replace("LAYOUT","")):I.nestedProperty(b.data[g[d]],a),a in C||(C[a]=h()),void 0===C[a][d]&&(C[a][d]=e.get()),void 0!==c&&e.set(c)}}b=d(b),e(b);var m,n=b._fullLayout,o={};if("string"==typeof c)o[c]=f;else{if(!I.isPlainObject(c))return I.warn("Restyle fail.",c,f,g),Promise.reject();o=c,void 0===g&&(g=f)}Object.keys(o).length&&(b.changed=!0),G(g)?g=[g]:Array.isArray(g)&&g.length||(g=b.data.map(function(a,b){return b}));var p=["mode","visible","type","orientation","fill","histfunc","histnorm","text","x","y","z","a","b","c","xtype","x0","dx","ytype","y0","dy","xaxis","yaxis","line.width","connectgaps","transpose","zsmooth","showscale","marker.showscale","zauto","marker.cauto","autocolorscale","marker.autocolorscale","colorscale","marker.colorscale","reversescale","marker.reversescale","autobinx","nbinsx","xbins","xbins.start","xbins.end","xbins.size","autobiny","nbinsy","ybins","ybins.start","ybins.end","ybins.size","autocontour","ncontours","contours","contours.coloring","error_y","error_y.visible","error_y.value","error_y.type","error_y.traceref","error_y.array","error_y.symmetric","error_y.arrayminus","error_y.valueminus","error_y.tracerefminus","error_x","error_x.visible","error_x.value","error_x.type","error_x.traceref","error_x.array","error_x.symmetric","error_x.arrayminus","error_x.valueminus","error_x.tracerefminus","swapxy","swapxyaxes","orientationaxes","marker.colors","values","labels","label0","dlabel","sort","textinfo","textposition","textfont.size","textfont.family","textfont.color","insidetextfont.size","insidetextfont.family","insidetextfont.color","outsidetextfont.size","outsidetextfont.family","outsidetextfont.color","hole","scalegroup","domain","domain.x","domain.y","domain.x[0]","domain.x[1]","domain.y[0]","domain.y[1]","tilt","tiltaxis","depth","direction","rotation","pull","line.showscale","line.cauto","line.autocolorscale","line.reversescale","marker.line.showscale","marker.line.cauto","marker.line.autocolorscale","marker.line.reversescale"];for(m=0;m<g.length;m++)if(L.traceIs(b._fullData[g[m]],"box")){p.push("name");break}var q,r=["marker","marker.size","textfont","boxpoints","jitter","pointpos","whiskerwidth","boxmean"],s=["zmin","zmax","zauto","marker.cmin","marker.cmax","marker.cauto","line.cmin","line.cmax","marker.line.cmin","marker.line.cmax","contours.start","contours.end","contours.size","contours.showlines","line","line.smoothing","line.shape","error_y.width","error_x.width","error_x.copy_ystyle","marker.maxdisplayed"],t=["type","x","y","x0","y0","orientation","xaxis","yaxis"],u=!1,w=!1,x=!1,y=!1,z=!1,A=!1,B={},C={},D={},E=["cartesian","pie","ternary"];n._basePlotModules.forEach(function(a){E.indexOf(a.name)===-1&&(u=!0)});var F=["zmin","zmax"],J=["xbins.start","xbins.end","xbins.size"],M=["ybins.start","ybins.end","ybins.size"],N=["contours.start","contours.end","contours.size"];for(var O in o){var P,Q,S,T,U,V=o[O];if(B[O]=V,"LAYOUT"!==O.substr(0,6)){for("transforms"===O.substr(0,10)&&(u=!0),C[O]=h(),m=0;m<g.length;m++){if(P=b.data[g[m]],Q=b._fullData[g[m]],S=I.nestedProperty(P,O),T=S.get(),U=Array.isArray(V)?V[m%V.length]:V,F.indexOf(O)!==-1)l("zauto",!1,m);else if("colorscale"===O)l("autocolorscale",!1,m);else if("autocolorscale"===O)l("colorscale",void 0,m);else if("marker.colorscale"===O)l("marker.autocolorscale",!1,m);else if("marker.autocolorscale"===O)l("marker.colorscale",void 0,m);else if("zauto"===O)l(F,void 0,m);else if(J.indexOf(O)!==-1)l("autobinx",!1,m);else if("autobinx"===O)l(J,void 0,m);else if(M.indexOf(O)!==-1)l("autobiny",!1,m);else if("autobiny"===O)l(M,void 0,m);else if(N.indexOf(O)!==-1)l("autocontour",!1,m);else if("autocontour"===O)l(N,void 0,m);else if(["x0","dx"].indexOf(O)!==-1&&Q.x&&"scaled"!==Q.xtype)l("xtype","scaled",m);else if(["y0","dy"].indexOf(O)!==-1&&Q.y&&"scaled"!==Q.ytype)l("ytype","scaled",m);else if("colorbar.thicknessmode"===O&&S.get()!==U&&["fraction","pixels"].indexOf(U)!==-1&&Q.colorbar){var W=["top","bottom"].indexOf(Q.colorbar.orient)!==-1?n.height-n.margin.t-n.margin.b:n.width-n.margin.l-n.margin.r;l("colorbar.thickness",Q.colorbar.thickness*("fraction"===U?1/W:W),m)}else if("colorbar.lenmode"===O&&S.get()!==U&&["fraction","pixels"].indexOf(U)!==-1&&Q.colorbar){var X=["top","bottom"].indexOf(Q.colorbar.orient)!==-1?n.width-n.margin.l-n.margin.r:n.height-n.margin.t-n.margin.b;l("colorbar.len",Q.colorbar.len*("fraction"===U?1/X:X),m)}else"colorbar.tick0"===O||"colorbar.dtick"===O?l("colorbar.tickmode","linear",m):"colorbar.tickmode"===O&&l(["colorbar.tick0","colorbar.dtick"],void 0,m);if("type"===O&&"pie"===U!=("pie"===T)){var Y="x",Z="y";"bar"!==U&&"bar"!==T||"h"!==P.orientation||(Y="y",Z="x"),I.swapAttrs(P,["?","?src"],"labels",Y),I.swapAttrs(P,["d?","?0"],"label",Y),I.swapAttrs(P,["?","?src"],"values",Z),"pie"===T?(I.nestedProperty(P,"marker.color").set(I.nestedProperty(P,"marker.colors").get()),n._pielayer.selectAll("g.trace").remove()):L.traceIs(P,"cartesian")&&(I.nestedProperty(P,"marker.colors").set(I.nestedProperty(P,"marker.color").get()),D[P.xaxis||"x"]=!0,D[P.yaxis||"y"]=!0)}C[O][m]=T;var $=["swapxy","swapxyaxes","orientation","orientationaxes"];if($.indexOf(O)!==-1){if("orientation"===O){if(S.set(U),S.get()===C[O][m])continue}else"orientationaxes"===O&&(P.orientation={v:"h",h:"v"}[Q.orientation]);v(P)}else S.set(U)}if(["swapxyaxes","orientationaxes"].indexOf(O)!==-1&&H.Axes.swap(b,g),"orientationaxes"===O){var _=I.nestedProperty(b.layout,"hovermode");"x"===_.get()?_.set("y"):"y"===_.get()&&_.set("x")}if(g.indexOf(0)!==-1&&t.indexOf(O)!==-1&&(H.Axes.clearTypes(b,g),u=!0),["autobinx","autobiny","zauto"].indexOf(O)!==-1&&U===!1||(z=!0),(["colorbar","line"].indexOf(S.parts[0])!==-1||"marker"===S.parts[0]&&"colorbar"===S.parts[1])&&(A=!0),p.indexOf(O)!==-1){if(["orientation","type"].indexOf(O)!==-1){for(q=[],m=0;m<g.length;m++){var aa=b.data[g[m]];L.traceIs(aa,"cartesian")&&(i(aa.xaxis||"x"),i(aa.yaxis||"y"),"type"===c&&l(["autobinx","autobiny"],!0,m))}l(q.map(j),!0,0),l(q.map(k),[0,1],0)}u=!0}else s.indexOf(O)!==-1?x=!0:r.indexOf(O)!==-1&&(w=!0)}else S=I.nestedProperty(b.layout,O.replace("LAYOUT","")),C[O]=[S.get()],S.set(Array.isArray(V)?V[0]:V),u=!0}var ba=Object.keys(D);a:for(m=0;m<ba.length;m++){for(var ca=ba[m],da=ca.charAt(0),ea=da+"axis",fa=0;fa<b.data.length;fa++)if(L.traceIs(b.data[fa],"cartesian")&&(b.data[fa][ea]||da)===ca)continue a;l("LAYOUT"+H.Axes.id2name(ca),null,0)}K.add(b,a,[b,C,g],a,[b,B,g]);var ga=!1;H.Axes.list(b).forEach(function(a){a.autorange&&(ga=!0)}),(u||y||w&&ga)&&(b.calcdata=void 0);var ha;y?ha=[function(){var a=b.layout;return b.layout=void 0,H.plot(b,"",a)}]:u||x||w?ha=[H.plot]:(L.supplyDefaults(b),ha=[L.previousPromises],z&&ha.push(function(){var a,c,d;for(a=0;a<b.calcdata.length;a++)c=b.calcdata[a],d=(((c[0]||{}).trace||{})._module||{}).arraysToCalcdata,d&&d(c);return L.style(b),R.draw(b),L.previousPromises(b)}),A&&ha.push(function(){return b.calcdata.forEach(function(a){if((a[0].t||{}).cb){var b=a[0].trace,c=a[0].t.cb;L.traceIs(b,"contour")&&c.line({width:b.contours.showlines!==!1?b.line.width:0,dash:b.line.dash,color:"line"===b.contours.coloring?c._opts.line.color:b.line.color}),L.traceIs(b,"markerColorscale")?c.options(b.marker.colorbar)():c.options(b.colorbar)()}}),L.previousPromises(b)}));var ia=I.syncOrAsync(ha,b);return ia&&ia.then||(ia=Promise.resolve()),ia.then(function(){return b.emit("plotly_restyle",I.extendDeep([],[B,g])),b})},H.relayout=function a(b,c,f){function g(a,b){if(Array.isArray(a))return void a.forEach(function(a){g(a,b)});if(!(a in s)){var c=I.nestedProperty(q,a);a in E||(E[a]=c.get()),void 0!==b&&c.set(b)}}function h(a,b){var c=H.Axes.id2name(a[b+"ref"]||b);return(r[c]||{}).autorange}function i(a){var b=a["xaxis.range"]?a["xaxis.range"][0]:a["xaxis.range[0]"],c=a["xaxis.range"]?a["xaxis.range"][1]:a["xaxis.range[1]"],d=r.xaxis&&r.xaxis.rangeslider?r.xaxis.rangeslider:{};d.visible&&(b||c?r.xaxis.rangeslider.setRange(b,c):a["xaxis.autorange"]&&r.xaxis.rangeslider.setRange())}if(b=d(b),e(b),b.framework&&b.framework.isPolar)return Promise.resolve(b);var j,k,l,m,n,o,p,q=b.layout,r=b._fullLayout,s={},t=!1,u=!1,v=!1,w=!1,y=!1,z=!1;if("string"==typeof c)s[c]=f;else{if(!I.isPlainObject(c))return I.warn("Relayout fail.",c,f),Promise.reject();s=c}for(Object.keys(s).length&&(b.changed=!0),l=Object.keys(s),k=H.Axes.list(b),p=0;p<l.length;p++){if(0===l[p].indexOf("allaxes")){for(var A=0;A<k.length;A++)n=k[A]._id.substr(1),o=n.indexOf("scene")!==-1?n+".":"",j=l[p].replace("allaxes",o+k[A]._name),s[j]||(s[j]=s[l[p]]);delete s[l[p]]}l[p].match(/^annotations\[[0-9-]+\].ref$/)&&(m=s[l[p]].split("y"),s[l[p].replace("ref","xref")]=m[0],s[l[p].replace("ref","yref")]=2===m.length?"y"+m[1]:"paper",delete s[l[p]])}var C={},E={},F=["height","width"];for(var G in s){var J,M=I.nestedProperty(q,G),N=s[G],O=M.parts.length,P="string"==typeof M.parts[O-1]?O-1:O-2,S=M.parts[P],T=M.parts[P-1]+"."+S,U=M.parts.slice(0,P).join("."),V=I.nestedProperty(b.layout,U).get(),W=I.nestedProperty(r,U).get();if(C[G]=N,E[G]="reverse"===S?N:M.get(),F.indexOf(G)!==-1?g("autosize",!1):"autosize"===G?g(F,void 0):T.match(/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/)?g(U+".autorange",!1):T.match(/^[xyz]axis[0-9]*\.autorange$/)?g([U+".range[0]",U+".range[1]"],void 0):T.match(/^aspectratio\.[xyz]$/)?g(M.parts[0]+".aspectmode","manual"):T.match(/^aspectmode$/)?g([U+".x",U+".y",U+".z"],void 0):"tick0"===S||"dtick"===S?g(U+".tickmode","linear"):"tickmode"===S?g([U+".tick0",U+".dtick"],void 0):/[xy]axis[0-9]*?$/.test(S)&&!Object.keys(N||{}).length?y=!0:/[xy]axis[0-9]*\.categoryorder$/.test(T)?y=!0:/[xy]axis[0-9]*\.categoryarray/.test(T)&&(y=!0),T.indexOf("rangeslider")!==-1&&(y=!0),"type"===S&&"log"===W.type!=("log"===N)){var Y=V;if(Y&&Y.range)if(W.autorange)"log"===N&&(Y.range=Y.range[1]>Y.range[0]?[1,2]:[2,1]);else{var Z=Y.range[0],$=Y.range[1];"log"===N?(Z<=0&&$<=0&&g(U+".autorange",!0),Z<=0?Z=$/1e6:$<=0&&($=Z/1e6),g(U+".range[0]",Math.log(Z)/Math.LN10),g(U+".range[1]",Math.log($)/Math.LN10)):(g(U+".range[0]",Math.pow(10,Z)),g(U+".range[1]",Math.pow(10,$)))}else g(U+".autorange",!0)}if("reverse"===S)V.range?V.range.reverse():(g(U+".autorange",!0),V.range=[1,0]),W.autorange?y=!0:w=!0;else if("annotations"===M.parts[0]||"shapes"===M.parts[0]){var _=M.parts[1],aa=M.parts[0],ba=q[aa]||[],ca=H[I.titleCase(aa)],da=ba[_]||{};2===M.parts.length&&("add"===s[G]||I.isPlainObject(s[G])?E[G]="remove":"remove"===s[G]?_===-1?(E[aa]=ba,delete E[G]):E[G]=da:I.log("???",s)),!h(da,"x")&&!h(da,"y")||I.containsAny(G,["color","opacity","align","dash"])||(y=!0),ca.draw(b,_,M.parts.slice(2).join("."),s[G]),delete s[G]}else if("images"===M.parts[0]){var ea=I.objectFromPath(G,N);I.extendDeepAll(b.layout,ea),Q.supplyLayoutDefaults(b.layout,b._fullLayout),Q.draw(b)}else if("mapbox"===M.parts[0]&&"layers"===M.parts[1]){I.extendDeepAll(b.layout,I.objectFromPath(G,N));var fa=(b._fullLayout.mapbox||{}).layers||[];for(J=M.parts[2]+1-fa.length,p=0;p<J;p++)fa.push({});w=!0}else if("updatemenus"===M.parts[0]){I.extendDeepAll(b.layout,I.objectFromPath(G,N));var ga=b._fullLayout.updatemenus||[];for(J=M.parts[2]+1-ga.length,p=0;p<J;p++)ga.push({});w=!0}else 0===M.parts[0].indexOf("scene")?w=!0:0===M.parts[0].indexOf("geo")?w=!0:0===M.parts[0].indexOf("ternary")?w=!0:!r._has("gl2d")||G.indexOf("axis")===-1&&"plot_bgcolor"!==M.parts[0]?"hiddenlabels"===G?y=!0:M.parts[0].indexOf("legend")!==-1?t=!0:G.indexOf("title")!==-1?u=!0:M.parts[0].indexOf("bgcolor")!==-1?v=!0:M.parts.length>1&&I.containsAny(M.parts[1],["tick","exponent","grid","zeroline"])?u=!0:G.indexOf(".linewidth")!==-1&&G.indexOf("axis")!==-1?u=v=!0:M.parts.length>1&&M.parts[1].indexOf("line")!==-1?v=!0:M.parts.length>1&&"mirror"===M.parts[1]?u=v=!0:"margin.pad"===G?u=v=!0:"margin"===M.parts[0]||"autorange"===M.parts[1]||"rangemode"===M.parts[1]||"type"===M.parts[1]||"domain"===M.parts[1]||G.match(/^(bar|box|font)/)?y=!0:["hovermode","dragmode"].indexOf(G)!==-1?z=!0:["hovermode","dragmode","height","width","autosize"].indexOf(G)===-1&&(w=!0):w=!0,M.set(N)}K.add(b,a,[b,E],a,[b,C]),s.autosize&&(s=x(b,s)),(s.height||s.width||s.autosize)&&(y=!0);var ha=Object.keys(s),ia=[L.previousPromises];if(w||y)ia.push(function(){return b.layout=void 0,y&&(b.calcdata=void 0),H.plot(b,"",q)});else if(ha.length&&(L.supplyDefaults(b),r=b._fullLayout,t&&ia.push(function(){return R.draw(b),L.previousPromises(b)}),v&&ia.push(B),u&&ia.push(function(){return H.Axes.doTicks(b,"redraw"),D(b),L.previousPromises(b)}),z)){var ja;for(X(b),H.Fx.supplyLayoutDefaults(b.layout,r,b._fullData),H.Fx.init(b),ja=L.getSubplotIds(r,"gl3d"),p=0;p<ja.length;p++)n=r[ja[p]]._scene,n.updateFx(r.dragmode,r.hovermode);for(ja=L.getSubplotIds(r,"gl2d"),p=0;p<ja.length;p++)n=r._plots[ja[p]]._scene2d,n.updateFx(r);for(ja=L.getSubplotIds(r,"geo"),p=0;p<ja.length;p++){var ka=r[ja[p]]._geo;ka.updateFx(r.hovermode)}}var la=I.syncOrAsync(ia,b);return la&&la.then||(la=Promise.resolve(b)),la.then(function(){var a=I.extendDeep({},C);return i(a),b.emit("plotly_relayout",a),b})},H.purge=function(a){a=d(a);var b=a._fullLayout||{},c=a._fullData||[];return L.cleanPlot([],{},c,b),L.purge(a),J.purge(a),b._container&&b._container.remove(),delete a._context,delete a._replotPending,delete a._mouseDownTime,delete a._hmpixcount,delete a._hmlumcount,a}},{"../components/color":18,"../components/drawing":41,"../components/errorbars":47,"../components/images":53,"../components/legend":61,"../components/modebar/manage":65,"../components/rangeselector":72,"../components/rangeslider":77,"../components/shapes":80,"../components/titles":81,"../components/updatemenus":86,"../constants/xmlns_namespaces":88,"../lib":95,"../lib/events":93,"../lib/queue":102,"../plotly":113,"../plots/cartesian/graph_interact":123,"../plots/plots":136,d3:9,"fast-isnumeric":11,"gl-mat4/fromQuat":12}],108:[function(a,b,c){"use strict";function d(a,b){try{a._fullLayout._paper.style("background",b)}catch(a){e.error(a)}}var e=a("../lib");b.exports={staticPlot:!1,editable:!1,queueLength:0,autosizable:!1,fillFrame:!1,frameMargins:0,scrollZoom:!1,doubleClick:"reset+autosize",showTips:!0,showLink:!1,sendData:!0,linkText:"Edit chart",showSources:!1,displayModeBar:"hover",modeBarButtonsToRemove:[],modeBarButtonsToAdd:[],modeBarButtons:!1,displaylogo:!0,plotGlPixelRatio:2,setBackground:d,topojsonURL:"https://cdn.plot.ly/",mapboxAccessToken:null,logging:!1}},{"../lib":95}],109:[function(a,b,c){"use strict";function d(a){var b=r.attributes,c=j({type:a}),d=l(a),e=n(a),f={},g={};f.type=null,u(f,b),f=h(c.attributes,f,"attributes",a),void 0!==e.attributes&&u(f,e.attributes),f.type=a,f=k(f),i(f),C.traces[a]=t({},d,{attributes:f}),void 0!==c.layoutAttributes&&(g=h(c.layoutAttributes,g,"layoutAttributes",a),i(g),C.traces[a].layoutAttributes=g)}function e(){var a=r.layoutAttributes,b={};b=h(a,b,"layoutAttributes","*"),b=m(b),b=o(b),b=k(b),i(b),p(b),C.layout={layoutAttributes:b}}function f(a){var b=r.transformsRegistry[a],c={};c=h(c,b.attributes||{},"attributes","*"),c=k(c),i(c),p(c),C.transforms[a]={attributes:c}}function g(){C.defs={valObjects:s.valObjects,metaKeys:B.concat(["description","role"])}}function h(a,b,c,d){var e,f,g,i,k;return Object.keys(a).forEach(function(l){return l===w?void Object.keys(a[l]).forEach(function(i){e=j({module:a[l][i]}),void 0!==e&&(f=e[c],g=h(f,{},c,d),s.nestedProperty(b,i).set(u({},g)))}):l===x?void Object.keys(a[l]).forEach(function(e){e===d&&(i=j({module:a[l][e]}),void 0!==i&&(k=i[c],k=h(k,{},c,d),v(b,k)))}):void(b[l]=s.isPlainObject(a[l])?v({},a[l]):a[l])}),b}function i(a){function b(a){return{valType:"string",role:"info",description:["Sets the source reference on plot.ly for ",a,"."].join(" ")}}function c(a,c,d){F.isValObject(a)?"data_array"===a.valType?(a.role="data",d[c+"src"]=b(c)):a.arrayOk===!0&&(d[c+"src"]=b(c)):s.isPlainObject(a)&&(a.role="object")}F.crawl(a,c)}function j(a){if("type"in a)return"area"===a.type?{attributes:D}:r.getModule({type:a.type});var b=r.subplotsRegistry,c=a.module;return b[c]?b[c]:"module"in a?q[c]:void 0}function k(a){return Object.keys(a).forEach(function(b){"_"===b.charAt(0)&&B.indexOf(b)===-1&&delete a[b]}),a}function l(a){return"area"===a?{}:r.modules[a].meta||{}}function m(a){return t(a,{radialaxis:E.radialaxis,angularaxis:E.angularaxis}),t(a,E.layout),a}function n(a){if("area"===a)return{};var b=r.subplotsRegistry,c=Object.keys(b).filter(function(b){return r.traceIs({type:a},b)})[0];return void 0===c?{}:b[c]}function o(a){var b=r.subplotsRegistry;return Object.keys(a).forEach(function(c){Object.keys(b).forEach(function(d){var e,f=b[d];f.attrRegex&&(e="cartesian"===d||"gl2d"===d?f.attrRegex.x.test(c)||f.attrRegex.y.test(c):f.attrRegex.test(c),e&&(a[c][y]=!0))})}),a}function p(a){function b(a,b,c){if(a[z]===!0){var d=b.substr(0,b.length-1);delete a[z],c[b]={items:{}},c[b].items[d]=a,c[b].role="object"}}F.crawl(a,b)}var q=a("../plotly"),r=a("../plots/plots"),s=a("../lib"),t=s.extendFlat,u=s.extendDeep,v=s.extendDeepAll,w="_nestedModules",x="_composedModules",y="_isSubplotObj",z="_isLinkedToArray",A="_deprecated",B=[y,z,A],C={traces:{},layout:{},transforms:{},defs:{}},D=a("../plots/polar/area_attributes"),E=a("../plots/polar/axis_attributes"),F=b.exports={};F.get=function(){return r.allTypes.concat("area").forEach(d),e(),Object.keys(r.transformsRegistry).forEach(f),g(),C},F.crawl=function(a,b){Object.keys(a).forEach(function(c){var d=a[c];B.indexOf(c)===-1&&(b(d,c,a),F.isValObject(d)||s.isPlainObject(d)&&F.crawl(d,b))})},F.isValObject=function(a){return a&&void 0!==a.valType}},{"../lib":95,"../plotly":113,"../plots/plots":136,"../plots/polar/area_attributes":137,"../plots/polar/axis_attributes":138}],110:[function(a,b,c){"use strict";var d=a("../plotly"),e=a("../lib");b.exports=function(a){return e.extendFlat(d.defaultConfig,a)}},{"../lib":95,"../plotly":113}],111:[function(a,b,c){"use strict";function d(b,c){var d=a("../snapshot"),h=new Promise(function(a,h){function i(){var a=d.getDelay(l._fullLayout);return new Promise(function(b,e){setTimeout(function(){var a=d.toSVG(l),f=document.createElement("canvas");f.id=g.randstr(),d.svgToImg({format:c.format,width:l._fullLayout.width,height:l._fullLayout.height,canvas:f,svg:a,promise:!0}).then(function(a){l&&document.body.removeChild(l),b(a)}).catch(function(a){e(a)})},a)})}c=c||{},c.format=c.format||"png";var j=function(a){return void 0===a||null===a||!!(e(a)&&a>1)};j(c.width)&&j(c.height)||h(new Error("Height and width should be pixel values."));var k=d.clone(b,{format:"png",height:c.height,width:c.width}),l=k.td;l.style.position="absolute",l.style.left="-5000px",document.body.appendChild(l);var m=d.getRedrawFunc(l);f.plot(l,k.data,k.layout,k.config).then(m).then(i).then(function(b){a(b)}).catch(function(a){h(a)})});return h}var e=a("fast-isnumeric"),f=a("../plotly"),g=a("../lib");b.exports=d},{"../lib":95,"../plotly":113,"../snapshot":145,"fast-isnumeric":11}],112:[function(a,b,c){"use strict";function d(a,b,c,e,f,j){j=j||[];for(var k=Object.keys(a),m=0;m<k.length;m++){var n=k[m];if("transforms"!==n){var q=j.slice();q.push(n);var r=a[n],s=b[n],t=i(c,n),u="info_array"===(t||{}).valType;if(h(c,n))if(o(r)&&o(s))d(r,s,t,e,f,q);else if(t.items&&!u&&p(r)){var v,w,x=n.substr(0,n.length-1),y=[];for(v=0;v<s.length;v++){var z=t.items[x],A=s[v]._index||v;w=q.slice(),w.push(A),o(r[A])&&o(s[v])&&(y.push(A),d(r[A],s[v],z,e,f,w))}for(v=0;v<r.length;v++)w=q.slice(),w.push(v),o(r[v])?y.indexOf(v)===-1&&e.push(g("unused",f,w)):e.push(g("object",f,w,r[v]))}else!o(r)&&o(s)?e.push(g("object",f,q,r)):p(r)||!p(s)||u?n in b?l.validate(r,t)||e.push(g("value",f,q,r)):e.push(g("unused",f,q,r)):e.push(g("array",f,q,r));else e.push(g("schema",f,q))}}return e}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c].type,e=a.traces[d].layoutAttributes;e&&l.extendFlat(a.layout.layoutAttributes,e)}return a.layout.layoutAttributes}function f(a){return p(a)?"In data trace "+a[1]+", ":"In "+a+", "}function g(a,b,c,d){c=c||"";var e,f;p(b)?(e=b[0],f=b[1]):(e=b,f=null);var g=k(c),h=q[a](b,g,d);return l.log(h),{code:a,container:e,trace:f,path:c,astr:g,msg:h}}function h(a,b){var c=j(b),d=c.keyMinusId,e=c.id;return!!(d in a&&a[d]._isSubplotObj&&e)||b in a}function i(a,b){var c=j(b);return a[c.keyMinusId]}function j(a){var b=/([2-9]|[1-9][0-9]+)$/,c=a.split(b)[0],d=a.substr(c.length,a.length);return{keyMinusId:c,id:d}}function k(a){if(!p(a))return String(a);for(var b="",c=0;c<a.length;c++){var d=a[c];"number"==typeof d?b=b.substr(0,b.length-1)+"["+d+"]":b+=d,c<a.length-1&&(b+=".")}return b}var l=a("../lib"),m=a("../plots/plots"),n=a("./plot_schema"),o=l.isPlainObject,p=Array.isArray;b.exports=function(a,b){var c,f,h=n.get(),i=[],j={};p(a)?(j.data=l.extendDeep([],a),c=a):(j.data=[],c=[],i.push(g("array","data"))),o(b)?(j.layout=l.extendDeep({},b),f=b):(j.layout={},f={},arguments.length>1&&i.push(g("object","layout"))),m.supplyDefaults(j);for(var k=j._fullData,q=c.length,r=0;r<q;r++){var s=c[r],t=["data",r];if(o(s)){var u=k[r],v=u.type,w=h.traces[v].attributes;w.type={valType:"enumerated",values:[v]},u.visible===!1&&s.visible!==!1&&i.push(g("invisible",t)),d(s,u,w,i,t);var x=s.transforms,y=u.transforms;if(x){p(x)||i.push(g("array",t,["transforms"])),t.push("transforms");for(var z=0;z<x.length;z++){var A=["transforms",z],B=x[z].type;if(o(x[z])){var C=h.transforms[B]?h.transforms[B].attributes:{};C.type={valType:"enumerated",values:Object.keys(h.transforms)},d(x[z],y[z],C,i,t,A)}else i.push(g("object",t,A))}}}else i.push(g("object",t))}var D=j._fullLayout,E=e(h,k);return d(f,D,E,i,"layout"),0===i.length?void 0:i};var q={object:function(a,b){var c;return c="layout"===a&&""===b?"The layout argument":"data"===a[0]&&""===b?"Trace "+a[1]+" in the data argument":f(a)+"key "+b,c+" must be linked to an object container"},array:function(a,b){var c;return c="data"===a?"The data argument":f(a)+"key "+b,c+" must be linked to an array container"},schema:function(a,b){return f(a)+"key "+b+" is not part of the schema"},unused:function(a,b,c){var d=o(c)?"container":"key";return f(a)+d+" "+b+" did not get coerced"},invisible:function(a){return"Trace "+a[1]+" got defaulted to be not visible"},value:function(a,b,c){return[f(a)+"key "+b,"is set to an invalid value ("+c+")"].join(" ")}}},{"../lib":95,"../plots/plots":136,"./plot_schema":109}],113:[function(a,b,c){"use strict";a("es6-promise").polyfill();var d=c.Lib=a("./lib");c.util=a("./lib/svg_text_utils"),c.Queue=a("./lib/queue"),a("../build/plotcss"),c.MathJaxConfig=a("./fonts/mathjax_config"),c.defaultConfig=a("./plot_api/plot_config");var e=c.Plots=a("./plots/plots");c.Axes=a("./plots/cartesian/axes"),c.Fx=a("./plots/cartesian/graph_interact"),c.micropolar=a("./plots/polar/micropolar"),c.Color=a("./components/color"),c.Drawing=a("./components/drawing"),c.Colorscale=a("./components/colorscale"),c.Colorbar=a("./components/colorbar"),c.ErrorBars=a("./components/errorbars"),c.Annotations=a("./components/annotations"),c.Shapes=a("./components/shapes"),c.Legend=a("./components/legend"),c.Images=a("./components/images"),c.UpdateMenus=a("./components/updatemenus"),c.ModeBar=a("./components/modebar"),c.register=function(a){if(!a)throw new Error("No argument passed to Plotly.register.");a&&!Array.isArray(a)&&(a=[a]);for(var b=0;b<a.length;b++){var c=a[b];if(!c)throw new Error("Invalid module was attempted to be registered!");switch(c.moduleType){case"trace":e.register(c,c.name,c.categories,c.meta),e.subplotsRegistry[c.basePlotModule.name]||e.registerSubplot(c.basePlotModule);break;case"transform":if("string"!=typeof c.name)throw new Error("Transform module *name* must be a string.");var f="Transform module "+c.name;if("function"!=typeof c.transform)throw new Error(f+" is missing a *transform* function.");d.isPlainObject(c.attributes)||d.log(f+" registered without an *attributes* object."),"function"!=typeof c.supplyDefaults&&d.log(f+" registered without a *supplyDefaults* function."),e.transformsRegistry[c.name]=c;break;default:throw new Error("Invalid module was attempted to be registered!")}}},c.register(a("./traces/scatter")),a("./plot_api/plot_api"),c.PlotSchema=a("./plot_api/plot_schema"),c.Snapshot=a("./snapshot")},{"../build/plotcss":5,"./components/annotations":16,"./components/color":18,"./components/colorbar":23,"./components/colorscale":32,"./components/drawing":41,"./components/errorbars":47,"./components/images":53,"./components/legend":61,"./components/modebar":64,"./components/shapes":80,"./components/updatemenus":86,"./fonts/mathjax_config":90,"./lib":95,"./lib/queue":102,"./lib/svg_text_utils":106,"./plot_api/plot_api":107,"./plot_api/plot_config":108,"./plot_api/plot_schema":109,"./plots/cartesian/axes":116,"./plots/cartesian/graph_interact":123,"./plots/plots":136,"./plots/polar/micropolar":139,"./snapshot":145,"./traces/scatter":173,"es6-promise":10}],114:[function(a,b,c){"use strict";b.exports={type:{valType:"enumerated",role:"info",values:[],dflt:"scatter"},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],role:"info",dflt:!0,description:["Determines whether or not this trace is visible.","If *legendonly*, the trace is not drawn,","but can appear as a legend item","(provided that the legend itself is visible)."].join(" ")},showlegend:{valType:"boolean",
role:"info",dflt:!0,description:["Determines whether or not an item corresponding to this","trace is shown in the legend."].join(" ")},legendgroup:{valType:"string",role:"info",dflt:"",description:["Sets the legend group for this trace.","Traces part of the same legend group hide/show at the same time","when toggling legend items."].join(" ")},opacity:{valType:"number",role:"style",min:0,max:1,dflt:1,description:"Sets the opacity of the trace."},name:{valType:"string",role:"info",description:["Sets the trace name.","The trace name appear as the legend item and on hover."].join(" ")},uid:{valType:"string",role:"info",dflt:""},hoverinfo:{valType:"flaglist",role:"info",flags:["x","y","z","text","name"],extras:["all","none"],dflt:"all",description:"Determines which trace information appear on hover."},stream:{token:{valType:"string",noBlank:!0,strict:!0,role:"info",description:["The stream id number links a data trace on a plot with a stream.","See https://plot.ly/settings for more details."].join(" ")},maxpoints:{valType:"number",min:0,role:"info",description:["Sets the maximum number of points to keep on the plots from an","incoming stream.","If `maxpoints` is set to *50*, only the newest 50 points will","be displayed on the plot."].join(" ")}}}},{}],115:[function(a,b,c){"use strict";b.exports={xaxis:{valType:"subplotid",role:"info",dflt:"x",description:["Sets a reference between this trace's x coordinates and","a 2D cartesian x axis.","If *x* (the default value), the x coordinates refer to","`layout.xaxis`.","If *x2*, the x coordinates refer to `layout.xaxis2`, and so on."].join(" ")},yaxis:{valType:"subplotid",role:"info",dflt:"y",description:["Sets a reference between this trace's y coordinates and","a 2D cartesian y axis.","If *y* (the default value), the y coordinates refer to","`layout.yaxis`.","If *y2*, the y coordinates refer to `layout.xaxis2`, and so on."].join(" ")}}},{}],116:[function(a,b,c){"use strict";function d(a){var b,c,d=a.tickvals,e=a.ticktext,f=new Array(d.length),g=1.0001*a.range[0]-1e-4*a.range[1],i=1.0001*a.range[1]-1e-4*a.range[0],j=Math.min(g,i),k=Math.max(g,i),l=0;for(Array.isArray(e)||(e=[]),c=0;c<d.length;c++)b=a.d2l(d[c]),b>j&&b<k&&(void 0===e[c]?f[l]=A.tickText(a,b):f[l]=h(a,b,String(e[c])),l++);return l<d.length&&f.splice(l,d.length-l),f}function e(a,b,c){return b*v.roundUp(a/b,c)}function f(a){var b,c=a.dtick;if(a._tickexponent=0,t(c)||"string"==typeof c||(c=1),"category"===a.type)a._tickround=null;else if(t(c)||"L"===c.charAt(0))if("date"===a.type)c>=864e5?a._tickround="d":c>=36e5?a._tickround="H":c>=6e4?a._tickround="M":c>=1e3?a._tickround="S":a._tickround=3-Math.round(Math.log(c/2)/Math.LN10);else{t(c)||(c=Number(c.substr(1))),a._tickround=2-Math.floor(Math.log(c)/Math.LN10+.01),b="log"===a.type?Math.pow(10,Math.max(a.range[0],a.range[1])):Math.max(Math.abs(a.range[0]),Math.abs(a.range[1]));var d=Math.floor(Math.log(b)/Math.LN10+.01);Math.abs(d)>3&&("SI"===a.exponentformat||"B"===a.exponentformat?a._tickexponent=3*Math.round((d-1)/3):a._tickexponent=d)}else"M"===c.charAt(0)?a._tickround=2===c.length?"m":"y":a._tickround=null}function g(a,b){var c=a.match(P),d=new Date(b);if(c){var e=Math.min(+c[1]||6,6),f=String(b/1e3%1+2.0000005).substr(2,e).replace(/0+$/,"")||"0";return s.time.format(a.replace(P,f))(d)}return s.time.format(a)(d)}function h(a,b,c){var d=a.tickfont||a._gd._fullLayout.font;return{x:b,dx:0,dy:0,text:c||"",fontSize:d.size,font:d.family,fontColor:d.color}}function i(a,b,c,d){var e,f=b.x,h=a._tickround,i=new Date(f),j="";c&&a.hoverformat?e=g(a.hoverformat,f):a.tickformat?e=g(a.tickformat,f):(d&&(t(h)?h+=2:h={y:"m",m:"d",d:"H",H:"M",M:"S",S:2}[h]),"y"===h?e=J(i):"m"===h?e=K(i):(f!==a._tmin||c||(j="<br>"+J(i)),"d"===h?e=L(i):"H"===h?e=M(i):(f!==a._tmin||c||(j="<br>"+L(i)+", "+J(i)),e=N(i),"M"!==h&&(e+=O(i),"S"!==h&&(e+=m(r(f/1e3,1),a,"none",c).substr(1)))))),b.text=e+j}function j(a,b,c,d,e){var f=a.dtick,g=b.x;if(!d||"string"==typeof f&&"L"===f.charAt(0)||(f="L3"),a.tickformat||"string"==typeof f&&"L"===f.charAt(0))b.text=m(Math.pow(10,g),a,e,d);else if(t(f)||"D"===f.charAt(0)&&r(g+.01,1)<.1)if(["e","E","power"].indexOf(a.exponentformat)!==-1){var h=Math.round(g);0===h?b.text=1:1===h?b.text="10":h>1?b.text="10<sup>"+h+"</sup>":b.text="10<sup>â"+-h+"</sup>",b.fontSize*=1.25}else b.text=m(Math.pow(10,g),a,"","fakehover"),"D1"===f&&"y"===a._id.charAt(0)&&(b.dy-=b.fontSize/6);else{if("D"!==f.charAt(0))throw"unrecognized dtick "+String(f);b.text=String(Math.round(Math.pow(10,r(g,1)))),b.fontSize*=.75}if("D1"===a.dtick){var i=String(b.text).charAt(0);"0"!==i&&"1"!==i||("y"===a._id.charAt(0)?b.dx-=b.fontSize/4:(b.dy+=b.fontSize/2,b.dx+=(a.range[1]>a.range[0]?1:-1)*b.fontSize*(g<0?.5:.25)))}}function k(a,b){var c=a._categories[Math.round(b.x)];void 0===c&&(c=""),b.text=String(c)}function l(a,b,c,d,e){"all"===a.showexponent&&Math.abs(b.x/a.dtick)<1e-6&&(e="hide"),b.text=m(b.x,a,e,d)}function m(a,b,c,d){var e=a<0,g=b._tickround,h=c||b.exponentformat||"B",i=b._tickexponent,j=b.tickformat;if(d){var k={exponentformat:b.exponentformat,dtick:"none"===b.showexponent?b.dtick:t(a)?Math.abs(a)||1:1,range:"none"===b.showexponent?b.range:[0,a||1]};f(k),g=(Number(k._tickround)||0)+4,i=k._tickexponent,b.hoverformat&&(j=b.hoverformat)}if(j)return s.format(j)(a).replace(/-/g,"â");var l=Math.pow(10,-g)/2;if("none"===h&&(i=0),a=Math.abs(a),a<l)a="0",e=!1;else{if(a+=l,i&&(a*=Math.pow(10,-i),g+=i),0===g)a=String(Math.floor(a));else if(g<0){a=String(Math.round(a)),a=a.substr(0,a.length+g);for(var m=g;m<0;m++)a+="0"}else{a=String(a);var n=a.indexOf(".")+1;n&&(a=a.substr(0,n+g).replace(/\.?0+$/,""))}a=v.numSeparate(a,b._gd._fullLayout.separators)}if(i&&"hide"!==h){var o;o=i<0?"â"+-i:"power"!==h?"+"+i:String(i),"e"===h||("SI"===h||"B"===h)&&(i>12||i<-15)?a+="e"+o:"E"===h?a+="E"+o:"power"===h?a+="Ã10<sup>"+o+"</sup>":"B"===h&&9===i?a+="B":"SI"!==h&&"B"!==h||(a+=Q[i/3+5])}return e?"â"+a:a}function n(a,b){var c,d,e=[];for(c=0;c<b.length;c++){var f=[],g=a._fullData[b[c]].xaxis,h=a._fullData[b[c]].yaxis;if(g&&h){for(d=0;d<e.length;d++)e[d].x.indexOf(g)===-1&&e[d].y.indexOf(h)===-1||f.push(d);if(f.length){var i,j=e[f[0]];if(f.length>1)for(d=1;d<f.length;d++)i=e[f[d]],o(j.x,i.x),o(j.y,i.y);o(j.x,[g]),o(j.y,[h])}else e.push({x:[g],y:[h]})}}return e}function o(a,b){for(var c=0;c<b.length;c++)a.indexOf(b[c])===-1&&a.push(b[c])}function p(a,b,c){var d,e,f=[],g=[],h=a.layout;for(d=0;d<b.length;d++)f.push(A.getFromId(a,b[d]));for(d=0;d<c.length;d++)g.push(A.getFromId(a,c[d]));var i=Object.keys(f[0]),j=["anchor","domain","overlaying","position","side","tickangle"],k=["linear","log"];for(d=0;d<i.length;d++){var l=i[d],m=f[0][l],n=g[0][l],o=!0,p=!1,r=!1;if("_"!==l.charAt(0)&&"function"!=typeof m&&j.indexOf(l)===-1){for(e=1;e<f.length&&o;e++){var s=f[e][l];"type"===l&&k.indexOf(m)!==-1&&k.indexOf(s)!==-1&&m!==s?p=!0:s!==m&&(o=!1)}for(e=1;e<g.length&&o;e++){var t=g[e][l];"type"===l&&k.indexOf(n)!==-1&&k.indexOf(t)!==-1&&n!==t?r=!0:g[e][l]!==n&&(o=!1)}o&&(p&&(h[f[0]._name].type="linear"),r&&(h[g[0]._name].type="linear"),q(h,l,f,g))}}for(d=0;d<a._fullLayout.annotations.length;d++){var u=a._fullLayout.annotations[d];b.indexOf(u.xref)!==-1&&c.indexOf(u.yref)!==-1&&v.swapAttrs(h.annotations[d],["?"])}}function q(a,b,c,d){var e,f=v.nestedProperty,g=f(a[c[0]._name],b).get(),h=f(a[d[0]._name],b).get();for("title"===b&&("Click to enter X axis title"===g&&(g="Click to enter Y axis title"),"Click to enter Y axis title"===h&&(h="Click to enter X axis title")),e=0;e<c.length;e++)f(a,c[e]._name+"."+b).set(h);for(e=0;e<d.length;e++)f(a,d[e]._name+"."+b).set(g)}function r(a,b){return(a%b+b)%b}var s=a("d3"),t=a("fast-isnumeric"),u=a("../../plotly"),v=a("../../lib"),w=a("../../lib/svg_text_utils"),x=a("../../components/titles"),y=a("../../components/color"),z=a("../../components/drawing"),A=b.exports={};A.layoutAttributes=a("./layout_attributes"),A.supplyLayoutDefaults=a("./layout_defaults"),A.setConvert=a("./set_convert");var B=a("./axis_ids");A.id2name=B.id2name,A.cleanId=B.cleanId,A.list=B.list,A.listIds=B.listIds,A.getFromId=B.getFromId,A.getFromTrace=B.getFromTrace,A.coerceRef=function(a,b,c,d,e){var f=c._fullLayout._has("gl2d")?[]:A.listIds(c,d),g=d+"ref",h={};return h[g]={valType:"enumerated",values:f.concat(["paper"]),dflt:e||f[0]||"paper"},v.coerce(a,b,h,g)},A.coerceARef=function(a,b,c,d,e){var f=c._fullLayout._has("gl2d")?[]:A.listIds(c,d),g="a"+d+"ref",h={};return h[g]={valType:"enumerated",values:f.concat(["pixel"]),dflt:e||"pixel"||f[0]},v.coerce(a,b,h,g)},A.clearTypes=function(a,b){Array.isArray(b)&&b.length||(b=a._fullData.map(function(a,b){return b})),b.forEach(function(b){var c=a.data[b];delete(A.getFromId(a,c.xaxis)||{}).type,delete(A.getFromId(a,c.yaxis)||{}).type})},A.counterLetter=function(a){var b=a.charAt(0);return"x"===b?"y":"y"===b?"x":void 0},A.minDtick=function(a,b,c,d){["log","category"].indexOf(a.type)===-1&&d?null===a._minDtick?(a._minDtick=b,a._forceTick0=c):a._minDtick&&((a._minDtick/b+1e-6)%1<2e-6&&((c-a._forceTick0)/b%1+1.000001)%1<2e-6?(a._minDtick=b,a._forceTick0=c):((b/a._minDtick+1e-6)%1>2e-6||((c-a._forceTick0)/a._minDtick%1+1.000001)%1>2e-6)&&(a._minDtick=0)):a._minDtick=0},A.getAutoRange=function(a){var b,c=[],d=a._min[0].val,e=a._max[0].val;for(b=1;b<a._min.length&&d===e;b++)d=Math.min(d,a._min[b].val);for(b=1;b<a._max.length&&d===e;b++)e=Math.max(e,a._max[b].val);var f,g,h,i,j,k,l,m=0,n=a.range&&a.range[1]<a.range[0];for("reversed"===a.autorange&&(n=!0,a.autorange=!0),b=0;b<a._min.length;b++)for(g=a._min[b],f=0;f<a._max.length;f++)h=a._max[f],l=h.val-g.val,k=a._length-g.pad-h.pad,l>0&&k>0&&l/k>m&&(i=g,j=h,m=l/k);if(d===e){var o=d-1,p=d+1;c="tozero"===a.rangemode?d<0?[o,0]:[0,p]:"nonnegative"===a.rangemode?[Math.max(0,o),Math.max(0,p)]:[o,p]}else m&&("linear"!==a.type&&"-"!==a.type||("tozero"===a.rangemode?(i.val>=0&&(i={val:0,pad:0}),j.val<=0&&(j={val:0,pad:0})):"nonnegative"===a.rangemode&&(i.val-m*i.pad<0&&(i={val:0,pad:0}),j.val<0&&(j={val:1,pad:0})),m=(j.val-i.val)/(a._length-i.pad-j.pad)),c=[i.val-m*i.pad,j.val+m*j.pad]);return c[0]===c[1]&&("tozero"===a.rangemode?c=c[0]<0?[c[0],0]:c[0]>0?[0,c[0]]:[0,1]:(c=[c[0]-1,c[0]+1],"nonnegative"===a.rangemode&&(c[0]=Math.max(0,c[0])))),n&&c.reverse(),c},A.doAutoRange=function(a){a._length||a.setScale();var b=a._min&&a._max&&a._min.length&&a._max.length;if(a.autorange&&b){a.range=A.getAutoRange(a);var c=a._gd.layout[a._name];c||(a._gd.layout[a._name]=c={}),c!==a&&(c.range=a.range.slice(),c.autorange=a.autorange)}},A.saveRangeInitial=function(a,b){for(var c=A.list(a,"",!0),d=!1,e=0;e<c.length;e++){var f=c[e],g=void 0===f._rangeInitial,h=g||!(f.range[0]===f._rangeInitial[0]&&f.range[1]===f._rangeInitial[1]);(g&&f.autorange===!1||b&&h)&&(f._rangeInitial=f.range.slice(),d=!0)}return d};var C=Number.MAX_VALUE/2;A.expand=function(a,b,c){function d(a){if(Array.isArray(a))return function(b){return Math.max(Number(a[b]||0),0)};var b=Math.max(Number(a||0),0);return function(){return b}}function e(c){function d(a){return t(a)&&Math.abs(a)<C}if(i=b[c],t(i)){if(l=u(c)+r,m=v(c)+r,o=i-x(c),p=i+w(c),"log"===a.type&&o<p/10&&(o=p/10),j=a.c2l(o),k=a.c2l(p),s&&(j=Math.min(0,j),k=Math.max(0,k)),d(j)){for(n=!0,g=0;g<a._min.length&&n;g++)h=a._min[g],h.val<=j&&h.pad>=m?n=!1:h.val>=j&&h.pad<=m&&(a._min.splice(g,1),g--);n&&a._min.push({val:j,pad:s&&0===j?0:m})}if(d(k)){for(n=!0,g=0;g<a._max.length&&n;g++)h=a._max[g],h.val>=k&&h.pad>=l?n=!1:h.val<=k&&h.pad<=l&&(a._max.splice(g,1),g--);n&&a._max.push({val:k,pad:s&&0===k?0:l})}}}if((a.autorange||a._needsExpand)&&b){a._min||(a._min=[]),a._max||(a._max=[]),c||(c={}),a._m||a.setScale();var f,g,h,i,j,k,l,m,n,o,p,q=b.length,r=c.padded?.05*a._length:0,s=c.tozero&&("linear"===a.type||"-"===a.type),u=d((a._m>0?c.ppadplus:c.ppadminus)||c.ppad||0),v=d((a._m>0?c.ppadminus:c.ppadplus)||c.ppad||0),w=d(c.vpadplus||c.vpad),x=d(c.vpadminus||c.vpad);for(f=0;f<6;f++)e(f);for(f=q-1;f>5;f--)e(f)}},A.autoBin=function(a,b,c,d){function e(a){return(1+100*(a-n)/l.dtick)%100<2}var f=v.aggNums(Math.min,null,a),g=v.aggNums(Math.max,null,a);if("category"===b.type)return{start:f-.5,end:g+.5,size:1};var h;if(c)h=(g-f)/c;else{var i=v.distinctVals(a),j=Math.pow(10,Math.floor(Math.log(i.minDiff)/Math.LN10)),k=j*v.roundUp(i.minDiff/j,[.9,1.9,4.9,9.9],!0);h=Math.max(k,2*v.stdev(a)/Math.pow(a.length,d?.25:.4))}var l={type:"log"===b.type?"linear":b.type,range:[f,g]};A.autoTicks(l,h);var m,n=A.tickIncrement(A.tickFirst(l),l.dtick,"reverse");if("number"==typeof l.dtick){for(var o=0,p=0,q=0,r=0,s=0;s<a.length;s++)a[s]%1===0?q++:t(a[s])||r++,e(a[s])&&o++,e(a[s]+l.dtick/2)&&p++;var u=a.length-r;if(q===u&&"date"!==b.type)l.dtick<1?n=f-.5*l.dtick:n-=.5;else if(p<.1*u&&(o>.3*u||e(f)||e(g))){var w=l.dtick/2;n+=n+w<f?w:-w}var x=1+Math.floor((g-n)/l.dtick);m=n+x*l.dtick}else for(m=n;m<=g;)m=A.tickIncrement(m,l.dtick);return{start:n,end:m,size:l.dtick}},A.calcTicks=function(a){if("array"===a.tickmode)return d(a);if("auto"===a.tickmode||!a.dtick){var b,c=a.nticks;c||("category"===a.type?(b=a.tickfont?1.2*(a.tickfont.size||12):15,c=a._length/b):(b="y"===a._id.charAt(0)?40:80,c=v.constrain(a._length/b,4,9)+1)),A.autoTicks(a,Math.abs(a.range[1]-a.range[0])/c),a._minDtick>0&&a.dtick<2*a._minDtick&&(a.dtick=a._minDtick,a.tick0=a._forceTick0)}a.tick0||(a.tick0="date"===a.type?new Date(2e3,0,1).getTime():0),f(a),a._tmin=A.tickFirst(a);var e=a.range[1]<a.range[0],g=[],h=1.0001*a.range[1]-1e-4*a.range[0];"category"===a.type&&(h=e?Math.max(-.5,h):Math.min(a._categories.length-.5,h));for(var i=a._tmin;(e?i>=h:i<=h)&&(g.push(i),!(g.length>1e3));i=A.tickIncrement(i,a.dtick,e));a._tmax=g[g.length-1];for(var j=new Array(g.length),k=0;k<g.length;k++)j[k]=A.tickText(a,g[k]);return j};var D=[2,5,10],E=[1,2,3,6,12],F=[1,2,5,10,15,30],G=[1,2,3,7,14],H=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],I=[-.301,0,.301,.699,1];A.autoTicks=function(a,b){var c;if("date"===a.type)a.tick0=new Date(2e3,0,1).getTime(),b>157788e5?(b/=315576e5,c=Math.pow(10,Math.floor(Math.log(b)/Math.LN10)),a.dtick="M"+12*e(b,c,D)):b>12096e5?(b/=26298e5,a.dtick="M"+e(b,1,E)):b>432e5?(a.dtick=e(b,864e5,G),a.tick0=new Date(2e3,0,2).getTime()):b>18e5?a.dtick=e(b,36e5,E):b>3e4?a.dtick=e(b,6e4,F):b>500?a.dtick=e(b,1e3,F):(c=Math.pow(10,Math.floor(Math.log(b)/Math.LN10)),a.dtick=e(b,c,D));else if("log"===a.type)if(a.tick0=0,b>.7)a.dtick=Math.ceil(b);else if(Math.abs(a.range[1]-a.range[0])<1){var d=1.5*Math.abs((a.range[1]-a.range[0])/b);b=Math.abs(Math.pow(10,a.range[1])-Math.pow(10,a.range[0]))/d,c=Math.pow(10,Math.floor(Math.log(b)/Math.LN10)),a.dtick="L"+e(b,c,D)}else a.dtick=b>.3?"D2":"D1";else"category"===a.type?(a.tick0=0,a.dtick=Math.ceil(Math.max(b,1))):(a.tick0=0,c=Math.pow(10,Math.floor(Math.log(b)/Math.LN10)),a.dtick=e(b,c,D));if(0===a.dtick&&(a.dtick=1),!t(a.dtick)&&"string"!=typeof a.dtick){var f=a.dtick;throw a.dtick=1,"ax.dtick error: "+String(f)}},A.tickIncrement=function(a,b,c){var d=c?-1:1;if(t(b))return a+d*b;var e=b.charAt(0),f=d*Number(b.substr(1));if("M"===e){var g=new Date(a);return g.setMonth(g.getMonth()+f)}if("L"===e)return Math.log(Math.pow(10,a)+f)/Math.LN10;if("D"===e){var h="D2"===b?I:H,i=a+.01*d,j=v.roundUp(r(i,1),h,c);return Math.floor(i)+Math.log(s.round(Math.pow(10,j),1))/Math.LN10}throw"unrecognized dtick "+String(b)},A.tickFirst=function(a){var b=a.range[1]<a.range[0],c=b?Math.floor:Math.ceil,d=1.0001*a.range[0]-1e-4*a.range[1],e=a.dtick,f=a.tick0;if(t(e)){var g=c((d-f)/e)*e+f;return"category"===a.type&&(g=v.constrain(g,0,a._categories.length-1)),g}var h,i,j,k=e.charAt(0),l=Number(e.substr(1));if("M"===k){for(h=new Date(f),d=new Date(d),i=12*(d.getFullYear()-h.getFullYear())+d.getMonth()-h.getMonth(),j=h.setMonth(h.getMonth()+(Math.round(i/l)+(b?1:-1))*l);b?j>d:j<d;)j=A.tickIncrement(j,e,b);return j}if("L"===k)return Math.log(c((Math.pow(10,d)-f)/l)*l+f)/Math.LN10;if("D"===k){var m="D2"===e?I:H,n=v.roundUp(r(d,1),m,b);return Math.floor(d)+Math.log(s.round(Math.pow(10,n),1))/Math.LN10}throw"unrecognized dtick "+String(e)};var J=s.time.format("%Y"),K=s.time.format("%b %Y"),L=s.time.format("%b %-d"),M=s.time.format("%b %-d %Hh"),N=s.time.format("%H:%M"),O=s.time.format(":%S"),P=/%(\d?)f/g;A.tickText=function(a,b,c){function d(d){var e;return void 0===d||(c?"none"===d:(e={first:a._tmin,last:a._tmax}[d],"all"!==d&&b!==e))}var e,f,g=h(a,b),m="array"===a.tickmode,n=c||m;if(m&&Array.isArray(a.ticktext)){var o=Math.abs(a.range[1]-a.range[0])/1e4;for(f=0;f<a.ticktext.length&&!(Math.abs(b-a.d2l(a.tickvals[f]))<o);f++);if(f<a.ticktext.length)return g.text=String(a.ticktext[f]),g}return e="none"!==a.exponentformat&&d(a.showexponent)?"hide":"","date"===a.type?i(a,g,c,n):"log"===a.type?j(a,g,c,n,e):"category"===a.type?k(a,g):l(a,g,c,n,e),a.tickprefix&&!d(a.showtickprefix)&&(g.text=a.tickprefix+g.text),a.ticksuffix&&!d(a.showticksuffix)&&(g.text+=a.ticksuffix),g};var Q=["f","p","n","Î¼","m","","k","M","G","T"];A.subplotMatch=/^x([0-9]*)y([0-9]*)$/,A.getSubplots=function(a,b){function c(a,b){return a.indexOf(b._id)!==-1}var d,e,f,g=[],h=a.data||[];for(d=0;d<h.length;d++){var i=h[d];if(i.visible!==!1&&"legendonly"!==i.visible&&(u.Plots.traceIs(i,"cartesian")||u.Plots.traceIs(i,"gl2d"))){var j=i.xaxis||"x",k=i.yaxis||"y";f=j+k,g.indexOf(f)===-1&&g.push(f)}}var l=A.list(a,"",!0);for(d=0;d<l.length;d++){var m=l[d],n=m._id.charAt(0),o="free"===m.anchor?"x"===n?"y":"x":m.anchor,p=A.getFromId(a,o),q=!1;for(e=0;e<g.length;e++)if(c(g[e],m)){q=!0;break}"free"===m.anchor&&q||p&&(f="x"===n?m._id+p._id:p._id+m._id,g.indexOf(f)===-1&&g.push(f))}var r=A.subplotMatch,s=[];for(d=0;d<g.length;d++)f=g[d],r.test(f)&&s.push(f);return s.sort(function(a,b){var c=a.match(r),d=b.match(r);return c[1]===d[1]?+(c[2]||1)-(d[2]||1):+(c[1]||0)-(d[1]||0)}),b?A.findSubplotsWithAxis(s,b):s},A.findSubplotsWithAxis=function(a,b){for(var c=new RegExp("x"===b._id.charAt(0)?"^"+b._id+"y":b._id+"$"),d=[],e=0;e<a.length;e++){var f=a[e];c.test(f)&&d.push(f)}return d},A.makeClipPaths=function(a){var b,c,d=a._fullLayout,e=d._defs,f={_offset:0,_length:d.width,_id:""},g={_offset:0,_length:d.height,_id:""},h=A.list(a,"x",!0),i=A.list(a,"y",!0),j=[];for(b=0;b<h.length;b++)for(j.push({x:h[b],y:g}),c=0;c<i.length;c++)0===b&&j.push({x:f,y:i[c]}),j.push({x:h[b],y:i[c]});var k=e.selectAll("g.clips").data([0]);k.enter().append("g").classed("clips",!0);var l=k.selectAll(".axesclip").data(j,function(a){return a.x._id+a.y._id});l.enter().append("clipPath").classed("axesclip",!0).attr("id",function(a){return"clip"+d._uid+a.x._id+a.y._id}).append("rect"),l.exit().remove(),l.each(function(a){s.select(this).select("rect").attr({x:a.x._offset||0,y:a.y._offset||0,width:a.x._length||1,height:a.y._length||1})})},A.doTicks=function(a,b,c){function d(a){var b=j.l2p(a.x);return b>1&&b<j._length-1}function e(a,b){var c=a.selectAll("path."+E).data("inside"===j.ticks?Q:C,D);b&&j.ticks?(c.enter().append("path").classed(E,1).classed("ticks",1).classed("crisp",1).call(y.stroke,j.tickcolor).style("stroke-width",M+"px").attr("d",b),c.attr("transform",n),c.exit().remove()):c.remove()}function f(c,d){function e(a,b){a.each(function(a){var c=o(b),d=s.select(this),e=d.select(".text-math-group"),f=n(a)+(t(b)&&0!==+b?" rotate("+b+","+l(a)+","+(m(a)-a.fontSize/2)+")":"");if(e.empty()){var g=d.select("text").attr({transform:f,"text-anchor":c});g.empty()||g.selectAll("tspan.line").attr({x:g.attr("x"),y:g.attr("y")})}else{var h=z.bBox(e.node()).width*{end:-.5,start:.5}[c];e.attr("transform",f+(h?"translate("+h+",0)":""))}})}function f(){return A.length&&Promise.all(A)}function h(){if(e(k,j.tickangle),"x"===q&&!t(j.tickangle)&&("log"!==j.type||"D"!==String(j.dtick).charAt(0))){var a=[];for(k.each(function(b){var c=s.select(this),d=c.select(".text-math-group"),e=j.l2p(b.x);d.empty()&&(d=c.select("text"));var f=z.bBox(d.node());a.push({top:0,bottom:10,height:10,left:e-f.width/2,right:e+f.width/2+2,width:f.width+2})}),p=0;p<a.length-1;p++)if(v.bBoxIntersect(a[p],a[p+1])){y=30;break}if(y){var c=Math.abs((C[C.length-1].x-C[0].x)*j._m)/(C.length-1);c<2.5*x&&(y=90),e(k,y)}j._lastangle=y}return g(b),b+" done"}function i(){j._boundingBox=c.node().getBoundingClientRect()}var k=c.selectAll("g."+E).data(C,D);if(!j.showticklabels||!t(d))return k.remove(),void g(b);var l,m,o,r,u;"x"===q?(u="bottom"===O?1:-1,l=function(a){return a.dx+J*u},r=d+(I+H)*u,m=function(a){return a.dy+r+a.fontSize*("bottom"===O?1:-.5)},o=function(a){return t(a)&&0!==a&&180!==a?a*u<0?"end":"start":"middle"}):(u="right"===O?1:-1,m=function(a){return a.dy+a.fontSize/2-J*u},l=function(a){return a.dx+d+(I+H+(90===Math.abs(j.tickangle)?a.fontSize/2:0))*u},o=function(a){return t(a)&&90===Math.abs(a)?"middle":"right"===O?"start":"end"});var x=0,y=0,A=[];k.enter().append("g").classed(E,1).append("text").attr("text-anchor","middle").each(function(b){var c=s.select(this),d=a._promises.length;c.call(z.setPosition,l(b),m(b)).call(z.font,b.font,b.fontSize,b.fontColor).text(b.text).call(w.convertToTspans),d=a._promises[d],d?A.push(a._promises.pop().then(function(){e(c,j.tickangle)})):e(c,j.tickangle)}),k.exit().remove(),k.each(function(a){x=Math.max(x,a.fontSize)}),e(k,j._lastangle||j.tickangle);var B=v.syncOrAsync([f,h,i]);return B&&B.then&&a._promises.push(B),B}function g(b){if(!c){var d,e,f,g,h=B.getFromId(a,b),i=s.select(a).selectAll("g."+b+"tick"),j={selection:i,side:h.side},l=b.charAt(0),m=a._fullLayout._size,n=1.5,o=h.titlefont.size;if(i.size()){var p=s.select(i.node().parentNode).attr("transform").match(/translate\(([-\.\d]+),([-\.\d]+)\)/);p&&(j.offsetLeft=+p[1],j.offsetTop=+p[2])}"x"===l?(e="free"===h.anchor?{_offset:m.t+(1-(h.position||0))*m.h,_length:0}:B.getFromId(a,h.anchor),f=h._offset+h._length/2,g=e._offset+("top"===h.side?-10-o*(n+(h.showticklabels?1:0)):e._length+10+o*(n+(h.showticklabels?1.5:.5))),h.rangeslider&&h.rangeslider.visible&&h._boundingBox&&(g+=(k.height-k.margin.b-k.margin.t)*h.rangeslider.thickness+h._boundingBox.height),j.side||(j.side="bottom")):(e="free"===h.anchor?{_offset:m.l+(h.position||0)*m.w,_length:0}:B.getFromId(a,h.anchor),g=h._offset+h._length/2,f=e._offset+("right"===h.side?e._length+10+o*(n+(h.showticklabels?1:.5)):-10-o*(n+(h.showticklabels?.5:0))),d={rotate:"-90",offset:0},j.side||(j.side="left")),x.draw(a,b+"title",{propContainer:h,propName:h._name+".title",dfltName:l.toUpperCase()+" axis",avoid:j,transform:d,attributes:{x:f,y:g,"text-anchor":"middle"}})}}function h(a,b){return a.visible===!0&&a.xaxis+a.yaxis===b&&(!(!u.Plots.traceIs(a,"bar")||a.orientation!=={x:"h",y:"v"}[q])||a.fill&&a.fill.charAt(a.fill.length-1)===q)}function i(b,c,e){var f=b.gridlayer,g=b.zerolinelayer,i=b["hidegrid"+q]?[]:Q,k=j._gridpath||"M0,0"+("x"===q?"v":"h")+c._length,l=f.selectAll("path."+F).data(j.showgrid===!1?[]:i,D);if(l.enter().append("path").classed(F,1).classed("crisp",1).attr("d",k).each(function(a){j.zeroline&&("linear"===j.type||"-"===j.type)&&Math.abs(a.x)<j.dtick/100&&s.select(this).remove()}),l.attr("transform",n).call(y.stroke,j.gridcolor||"#ddd").style("stroke-width",K+"px"),l.exit().remove(),g){for(var m=!1,o=0;o<a._fullData.length;o++)if(h(a._fullData[o],e)){m=!0;break}var p=j.range[0]*j.range[1]<=0&&j.zeroline&&("linear"===j.type||"-"===j.type)&&i.length&&(m||d({x:0})||!j.showline),r=g.selectAll("path."+G).data(p?[{x:0}]:[]);r.enter().append("path").classed(G,1).classed("zl",1).classed("crisp",1).attr("d",k),r.attr("transform",n).call(y.stroke,j.zerolinecolor||y.defaultLine).style("stroke-width",L+"px"),r.exit().remove()}}var j,k=a._fullLayout,l=!1;if("object"==typeof b)j=b,b=j._id,l=!0;else if(j=A.getFromId(a,b),"redraw"===b&&k._paper.selectAll("g.subplot").each(function(a){var b=k._plots[a],c=b.x(),d=b.y();b.xaxislayer.selectAll("."+c._id+"tick").remove(),b.yaxislayer.selectAll("."+d._id+"tick").remove(),b.gridlayer.selectAll("path").remove(),b.zerolinelayer.selectAll("path").remove()}),!b||"redraw"===b)return v.syncOrAsync(A.list(a,"",!0).map(function(c){return function(){if(c._id){var d=A.doTicks(a,c._id);return"redraw"===b&&(c._r=c.range.slice()),d}}}));j.tickformat||(["none","e","E","power","SI","B"].indexOf(j.exponentformat)===-1&&(j.exponentformat="e"),["all","first","last","none"].indexOf(j.showexponent)===-1&&(j.showexponent="all")),j.range=[+j.range[0],+j.range[1]],j.setScale();var m,n,o,p,q=b.charAt(0),r=A.counterLetter(b),C=A.calcTicks(j),D=function(a){return a.text+a.x+j.mirror},E=b+"tick",F=b+"grid",G=b+"zl",H=(j.linewidth||1)/2,I=("outside"===j.ticks?j.ticklen:1)+(j.linewidth||0),J=0,K=z.crispRound(a,j.gridwidth,1),L=z.crispRound(a,j.zerolinewidth,K),M=z.crispRound(a,j.tickwidth,1);if(j._counterangle&&"outside"===j.ticks){var N=j._counterangle*Math.PI/180;I=j.ticklen*Math.cos(N)+(j.linewidth||0),J=j.ticklen*Math.sin(N)}if("x"===q)m=["bottom","top"],n=function(a){return"translate("+j.l2p(a.x)+",0)"},o=function(a,b){if(j._counterangle){var c=j._counterangle*Math.PI/180;return"M0,"+a+"l"+Math.sin(c)*b+","+Math.cos(c)*b}return"M0,"+a+"v"+b};else{if("y"!==q)return void v.warn("Unrecognized doTicks axis:",b);m=["left","right"],n=function(a){return"translate(0,"+j.l2p(a.x)+")"},o=function(a,b){if(j._counterangle){var c=j._counterangle*Math.PI/180;return"M"+a+",0l"+Math.cos(c)*b+","+-Math.sin(c)*b}return"M"+a+",0h"+b}}var O=j.side||m[0],P=[-1,1,O===m[1]?1:-1];"inside"!==j.ticks==("x"===q)&&(P=P.map(function(a){return-a}));var Q=C.filter(d);if(l){if(e(j._axislayer,o(j._pos+H*P[2],P[2]*j.ticklen)),j._counteraxis){var R={gridlayer:j._gridlayer,zerolinelayer:j._zerolinelayer};i(R,j._counteraxis)}return f(j._axislayer,j._pos)}var S=A.getSubplots(a,j).map(function(a){var b=k._plots[a];if(k._has("cartesian")){var c=b[q+"axislayer"],d=j._linepositions[a]||[],g=b[r](),h=g._id===j.anchor,l=[!1,!1,!1],n="";if("allticks"===j.mirror?l=[!0,!0,!1]:h&&("ticks"===j.mirror?l=[!0,!0,!1]:l[m.indexOf(O)]=!0),j.mirrors)for(p=0;p<2;p++){var s=j.mirrors[g._id+m[p]];"ticks"!==s&&"labels"!==s||(l[p]=!0)}return void 0!==d[2]&&(l[2]=!0),l.forEach(function(a,b){var c=d[b],e=P[b];a&&t(c)&&(n+=o(c+H*e,e*j.ticklen))}),e(c,n),i(b,g,a),f(c,d[3])}}).filter(function(a){return a&&a.then});return S.length?Promise.all(S):0},A.swap=function(a,b){for(var c=n(a,b),d=0;d<c.length;d++)p(a,c[d].x,c[d].y)}},{"../../components/color":18,"../../components/drawing":41,"../../components/titles":81,"../../lib":95,"../../lib/svg_text_utils":106,"../../plotly":113,"./axis_ids":118,"./layout_attributes":125,"./layout_defaults":126,"./set_convert":130,d3:9,"fast-isnumeric":11}],117:[function(a,b,c){"use strict";function d(a,b){if("-"===a.type){var c=a._id,d=c.charAt(0);c.indexOf("scene")!==-1&&(c=d);var i=h(b,c,d);if(i){if("histogram"===i.type&&d==={v:"y",h:"x"}[i.orientation||"v"])return void(a.type="linear");if(f(i,d)){for(var j,k=e(i),l=[],m=0;m<b.length;m++)j=b[m],o.traceIs(j,"box")&&(j[d+"axis"]||d)===c&&(void 0!==j[k]?l.push(j[k][0]):void 0!==j.name?l.push(j.name):l.push("text"));a.type=g(l)}else a.type=g(i[d]||[i[d+"0"]])}}}function e(a){return{v:"x",h:"y"}[a.orientation||"v"]}function f(a,b){var c=e(a);return o.traceIs(a,"box")&&b===c&&void 0===a[c]&&void 0===a[c+"0"]}function g(a){return j(a)?"date":k(a)?"category":i(a)?"linear":"-"}function h(a,b,c){for(var d=0;d<a.length;d++){var e=a[d];if((e[c+"axis"]||c)===b){if(f(e,c))return e;if((e[c]||[]).length||e[c+"0"])return e}}}function i(a){if(!a)return!1;for(var b=0;b<a.length;b++)if(l(a[b]))return!0;return!1}function j(a){for(var b,c=0,d=0,e=Math.max(1,(a.length-1)/1e3),f=0;f<a.length;f+=e)b=a[Math.round(f)],n.isDateTime(b)&&(c+=1),l(b)&&(d+=1);return c>2*d}function k(a){for(var b,c=Math.max(1,(a.length-1)/1e3),d=0,e=0,f=0;f<a.length;f+=c)b=x(a[Math.round(f)]),l(b)?d++:"string"==typeof b&&""!==b&&"None"!==b&&e++;return e>2*d}var l=a("fast-isnumeric"),m=a("tinycolor2").mix,n=a("../../lib"),o=a("../plots"),p=a("../../components/color/attributes").lightFraction,q=a("./layout_attributes"),r=a("./tick_value_defaults"),s=a("./tick_mark_defaults"),t=a("./tick_label_defaults"),u=a("./category_order_defaults"),v=a("./set_convert"),w=a("./ordered_categories"),x=a("./clean_datum"),y=a("./axis_ids");b.exports=function(a,b,c,e){function f(c,d){return n.coerce2(a,b,q,c,d)}var g=e.letter,h=e.font||{},i="Click to enter "+(e.title||g.toUpperCase()+" axis")+" title";e.name&&(b._name=e.name,b._id=y.name2id(e.name));var j=c("type");"-"===j&&(d(b,e.data),"-"===b.type?b.type="linear":j=a.type=b.type),v(b);var k=c("color"),o=k===a.color?k:h.color;c("title",i),n.coerceFont(c,"titlefont",{family:h.family,size:Math.round(1.2*h.size),color:o});var x=2===(a.range||[]).length&&l(a.range[0])&&l(a.range[1]),z=c("autorange",!x);z&&c("rangemode");var A=c("range",[-1,"x"===g?6:4]);A[0]===A[1]&&(b.range=[A[0]-1,A[0]+1]),n.noneOrAll(a.range,b.range,[0,1]),c("fixedrange"),r(a,b,c,j),t(a,b,c,j,e),s(a,b,c,e),u(a,b,c);var B=f("linecolor",k),C=f("linewidth"),D=c("showline",!!B||!!C);D||(delete b.linecolor,delete b.linewidth),(D||b.ticks)&&c("mirror");var E=f("gridcolor",m(k,e.bgColor,p).toRgbString()),F=f("gridwidth"),G=c("showgrid",e.showGrid||!!E||!!F);G||(delete b.gridcolor,delete b.gridwidth);var H=f("zerolinecolor",k),I=f("zerolinewidth"),J=c("zeroline",e.showGrid||!!H||!!I);return J||(delete b.zerolinecolor,delete b.zerolinewidth),b._initialCategories="category"===j?w(g,b.categoryorder,b.categoryarray,e.data):[],b}},{"../../components/color/attributes":17,"../../lib":95,"../plots":136,"./axis_ids":118,"./category_order_defaults":119,"./clean_datum":120,"./layout_attributes":125,"./ordered_categories":127,"./set_convert":130,"./tick_label_defaults":131,"./tick_mark_defaults":132,"./tick_value_defaults":133,"fast-isnumeric":11,tinycolor2:13}],118:[function(a,b,c){"use strict";function d(a,b,c){function d(a,c){for(var d=Object.keys(a),e=/^[xyz]axis[0-9]*/,f=[],g=0;g<d.length;g++){var h=d[g];b&&h.charAt(0)!==b||e.test(h)&&f.push(c+h)}return f.sort()}var f=a._fullLayout;if(!f)return[];var g=d(f,"");if(c)return g;for(var h=e.getSubplotIds(f,"gl3d")||[],i=0;i<h.length;i++){var j=h[i];g=g.concat(d(f[j],j+"."))}return g}var e=a("../plots"),f=a("../../lib"),g=a("./constants");c.id2name=function(a){if("string"==typeof a&&a.match(g.AX_ID_PATTERN)){var b=a.substr(1);return"1"===b&&(b=""),a.charAt(0)+"axis"+b}},c.name2id=function(a){if(a.match(g.AX_NAME_PATTERN)){var b=a.substr(5);return"1"===b&&(b=""),a.charAt(0)+b}},c.cleanId=function(a,b){if(a.match(g.AX_ID_PATTERN)&&(!b||a.charAt(0)===b)){var c=a.substr(1).replace(/^0+/,"");return"1"===c&&(c=""),a.charAt(0)+c}},c.list=function(a,b,c){return d(a,b,c).map(function(b){return f.nestedProperty(a._fullLayout,b).get()})},c.listIds=function(a,b){return d(a,b,!0).map(c.name2id)},c.getFromId=function(a,b,d){var e=a._fullLayout;return"x"===d?b=b.replace(/y[0-9]*/,""):"y"===d&&(b=b.replace(/x[0-9]*/,"")),e[c.id2name(b)]},c.getFromTrace=function(a,b,d){var f=a._fullLayout,g=null;if(e.traceIs(b,"gl3d")){var h=b.scene;"scene"===h.substr(0,5)&&(g=f[h][d+"axis"])}else g=c.getFromId(a,b[d+"axis"]||d);return g}},{"../../lib":95,"../plots":136,"./constants":121}],119:[function(a,b,c){"use strict";b.exports=function(a,b,c){if("category"===b.type){var d,e=a.categoryarray,f=Array.isArray(e)&&e.length>0;f&&(d="array");var g=c("categoryorder",d);"array"===g&&c("categoryarray"),f||"array"!==g||(b.categoryorder="trace")}}},{}],120:[function(a,b,c){"use strict";var d=a("fast-isnumeric"),e=a("../../lib");b.exports=function(a){try{if("object"==typeof a&&null!==a&&a.getTime)return e.ms2DateTime(a);if("string"!=typeof a&&!d(a))return"";a=a.toString().replace(/['"%,$# ]/g,"")}catch(b){e.error(b,a)}return a}},{"../../lib":95,"fast-isnumeric":11}],121:[function(a,b,c){"use strict";b.exports={idRegex:{x:/^x([2-9]|[1-9][0-9]+)?$/,y:/^y([2-9]|[1-9][0-9]+)?$/},attrRegex:{x:/^xaxis([2-9]|[1-9][0-9]+)?$/,y:/^yaxis([2-9]|[1-9][0-9]+)?$/},BADNUM:void 0,xAxisMatch:/^xaxis[0-9]*$/,yAxisMatch:/^yaxis[0-9]*$/,AX_ID_PATTERN:/^[xyz][0-9]*$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,DBLCLICKDELAY:300,MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,MAXDIST:20,YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,BENDPX:1.5,REDRAWDELAY:50}},{}],122:[function(a,b,c){
"use strict";function d(a,b){var c,d=a.range[b],e=Math.abs(d-a.range[1-b]);return"date"===a.type?k.ms2DateTime(d,e):"log"===a.type?(c=Math.ceil(Math.max(0,-Math.log(e)/Math.LN10))+3,h.format("."+c+"g")(Math.pow(10,d))):(c=Math.floor(Math.log(Math.abs(d))/Math.LN10)-Math.floor(Math.log(e)/Math.LN10)+4,h.format("."+String(c)+"g")(d))}function e(a,b){return a?"nsew"===a?"pan"===b?"move":"crosshair":a.toLowerCase()+"-resize":"pointer"}function f(a){h.select(a).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function g(a){var b=["lasso","select"];return b.indexOf(a)!==-1}var h=a("d3"),i=a("tinycolor2"),j=a("../../plotly"),k=a("../../lib"),l=a("../../lib/svg_text_utils"),m=a("../../components/color"),n=a("../../components/drawing"),o=a("../../lib/setcursor"),p=a("../../components/dragelement"),q=a("./axes"),r=a("./select"),s=a("./constants"),t=!0;b.exports=function(a,b,c,h,u,v,w,x){function y(a,b){for(var c=0;c<a.length;c++)if(!a[c].fixedrange)return b;return""}function z(a){a[0]=Number(a[0]),a[1]=Number(a[1])}function A(b,c,d){var e=ca.getBoundingClientRect();ea=c-e.left,fa=d-e.top,ga={l:ea,r:ea,w:0,t:fa,b:fa,h:0},ha=a._hmpixcount?a._hmlumcount/a._hmpixcount:i(a._fullLayout.plot_bgcolor).getLuminance(),ia="M0,0H"+Q+"V"+R+"H0V0",ja=!1,ka="xy",la=na.append("path").attr("class","zoombox").style({fill:ha>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform","translate("+oa+", "+pa+")").attr("d",ia+"Z"),ma=na.append("path").attr("class","zoombox-corners").style({fill:m.background,stroke:m.defaultLine,"stroke-width":1,opacity:0}).attr("transform","translate("+oa+", "+pa+")").attr("d","M0,0Z"),B();for(var f=0;f<Y.length;f++)z(Y[f].range)}function B(){na.selectAll(".select-outline").remove()}function C(a,b){var c=Math.max(0,Math.min(Q,a+ea)),d=Math.max(0,Math.min(R,b+fa)),e=Math.abs(c-ea),f=Math.abs(d-fa),g=Math.floor(Math.min(f,e,T)/2);ga.l=Math.min(ea,c),ga.r=Math.max(ea,c),ga.t=Math.min(fa,d),ga.b=Math.max(fa,d),!$||f<Math.min(Math.max(.6*e,S),T)?e<S?(ka="",ga.r=ga.l,ga.t=ga.b,ma.attr("d","M0,0Z")):(ga.t=0,ga.b=R,ka="x",ma.attr("d","M"+(ga.l-.5)+","+(fa-T-.5)+"h-3v"+(2*T+1)+"h3ZM"+(ga.r+.5)+","+(fa-T-.5)+"h3v"+(2*T+1)+"h-3Z")):!Z||e<Math.min(.6*f,T)?(ga.l=0,ga.r=Q,ka="y",ma.attr("d","M"+(ea-T-.5)+","+(ga.t-.5)+"v-3h"+(2*T+1)+"v3ZM"+(ea-T-.5)+","+(ga.b+.5)+"v3h"+(2*T+1)+"v-3Z")):(ka="xy",ma.attr("d","M"+(ga.l-3.5)+","+(ga.t-.5+g)+"h3v"+-g+"h"+g+"v-3h-"+(g+3)+"ZM"+(ga.r+3.5)+","+(ga.t-.5+g)+"h-3v"+-g+"h"+-g+"v-3h"+(g+3)+"ZM"+(ga.r+3.5)+","+(ga.b+.5-g)+"h-3v"+g+"h"+-g+"v3h"+(g+3)+"ZM"+(ga.l-3.5)+","+(ga.b+.5-g)+"h3v"+g+"h"+g+"v3h-"+(g+3)+"Z")),ga.w=ga.r-ga.l,ga.h=ga.b-ga.t,la.attr("d",ia+"M"+ga.l+","+ga.t+"v"+ga.h+"h"+ga.w+"v-"+ga.h+"h-"+ga.w+"Z"),ja||(la.transition().style("fill",ha>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ma.transition().style("opacity",1).duration(200),ja=!0)}function D(a,b,c){var d,e,f;for(d=0;d<a.length;d++)e=a[d],e.fixedrange||(f=e.range,e.range=[f[0]+(f[1]-f[0])*b,f[0]+(f[1]-f[0])*c])}function E(b,c){return Math.min(ga.h,ga.w)<2*S?(2===c&&J(),f(a)):("xy"!==ka&&"x"!==ka||D(O,ga.l/Q,ga.r/Q),"xy"!==ka&&"y"!==ka||D(P,(R-ga.b)/R,(R-ga.t)/R),f(a),K(ka),void(t&&a.data&&a._context.showTips&&(k.notifier("Double-click to<br>zoom back out","long"),t=!1)))}function F(b,c){var e=1===(w+x).length;if(b)K();else if(2!==c||e){if(1===c&&e){var f=w?P[0]:O[0],g="s"===w||"w"===x?0:1,h=f._name+".range["+g+"]",i=d(f,g),k="left",m="middle";if(f.fixedrange)return;w?(m="n"===w?"top":"bottom","right"===f.side&&(k="right")):"e"===x&&(k="right"),ba.call(l.makeEditable,null,{immediate:!0,background:M.paper_bgcolor,text:String(i),fill:f.tickfont?f.tickfont.color:"#444",horizontalAlign:k,verticalAlign:m}).on("edit",function(b){var c="category"===f.type?f.c2l(b):f.d2l(b);void 0!==c&&j.relayout(a,h,c)})}}else J()}function G(b){function c(a,b,c){if(!a.fixedrange){z(a.range);var d=a.range,e=d[0]+(d[1]-d[0])*b;a.range=[e+(d[0]-e)*c,e+(d[1]-e)*c]}}if(a._context.scrollZoom||M._enablescrollzoom){var d=a.querySelector(".plotly");if(!(d.scrollHeight-d.clientHeight>10||d.scrollWidth-d.clientWidth>10)){clearTimeout(ra);var e=-b.deltaY;if(isFinite(e)||(e=b.wheelDelta/10),!isFinite(e))return void k.log("Did not find wheel motion attributes: ",b);var f,g=Math.exp(-Math.min(Math.max(e,-20),20)/100),h=ta.draglayer.select(".nsewdrag").node().getBoundingClientRect(),i=(b.clientX-h.left)/h.width,j=qa[0]+qa[2]*i,l=(h.bottom-b.clientY)/h.height,m=qa[1]+qa[3]*(1-l);if(x){for(f=0;f<O.length;f++)c(O[f],i,g);qa[2]*=g,qa[0]=j-qa[2]*i}if(w){for(f=0;f<P.length;f++)c(P[f],l,g);qa[3]*=g,qa[1]=m-qa[3]*(1-l)}return L(qa),I(w,x),ra=setTimeout(function(){qa=[0,0,Q,R],K()},sa),k.pauseEvent(b)}}}function H(a,b){function c(a,b){for(var c=0;c<a.length;c++){var d=a[c];d.fixedrange||(d.range=[d._r[0]-b/d._m,d._r[1]-b/d._m])}}function d(a){return 1-(a>=0?Math.min(a,.9):1/(1/Math.max(a,-.3)+3.222))}function e(a,b,c){for(var e=1-b,f=0,g=0;g<a.length;g++){var h=a[g];h.fixedrange||(f=g,h.range[b]=h._r[e]+(h._r[b]-h._r[e])/d(c/h._length))}return a[f]._length*(a[f]._r[b]-a[f].range[b])/(a[f]._r[b]-a[f]._r[e])}return"ew"===Z||"ns"===$?(Z&&c(O,a),$&&c(P,b),L([Z?-a:0,$?-b:0,Q,R]),void I($,Z)):("w"===Z?a=e(O,0,a):"e"===Z?a=e(O,1,-a):Z||(a=0),"n"===$?b=e(P,1,b):"s"===$?b=e(P,0,-b):$||(b=0),L(["w"===Z?a:0,"n"===$?b:0,Q-a,R-b]),void I($,Z))}function I(b,c){function d(a){for(f=0;f<a.length;f++)a[f].fixedrange||g.push(a[f]._id)}function e(d,e){var h;for(f=0;f<d.length;f++)h=d[f],(c&&g.indexOf(h.xref)!==-1||b&&g.indexOf(h.yref)!==-1)&&e.draw(a,f)}var f,g=[];for(c&&d(O),b&&d(P),f=0;f<g.length;f++)q.doTicks(a,g[f],!0);e(M.annotations||[],j.Annotations),e(M.shapes||[],j.Shapes),e(M.images||[],j.Images)}function J(){var b,c,d,e=a._context.doubleClick,f=(Z?O:[]).concat($?P:[]),g={};if("autosize"===e)for(c=0;c<f.length;c++)b=f[c],b.fixedrange||(g[b._name+".autorange"]=!0);else if("reset"===e)for(c=0;c<f.length;c++)b=f[c],b._rangeInitial?(d=b._rangeInitial.slice(),g[b._name+".range[0]"]=d[0],g[b._name+".range[1]"]=d[1]):g[b._name+".autorange"]=!0;else if("reset+autosize"===e)for(c=0;c<f.length;c++)b=f[c],b.fixedrange||(void 0===b._rangeInitial||b.range[0]===b._rangeInitial[0]&&b.range[1]===b._rangeInitial[1]?g[b._name+".autorange"]=!0:(d=b._rangeInitial.slice(),g[b._name+".range[0]"]=d[0],g[b._name+".range[1]"]=d[1]));a.emit("plotly_doubleclick",null),j.relayout(a,g)}function K(b){for(var c={},d=0;d<Y.length;d++){var e=Y[d];b&&b.indexOf(e._id.charAt(0))===-1||(e._r[0]!==e.range[0]&&(c[e._name+".range[0]"]=e.range[0]),e._r[1]!==e.range[1]&&(c[e._name+".range[1]"]=e.range[1]),e.range=e._r.slice())}L([0,0,Q,R]),j.relayout(a,c)}function L(a){for(var b=M._plots,c=Object.keys(b),d=0;d<c.length;d++){var e=b[c[d]],f=e.x(),g=e.y(),h=x&&O.indexOf(f)!==-1&&!f.fixedrange,i=w&&P.indexOf(g)!==-1&&!g.fixedrange,j=h?f._length/a[2]:1,l=i?g._length/a[3]:1,m=h?a[0]:0,n=i?a[1]:0,o=h?a[0]/a[2]*f._length:0,p=i?a[1]/a[3]*g._length:0,q=f._offset-o,r=g._offset-p;M._defs.selectAll("#"+e.clipId).call(k.setTranslate,m,n).call(k.setScale,1/j,1/l),e.plot.call(k.setTranslate,q,r).call(k.setScale,j,l).selectAll(".points").selectAll(".point").call(k.setPointGroupScale,1/j,1/l)}}for(var M=a._fullLayout,N=[b].concat(w&&x?b.overlays:[]),O=[b.x()],P=[b.y()],Q=O[0]._length,R=P[0]._length,S=s.MINDRAG,T=s.MINZOOM,U=w+x==="nsew",V=1;V<N.length;V++){var W=N[V].x(),X=N[V].y();O.indexOf(W)===-1&&O.push(W),P.indexOf(X)===-1&&P.push(X)}var Y=O.concat(P),Z=y(O,x),$=y(P,w),_=e($+Z,M.dragmode),aa=w+x+"drag",ba=b.draglayer.selectAll("."+aa).data([0]);ba.enter().append("rect").classed("drag",!0).classed(aa,!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",b.id),ba.call(n.setRect,c,h,u,v).call(o,_);var ca=ba.node();if(!$&&!Z&&!g(M.dragmode))return ca.onmousedown=null,ca.style.pointerEvents=U?"all":"none",ca;var da={element:ca,gd:a,plotinfo:b,xaxes:O,yaxes:P,doubleclick:J,prepFn:function(b,c,d){var e=a._fullLayout.dragmode;U?b.shiftKey&&(e="pan"===e?"zoom":"pan"):e="pan","lasso"===e?da.minDrag=1:da.minDrag=void 0,"zoom"===e?(da.moveFn=C,da.doneFn=E,A(b,c,d)):"pan"===e?(da.moveFn=H,da.doneFn=F,B()):g(e)&&r(b,c,d,da,e)}};p.init(da);var ea,fa,ga,ha,ia,ja,ka,la,ma,na=a._fullLayout._zoomlayer,oa=b.x()._offset,pa=b.y()._offset,qa=[0,0,Q,R],ra=null,sa=s.REDRAWDELAY,ta=b.mainplot?M._plots[b.mainplot]:b;return w.length*x.length!==1&&(void 0!==ca.onwheel?ca.onwheel=G:void 0!==ca.onmousewheel&&(ca.onmousewheel=G)),ca}},{"../../components/color":18,"../../components/dragelement":39,"../../components/drawing":41,"../../lib":95,"../../lib/setcursor":104,"../../lib/svg_text_utils":106,"../../plotly":113,"./axes":116,"./constants":121,"./select":129,d3:9,tinycolor2:13}],123:[function(a,b,c){"use strict";function d(a,b){for(var c=[],d=a.length;d>0;d--)c.push(b);return c}function e(a,b){for(var c=[],d=0;d<a.length;d++)c.push(a[d].p2c(b));return c}function f(a,b){return function(c){var d=a(c),e=b(c);return Math.sqrt(d*d+e*e)}}function g(a,b,c){if("pie"===c)return void a.emit("plotly_hover",{points:[b]});c||(c="xy");var f=Array.isArray(c)?c:[c],g=a._fullLayout,n=g._plots||[],o=n[c];if(o){var s=o.overlays.map(function(a){return a.id});f=f.concat(s)}for(var u=f.length,y=new Array(u),z=new Array(u),A=0;A<u;A++){var B=f[A],C=n[B];if(C)y[A]=w.getFromId(a,C.xaxis._id),z[A]=w.getFromId(a,C.yaxis._id);else{var D=g[B]._subplot;y[A]=D.xaxis,z[A]=D.yaxis}}var E=b.hovermode||g.hovermode;if(["x","y","closest"].indexOf(E)===-1||!a.calcdata||a.querySelector(".zoombox")||a._dragging)return v.unhoverRaw(a,b);var F,G,H,I,J,K,L,M,N,O,P,Q,R=[],S=[];if(Array.isArray(b))for(E="array",H=0;H<b.length;H++)J=a.calcdata[b[H].curveNumber||0],S.push(J);else{for(I=0;I<a.calcdata.length;I++)J=a.calcdata[I],K=J[0].trace,f.indexOf(h(K))!==-1&&S.push(J);var T,U;if(b.target&&"clientX"in b&&"clientY"in b){if(r.triggerHandler(a,"plotly_beforehover",b)===!1)return;var V=b.target.getBoundingClientRect();if(T=b.clientX-V.left,U=b.clientY-V.top,T<0||T>V.width||U<0||U>V.height)return v.unhoverRaw(a,b)}else T="xpx"in b?b.xpx:y[0]._length/2,U="ypx"in b?b.ypx:z[0]._length/2;if(F="xval"in b?d(f,b.xval):e(y,T),G="yval"in b?d(f,b.yval):e(z,U),!p(F[0])||!p(G[0]))return q.warn("Plotly.Fx.hover failed",b,a),v.unhoverRaw(a,b)}var W=1/0;for(I=0;I<S.length;I++)if(J=S[I],J&&J[0]&&J[0].trace&&J[0].trace.visible===!0){if(K=J[0].trace,L=f.indexOf(h(K)),M=E,P={cd:J,trace:K,xa:y[L],ya:z[L],name:a.data.length>1||K.hoverinfo.indexOf("name")!==-1?K.name:void 0,index:!1,distance:Math.min(W,x.MAXDIST),color:t.defaultLine,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},Q=R.length,"array"===M){var X=b[I];"pointNumber"in X?(P.index=X.pointNumber,M="closest"):(M="","xval"in X&&(N=X.xval,M="x"),"yval"in X&&(O=X.yval,M=M?"closest":"y"))}else N=F[L],O=G[L];if(K._module&&K._module.hoverPoints){var Y=K._module.hoverPoints(P,N,O,M);if(Y)for(var Z,$=0;$<Y.length;$++)Z=Y[$],p(Z.x0)&&p(Z.y0)&&R.push(i(Z,E))}else q.log("Unrecognized trace type in hover:",K);"closest"===E&&R.length>Q&&(R.splice(0,Q),W=R[0].distance)}if(0===R.length)return v.unhoverRaw(a,b);var _="y"===E&&S.length>1;R.sort(function(a,b){return a.distance-b.distance});var aa=t.combine(g.plot_bgcolor||t.background,g.paper_bgcolor),ba={hovermode:E,rotateLabels:_,bgColor:aa,container:g._hoverlayer,outerContainer:g._paperdiv},ca=j(R,ba);k(R,_?"xa":"ya"),l(ca,_);var da=a._hoverdata,ea=[];for(H=0;H<R.length;H++){var fa=R[H],ga={data:fa.trace._input,fullData:fa.trace,curveNumber:fa.trace.index,pointNumber:fa.index,x:fa.xVal,y:fa.yVal,xaxis:fa.xa,yaxis:fa.ya};void 0!==fa.zLabelVal&&(ga.z=fa.zLabelVal),ea.push(ga)}a._hoverdata=ea,m(a,b,da)&&(da&&a.emit("plotly_unhover",{points:da}),a.emit("plotly_hover",{points:a._hoverdata,xaxes:y,yaxes:z,xvals:F,yvals:G}))}function h(a){return a.subplot||a.xaxis+a.yaxis}function i(a,b){a.posref="y"===b?(a.x0+a.x1)/2:(a.y0+a.y1)/2,a.x0=q.constrain(a.x0,0,a.xa._length),a.x1=q.constrain(a.x1,0,a.xa._length),a.y0=q.constrain(a.y0,0,a.ya._length),a.y1=q.constrain(a.y1,0,a.ya._length);var c;if(void 0!==a.xLabelVal){c="log"===a.xa.type&&a.xLabelVal<=0;var d=w.tickText(a.xa,a.xa.c2l(c?-a.xLabelVal:a.xLabelVal),"hover");c?0===a.xLabelVal?a.xLabel="0":a.xLabel="-"+d.text:a.xLabel=d.text,a.xVal=a.xa.c2d(a.xLabelVal)}if(void 0!==a.yLabelVal){c="log"===a.ya.type&&a.yLabelVal<=0;var e=w.tickText(a.ya,a.ya.c2l(c?-a.yLabelVal:a.yLabelVal),"hover");c?0===a.yLabelVal?a.yLabel="0":a.yLabel="-"+e.text:a.yLabel=e.text,a.yVal=a.ya.c2d(a.yLabelVal)}if(void 0!==a.zLabelVal&&(a.zLabel=String(a.zLabelVal)),!(isNaN(a.xerr)||"log"===a.xa.type&&a.xerr<=0)){var f=w.tickText(a.xa,a.xa.c2l(a.xerr),"hover").text;void 0!==a.xerrneg?a.xLabel+=" +"+f+" / -"+w.tickText(a.xa,a.xa.c2l(a.xerrneg),"hover").text:a.xLabel+=" Â± "+f,"x"===b&&(a.distance+=1)}if(!(isNaN(a.yerr)||"log"===a.ya.type&&a.yerr<=0)){var g=w.tickText(a.ya,a.ya.c2l(a.yerr),"hover").text;void 0!==a.yerrneg?a.yLabel+=" +"+g+" / -"+w.tickText(a.ya,a.ya.c2l(a.yerrneg),"hover").text:a.yLabel+=" Â± "+g,"y"===b&&(a.distance+=1)}var h=a.trace.hoverinfo;return"all"!==h&&(h=h.split("+"),h.indexOf("x")===-1&&(a.xLabel=void 0),h.indexOf("y")===-1&&(a.yLabel=void 0),h.indexOf("z")===-1&&(a.zLabel=void 0),h.indexOf("text")===-1&&(a.text=void 0),h.indexOf("name")===-1&&(a.name=void 0)),a}function j(a,b){var c,d,e=b.hovermode,f=b.rotateLabels,g=b.bgColor,h=b.container,i=b.outerContainer,j=a[0],k=j.xa,l=j.ya,m="y"===e?"yLabel":"xLabel",p=j[m],q=(String(p)||"").split(" ")[0],r=i.node().getBoundingClientRect(),v=r.top,w=r.width,y=r.height,z=j.distance<=x.MAXDIST&&("x"===e||"y"===e);for(c=0;c<a.length;c++){d=a[c].trace.hoverinfo;var B=d.split("+");if(B.indexOf("all")===-1&&B.indexOf(e)===-1){z=!1;break}}var C=h.selectAll("g.axistext").data(z?[0]:[]);C.enter().append("g").classed("axistext",!0),C.exit().remove(),C.each(function(){var b=n.select(this),c=b.selectAll("path").data([0]),d=b.selectAll("text").data([0]);c.enter().append("path").style({fill:t.defaultLine,"stroke-width":"1px",stroke:t.background}),d.enter().append("text").call(u.font,I,H,t.background).attr("data-notex",1),d.text(p).call(s.convertToTspans).call(u.setPosition,0,0).selectAll("tspan.line").call(u.setPosition,0,0),b.attr("transform","");var f=d.node().getBoundingClientRect();if("x"===e){d.attr("text-anchor","middle").call(u.setPosition,0,"top"===k.side?v-f.bottom-F-G:v-f.top+F+G).selectAll("tspan.line").attr({x:d.attr("x"),y:d.attr("y")});var g="top"===k.side?"-":"";c.attr("d","M0,0L"+F+","+g+F+"H"+(G+f.width/2)+"v"+g+(2*G+f.height)+"H-"+(G+f.width/2)+"V"+g+F+"H-"+F+"Z"),b.attr("transform","translate("+(k._offset+(j.x0+j.x1)/2)+","+(l._offset+("top"===k.side?0:l._length))+")")}else{d.attr("text-anchor","right"===l.side?"start":"end").call(u.setPosition,("right"===l.side?1:-1)*(G+F),v-f.top-f.height/2).selectAll("tspan.line").attr({x:d.attr("x"),y:d.attr("y")});var h="right"===l.side?"":"-";c.attr("d","M0,0L"+h+F+","+F+"V"+(G+f.height/2)+"h"+h+(2*G+f.width)+"V-"+(G+f.height/2)+"H"+h+F+"V-"+F+"Z"),b.attr("transform","translate("+(k._offset+("right"===l.side?k._length:0))+","+(l._offset+(j.y0+j.y1)/2)+")")}a=a.filter(function(a){return void 0!==a.zLabelVal||(a[m]||"").split(" ")[0]===q})});var D=h.selectAll("g.hovertext").data(a,function(a){return[a.trace.index,a.index,a.x0,a.y0,a.name,a.attr,a.xa,a.ya||""].join(",")});return D.enter().append("g").classed("hovertext",!0).each(function(){var a=n.select(this);a.append("rect").call(t.fill,t.addOpacity(g,.8)),a.append("text").classed("name",!0).call(u.font,I,H),a.append("path").style("stroke-width","1px"),a.append("text").classed("nums",!0).call(u.font,I,H)}),D.exit().remove(),D.each(function(a){var b=n.select(this).attr("transform",""),c="",d="",h=t.opacity(a.color)?a.color:t.defaultLine,i=t.combine(h,g),j=o(i).getBrightness()>128?"#000":t.background;if(a.name&&void 0===a.zLabelVal){var k=document.createElement("p");k.innerHTML=a.name,c=k.textContent||"",c.length>15&&(c=c.substr(0,12)+"...")}void 0!==a.extraText&&(d+=a.extraText),void 0!==a.zLabel?(void 0!==a.xLabel&&(d+="x: "+a.xLabel+"<br>"),void 0!==a.yLabel&&(d+="y: "+a.yLabel+"<br>"),d+=(d?"z: ":"")+a.zLabel):z&&a[e+"Label"]===p?d=a[("x"===e?"y":"x")+"Label"]||"":void 0===a.xLabel?void 0!==a.yLabel&&(d=a.yLabel):d=void 0===a.yLabel?a.xLabel:"("+a.xLabel+", "+a.yLabel+")",a.text&&!Array.isArray(a.text)&&(d+=(d?"<br>":"")+a.text),""===d&&(""===c&&b.remove(),d=c);var l=b.select("text.nums").style("fill",j).call(u.setPosition,0,0).text(d).attr("data-notex",1).call(s.convertToTspans);l.selectAll("tspan.line").call(u.setPosition,0,0);var m=b.select("text.name"),q=0;c&&c!==d?(m.style("fill",i).text(c).call(u.setPosition,0,0).attr("data-notex",1).call(s.convertToTspans),m.selectAll("tspan.line").call(u.setPosition,0,0),q=m.node().getBoundingClientRect().width+2*G):(m.remove(),b.select("rect").remove()),b.select("path").style({fill:i,stroke:j});var r,x,B=l.node().getBoundingClientRect(),C=a.xa._offset+(a.x0+a.x1)/2,D=a.ya._offset+(a.y0+a.y1)/2,E=Math.abs(a.x1-a.x0),H=Math.abs(a.y1-a.y0),I=B.width+F+G+q;a.ty0=v-B.top,a.bx=B.width+2*G,a.by=B.height+2*G,a.anchor="start",a.txwidth=B.width,a.tx2width=q,a.offset=0,f?(a.pos=C,r=D+H/2+I<=y,x=D-H/2-I>=0,"top"!==a.idealAlign&&r||!x?r?(D+=H/2,a.anchor="start"):a.anchor="middle":(D-=H/2,a.anchor="end")):(a.pos=D,r=C+E/2+I<=w,x=C-E/2-I>=0,"left"!==a.idealAlign&&r||!x?r?(C+=E/2,a.anchor="start"):a.anchor="middle":(C-=E/2,a.anchor="end")),l.attr("text-anchor",a.anchor),q&&m.attr("text-anchor",a.anchor),b.attr("transform","translate("+C+","+D+")"+(f?"rotate("+A+")":""))}),D}function k(a,b){function c(a){var b=a[0],c=a[a.length-1];if(e=b.pmin-b.pos-b.dp+b.size,f=c.pos+c.dp+c.size-b.pmax,e>.01){for(h=a.length-1;h>=0;h--)a[h].dp+=e;d=!1}if(!(f<.01)){if(e<-.01){for(h=a.length-1;h>=0;h--)a[h].dp-=f;d=!1}if(d){var j=0;for(g=0;g<a.length;g++)i=a[g],i.pos+i.dp+i.size>b.pmax&&j++;for(g=a.length-1;g>=0&&!(j<=0);g--)i=a[g],i.pos>b.pmax-1&&(i.del=!0,j--);for(g=0;g<a.length&&!(j<=0);g++)if(i=a[g],i.pos<b.pmin+1)for(i.del=!0,j--,f=2*i.size,h=a.length-1;h>=0;h--)a[h].dp-=f;for(g=a.length-1;g>=0&&!(j<=0);g--)i=a[g],i.pos+i.dp+i.size>b.pmax&&(i.del=!0,j--)}}}for(var d,e,f,g,h,i,j,k=0,l=a.map(function(a,c){var d=a[b];return[{i:c,dp:0,pos:a.pos,posref:a.posref,size:a.by*("x"===d._id.charAt(0)?C:1)/2,pmin:d._offset,pmax:d._offset+d._length}]}).sort(function(a,b){return a[0].posref-b[0].posref});!d&&k<=a.length;){for(k++,d=!0,g=0;g<l.length-1;){var m=l[g],n=l[g+1],o=m[m.length-1],p=n[0];if(e=o.pos+o.dp+o.size-p.pos-p.dp+p.size,e>.01&&o.pmin===p.pmin&&o.pmax===p.pmax){for(h=n.length-1;h>=0;h--)n[h].dp+=e;for(m.push.apply(m,n),l.splice(g+1,1),j=0,h=m.length-1;h>=0;h--)j+=m[h].dp;for(f=j/m.length,h=m.length-1;h>=0;h--)m[h].dp-=f;d=!1}else g++}l.forEach(c)}for(g=l.length-1;g>=0;g--){var q=l[g];for(h=q.length-1;h>=0;h--){var r=q[h],s=a[r.i];s.offset=r.dp,s.del=r.del}}}function l(a,b){a.each(function(a){var c=n.select(this);if(a.del)return void c.remove();var d="end"===a.anchor?-1:1,e=c.select("text.nums"),f={start:1,end:-1,middle:0}[a.anchor],g=f*(F+G),h=g+f*(a.txwidth+G),i=0,j=a.offset;"middle"===a.anchor&&(g-=a.tx2width/2,h-=a.tx2width/2),b&&(j*=-E,i=a.offset*D),c.select("path").attr("d","middle"===a.anchor?"M-"+a.bx/2+",-"+a.by/2+"h"+a.bx+"v"+a.by+"h-"+a.bx+"Z":"M0,0L"+(d*F+i)+","+(F+j)+"v"+(a.by/2-F)+"h"+d*a.bx+"v-"+a.by+"H"+(d*F+i)+"V"+(j-F)+"Z"),e.call(u.setPosition,g+i,j+a.ty0-a.by/2+G).selectAll("tspan.line").attr({x:e.attr("x"),y:e.attr("y")}),a.tx2width&&(c.select("text.name, text.name tspan.line").call(u.setPosition,h+f*G+i,j+a.ty0-a.by/2+G),c.select("rect").call(u.setRect,h+(f-1)*a.tx2width/2+i,j-a.by/2-1,a.tx2width,a.by+2))})}function m(a,b,c){if(!b.target)return!1;if(!c||c.length!==a._hoverdata.length)return!0;for(var d=c.length-1;d>=0;d--){var e=c[d],f=a._hoverdata[d];if(e.curveNumber!==f.curveNumber||String(e.pointNumber)!==String(f.pointNumber))return!0}return!1}var n=a("d3"),o=a("tinycolor2"),p=a("fast-isnumeric"),q=a("../../lib"),r=a("../../lib/events"),s=a("../../lib/svg_text_utils"),t=a("../../components/color"),u=a("../../components/drawing"),v=a("../../components/dragelement"),w=a("./axes"),x=a("./constants"),y=a("./dragbox"),z=b.exports={};z.unhover=v.unhover,z.layoutAttributes={dragmode:{valType:"enumerated",role:"info",values:["zoom","pan","select","lasso","orbit","turntable"],dflt:"zoom",description:["Determines the mode of drag interactions.","*select* and *lasso* apply only to scatter traces with","markers or text. *orbit* and *turntable* apply only to","3D scenes."].join(" ")},hovermode:{valType:"enumerated",role:"info",values:["x","y","closest",!1],description:"Determines the mode of hover interactions."}},z.supplyLayoutDefaults=function(a,b,c){function d(c,d){return q.coerce(a,b,z.layoutAttributes,c,d)}d("dragmode");var e;if(b._has("cartesian")){var f=b._isHoriz=z.isHoriz(c);e=f?"y":"x"}else e="closest";d("hovermode",e)},z.isHoriz=function(a){for(var b=!0,c=0;c<a.length;c++){var d=a[c];if("h"!==d.orientation){b=!1;break}}return b},z.init=function(a){var b=a._fullLayout;if(b._has("cartesian")&&!a._context.staticPlot){var c=Object.keys(b._plots||{}).sort(function(a,c){if((b._plots[a].mainplot&&!0)===(b._plots[c].mainplot&&!0)){var d=a.split("y"),e=c.split("y");return d[0]===e[0]?Number(d[1]||1)-Number(e[1]||1):Number(d[0]||1)-Number(e[0]||1)}return b._plots[a].mainplot?1:-1});c.forEach(function(c){var d=b._plots[c];if(b._has("cartesian")){var e=d.x(),f=d.y(),g=(e._linepositions[c]||[])[3],h=(f._linepositions[c]||[])[3],i=x.DRAGGERSIZE;if(p(g)&&"top"===e.side&&(g-=i),p(h)&&"right"!==f.side&&(h-=i),!d.mainplot){var j=y(a,d,0,0,e._length,f._length,"ns","ew");j.onmousemove=function(d){z.hover(a,d,c),b._lasthover=j,b._hoversubplot=c},j.onmouseout=function(b){a._dragging||v.unhover(a,b)},j.onclick=function(b){z.click(a,b)},y(a,d,-i,-i,i,i,"n","w"),y(a,d,e._length,-i,i,i,"n","e"),y(a,d,-i,f._length,i,i,"s","w"),y(a,d,e._length,f._length,i,i,"s","e")}p(g)&&("free"===e.anchor&&(g-=b._size.h*(1-f.domain[1])),y(a,d,.1*e._length,g,.8*e._length,i,"","ew"),y(a,d,0,g,.1*e._length,i,"","w"),y(a,d,.9*e._length,g,.1*e._length,i,"","e")),p(h)&&("free"===f.anchor&&(h-=b._size.w*e.domain[0]),y(a,d,h,.1*f._length,i,.8*f._length,"ns",""),y(a,d,h,.9*f._length,i,.1*f._length,"s",""),y(a,d,h,0,i,.1*f._length,"n",""))}});var d=b._hoverlayer.node();d.onmousemove=function(c){c.target=b._lasthover,z.hover(a,c,b._hoversubplot)},d.onclick=function(c){c.target=b._lasthover,z.click(a,c)},d.onmousedown=function(a){b._lasthover.onmousedown(a)}}};var A=x.YANGLE,B=Math.PI*A/180,C=1/Math.sin(B),D=Math.cos(B),E=Math.sin(B),F=x.HOVERARROWSIZE,G=x.HOVERTEXTPAD,H=x.HOVERFONTSIZE,I=x.HOVERFONT;z.hover=function(a,b,c){return"string"==typeof a&&(a=document.getElementById(a)),void 0===a._lastHoverTime&&(a._lastHoverTime=0),void 0!==a._hoverTimer&&(clearTimeout(a._hoverTimer),a._hoverTimer=void 0),Date.now()>a._lastHoverTime+x.HOVERMINTIME?(g(a,b,c),void(a._lastHoverTime=Date.now())):void(a._hoverTimer=setTimeout(function(){g(a,b,c),a._lastHoverTime=Date.now(),a._hoverTimer=void 0},x.HOVERMINTIME))},z.getDistanceFunction=function(a,b,c,d){return"closest"===a?d||f(b,c):"x"===a?b:c},z.getClosest=function(a,b,c){if(c.index!==!1)c.index>=0&&c.index<a.length?c.distance=0:c.index=!1;else for(var d=0;d<a.length;d++){var e=b(a[d]);e<=c.distance&&(c.index=d,c.distance=e)}return c},z.loneHover=function(a,b){var c={color:a.color||t.defaultLine,x0:a.x0||a.x||0,x1:a.x1||a.x||0,y0:a.y0||a.y||0,y1:a.y1||a.y||0,xLabel:a.xLabel,yLabel:a.yLabel,zLabel:a.zLabel,text:a.text,name:a.name,idealAlign:a.idealAlign,trace:{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0},d=n.select(b.container),e=b.outerContainer?n.select(b.outerContainer):d,f={hovermode:"closest",rotateLabels:!1,bgColor:b.bgColor||t.background,container:d,outerContainer:e},g=j([c],f);return l(g,f.rotateLabels),g.node()},z.loneUnhover=function(a){var b=a instanceof n.selection?a:n.select(a);b.selectAll("g.hovertext").remove()},z.click=function(a,b){a._hoverdata&&b&&b.target&&(a.emit("plotly_click",{points:a._hoverdata}),b.stopImmediatePropagation&&b.stopImmediatePropagation())},z.inbox=function(a,b){return a*b<0||0===a?x.MAXDIST*(.6-.3/Math.max(3,Math.abs(a-b))):1/0}},{"../../components/color":18,"../../components/dragelement":39,"../../components/drawing":41,"../../lib":95,"../../lib/events":93,"../../lib/svg_text_utils":106,"./axes":116,"./constants":121,"./dragbox":122,d3:9,"fast-isnumeric":11,tinycolor2:13}],124:[function(a,b,c){"use strict";var d=a("../plots"),e=a("./constants");c.name="cartesian",c.attr=["xaxis","yaxis"],c.idRoot=["x","y"],c.idRegex=e.idRegex,c.attrRegex=e.attrRegex,c.attributes=a("./attributes"),c.plot=function(a){function b(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d],f=e[0].trace;f.xaxis+f.yaxis===b&&c.push(e)}return c}function c(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d],f=e[0].trace;f._module===b&&f.visible===!0&&c.push(e)}return c}for(var e=a._fullLayout,f=d.getSubplotIds(e,"cartesian"),g=a.calcdata,h=e._modules,i=0;i<f.length;i++){var j=f[i],k=e._plots[j],l=b(g,j);k.plot&&k.plot.selectAll("g.trace").remove();for(var m=0;m<h.length;m++){var n=h[m];if("cartesian"===n.basePlotModule.name){var o=c(l,n);n.plot(a,k,o)}}}}},{"../plots":136,"./attributes":115,"./constants":121}],125:[function(a,b,c){"use strict";var d=a("../font_attributes"),e=a("../../components/color/attributes"),f=a("../../lib/extend").extendFlat,g=a("../../components/rangeslider/attributes"),h=a("../../components/rangeselector/attributes"),i=a("./constants");b.exports={color:{valType:"color",dflt:e.defaultLine,role:"style",description:["Sets default for all colors associated with this axis","all at once: line, font, tick, and grid colors.","Grid color is lightened by blending this with the plot background","Individual pieces can override this."].join(" ")},title:{valType:"string",role:"info",description:"Sets the title of this axis."},titlefont:f({},d,{description:["Sets this axis' title font."].join(" ")}),type:{valType:"enumerated",values:["-","linear","log","date","category"],dflt:"-",role:"info",description:["Sets the axis type.","By default, plotly attempts to determined the axis type","by looking into the data of the traces that referenced","the axis in question."].join(" ")},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,role:"style",description:["Determines whether or not the range of this axis is","computed in relation to the input data.","See `rangemode` for more info.","If `range` is provided, then `autorange` is set to *false*."].join(" ")},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",role:"style",description:["If *normal*, the range is computed in relation to the extrema","of the input data.","If *tozero*`, the range extends to 0,","regardless of the input data","If *nonnegative*, the range is non-negative,","regardless of the input data."].join(" ")},range:{valType:"info_array",role:"info",items:[{valType:"number"},{valType:"number"}],description:["Sets the range of this axis.","If the axis `type` is *log*, then you must take the log of your desired range","(e.g. to set the range from 1 to 100, set the range from 0 to 2).","If the axis `type` is *date*, then you must convert the date to unix time in milliseconds","(the number of milliseconds since January 1st, 1970). For example, to set the date range from","January 1st 1970 to November 4th, 2013, set the range from 0 to 1380844800000.0"].join(" ")},rangeslider:g,rangeselector:h,fixedrange:{valType:"boolean",dflt:!1,role:"info",description:["Determines whether or not this axis is zoom-able.","If true, then zoom is disabled."].join(" ")},tickmode:{valType:"enumerated",values:["auto","linear","array"],role:"info",description:["Sets the tick mode for this axis.","If *auto*, the number of ticks is set via `nticks`.","If *linear*, the placement of the ticks is determined by","a starting position `tick0` and a tick step `dtick`","(*linear* is the default value if `tick0` and `dtick` are provided).","If *array*, the placement of the ticks is set via `tickvals`","and the tick text is `ticktext`.","(*array* is the default value if `tickvals` is provided)."].join(" ")},nticks:{valType:"integer",min:0,dflt:0,role:"style",description:["Specifies the maximum number of ticks for the particular axis.","The actual number of ticks will be chosen automatically to be","less than or equal to `nticks`.","Has an effect only if `tickmode` is set to *auto*."].join(" ")},tick0:{valType:"number",dflt:0,role:"style",description:["Sets the placement of the first tick on this axis.","Use with `dtick`.","If the axis `type` is *log*, then you must take the log of your starting tick","(e.g. to set the starting tick to 100, set the `tick0` to 2).","If the axis `type` is *date*, then you must convert the date to unix time in milliseconds","(the number of milliseconds since January 1st, 1970).","For example, to set the starting tick to","November 4th, 2013, set the range to 1380844800000.0."].join(" ")},dtick:{valType:"any",dflt:1,role:"style",description:["Sets the step in-between ticks on this axis","Use with `tick0`.","If the axis `type` is *log*, then ticks are set every 10^(n*dtick) where n","is the tick number. For example,","to set a tick mark at 1, 10, 100, 1000, ... set dtick to 1.","To set tick marks at 1, 100, 10000, ... set dtick to 2.","To set tick marks at 1, 5, 25, 125, 625, 3125, ... set dtick to log_10(5), or 0.69897000433.","If the axis `type` is *date*, then you must convert the time to milliseconds.","For example, to set the interval between ticks to one day,","set `dtick` to 86400000.0."].join(" ")},tickvals:{valType:"data_array",description:["Sets the values at which ticks on this axis appear.","Only has an effect if `tickmode` is set to *array*.","Used with `ticktext`."].join(" ")},ticktext:{valType:"data_array",description:["Sets the text displayed at the ticks position via `tickvals`.","Only has an effect if `tickmode` is set to *array*.","Used with `tickvals`."].join(" ")},ticks:{valType:"enumerated",values:["outside","inside",""],role:"style",description:["Determines whether ticks are drawn or not.","If **, this axis' ticks are not drawn.","If *outside* (*inside*), this axis' are drawn outside (inside)","the axis lines."].join(" ")},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,role:"style",description:["Determines if the axis lines or/and ticks are mirrored to","the opposite side of the plotting area.","If *true*, the axis lines are mirrored.","If *ticks*, the axis lines and ticks are mirrored.","If *false*, mirroring is disable.","If *all*, axis lines are mirrored on all shared-axes subplots.","If *allticks*, axis lines and ticks are mirrored","on all shared-axes subplots."].join(" ")},ticklen:{valType:"number",min:0,dflt:5,role:"style",description:"Sets the tick length (in px)."},tickwidth:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the tick width (in px)."},tickcolor:{valType:"color",dflt:e.defaultLine,role:"style",description:"Sets the tick color."},showticklabels:{valType:"boolean",dflt:!0,role:"style",description:"Determines whether or not the tick labels are drawn."},tickfont:f({},d,{description:"Sets the tick font."}),tickangle:{valType:"angle",dflt:"auto",role:"style",description:["Sets the angle of the tick labels with respect to the horizontal.","For example, a `tickangle` of -90 draws the tick labels","vertically."].join(" ")},tickprefix:{valType:"string",dflt:"",role:"style",description:"Sets a tick label prefix."},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",role:"style",description:["If *all*, all tick labels are displayed with a prefix.","If *first*, only the first tick is displayed with a prefix.","If *last*, only the last tick is displayed with a suffix.","If *none*, tick prefixes are hidden."].join(" ")},ticksuffix:{valType:"string",dflt:"",role:"style",description:"Sets a tick label suffix."},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],
dflt:"all",role:"style",description:"Same as `showtickprefix` but for tick suffixes."},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",role:"style",description:["If *all*, all exponents are shown besides their significands.","If *first*, only the exponent of the first tick is shown.","If *last*, only the exponent of the last tick is shown.","If *none*, no exponents appear."].join(" ")},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",role:"style",description:["Determines a formatting rule for the tick exponents.","For example, consider the number 1,000,000,000.","If *none*, it appears as 1,000,000,000.","If *e*, 1e+9.","If *E*, 1E+9.","If *power*, 1x10^9 (with 9 in a super script).","If *SI*, 1G.","If *B*, 1B."].join(" ")},tickformat:{valType:"string",dflt:"",role:"style",description:["Sets the tick label formatting rule using the","python/d3 number formatting language.","See https://github.com/mbostock/d3/wiki/Formatting#numbers","or https://docs.python.org/release/3.1.3/library/string.html#formatspec","for more info."].join(" ")},hoverformat:{valType:"string",dflt:"",role:"style",description:["Sets the hover text formatting rule for data values on this axis,","using the python/d3 number formatting language.","See https://github.com/mbostock/d3/wiki/Formatting#numbers","or https://docs.python.org/release/3.1.3/library/string.html#formatspec","for more info."].join(" ")},showline:{valType:"boolean",dflt:!1,role:"style",description:["Determines whether or not a line bounding this axis is drawn."].join(" ")},linecolor:{valType:"color",dflt:e.defaultLine,role:"style",description:"Sets the axis line color."},linewidth:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the width (in px) of the axis line."},showgrid:{valType:"boolean",role:"style",description:["Determines whether or not grid lines are drawn.","If *true*, the grid lines are drawn at every tick mark."].join(" ")},gridcolor:{valType:"color",dflt:e.lightLine,role:"style",description:"Sets the color of the grid lines."},gridwidth:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the width (in px) of the grid lines."},zeroline:{valType:"boolean",role:"style",description:["Determines whether or not a line is drawn at along the 0 value","of this axis.","If *true*, the zero line is drawn on top of the grid lines."].join(" ")},zerolinecolor:{valType:"color",dflt:e.defaultLine,role:"style",description:"Sets the line color of the zero line."},zerolinewidth:{valType:"number",dflt:1,role:"style",description:"Sets the width (in px) of the zero line."},anchor:{valType:"enumerated",values:["free",i.idRegex.x.toString(),i.idRegex.y.toString()],role:"info",description:["If set to an opposite-letter axis id (e.g. `xaxis2`, `yaxis`), this axis is bound to","the corresponding opposite-letter axis.","If set to *free*, this axis' position is determined by `position`."].join(" ")},side:{valType:"enumerated",values:["top","bottom","left","right"],role:"info",description:["Determines whether a x (y) axis is positioned","at the *bottom* (*left*) or *top* (*right*)","of the plotting area."].join(" ")},overlaying:{valType:"enumerated",values:["free",i.idRegex.x.toString(),i.idRegex.y.toString()],role:"info",description:["If set a same-letter axis id, this axis is overlaid on top of","the corresponding same-letter axis.","If *false*, this axis does not overlay any same-letter axes."].join(" ")},domain:{valType:"info_array",role:"info",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1],description:["Sets the domain of this axis (in plot fraction)."].join(" ")},position:{valType:"number",min:0,max:1,dflt:0,role:"style",description:["Sets the position of this axis in the plotting space","(in normalized coordinates).","Only has an effect if `anchor` is set to *free*."].join(" ")},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",role:"info",description:["Specifies the ordering logic for the case of categorical variables.","By default, plotly uses *trace*, which specifies the order that is present in the data supplied.","Set `categoryorder` to *category ascending* or *category descending* if order should be determined by","the alphanumerical order of the category names.","Set `categoryorder` to *array* to derive the ordering from the attribute `categoryarray`. If a category","is not found in the `categoryarray` array, the sorting behavior for that attribute will be identical to","the *trace* mode. The unspecified categories will follow the categories in `categoryarray`."].join(" ")},categoryarray:{valType:"data_array",role:"info",description:["Sets the order in which categories on this axis appear.","Only has an effect if `categoryorder` is set to *array*.","Used with `categoryorder`."].join(" ")},_deprecated:{autotick:{valType:"boolean",role:"info",description:["Obsolete.","Set `tickmode` to *auto* for old `autotick` *true* behavior.","Set `tickmode` to *linear* for `autotick` *false*."].join(" ")}}}},{"../../components/color/attributes":17,"../../components/rangeselector/attributes":66,"../../components/rangeslider/attributes":73,"../../lib/extend":94,"../font_attributes":134,"./constants":121}],126:[function(a,b,c){"use strict";var d=a("../../lib"),e=a("../plots"),f=a("../../components/color"),g=a("../../components/rangeslider"),h=a("../../components/rangeselector"),i=a("./constants"),j=a("./layout_attributes"),k=a("./axis_defaults"),l=a("./position_defaults"),m=a("./axis_ids");b.exports=function(a,b,c){function n(a,b){var c=Number(a.substr(5)||1),d=Number(b.substr(5)||1);return c-d}var o,p=Object.keys(a),q=[],r=[],s=[],t=[],u={},v={};for(o=0;o<c.length;o++){var w,x,y=c[o];if(e.traceIs(y,"cartesian"))w=q,x=r;else{if(!e.traceIs(y,"gl2d"))continue;w=s,x=t}var z=m.id2name(y.xaxis),A=m.id2name(y.yaxis);if(z&&w.indexOf(z)===-1&&w.push(z),A&&x.indexOf(A)===-1&&x.push(A),e.traceIs(y,"2dMap")&&(u[z]=!0,u[A]=!0),e.traceIs(y,"oriented")){var B="h"===y.orientation?A:z;v[B]=!0}}var C=b._has("gl3d")||b._has("geo");if(!C)for(o=0;o<p.length;o++){var D=p[o];s.indexOf(D)===-1&&q.indexOf(D)===-1&&i.xAxisMatch.test(D)?q.push(D):t.indexOf(D)===-1&&r.indexOf(D)===-1&&i.yAxisMatch.test(D)&&r.push(D)}q.length&&r.length&&d.pushUnique(b._basePlotModules,e.subplotsRegistry.cartesian);var E=q.concat(s).sort(n),F=r.concat(t).sort(n),G=E.concat(F),H=f.background;E.length&&F.length&&(H=d.coerce(a,b,e.layoutAttributes,"plot_bgcolor"));var I=f.combine(H,b.paper_bgcolor);G.forEach(function(e){function f(a,b){return d.coerce(h,i,j,a,b)}var g=e.charAt(0),h=a[e]||{},i={},n={letter:g,font:b.font,outerTicks:u[e],showGrid:!v[e],name:e,data:c,bgColor:I},o={letter:g,counterAxes:{x:F,y:E}[g].map(m.name2id),overlayableAxes:{x:E,y:F}[g].filter(function(b){return b!==e&&!(a[b]||{}).overlaying}).map(m.name2id)};k(h,i,f,n),l(h,i,f,o),b[e]=i,a[e]||"-"===h.type||(a[e]={type:h.type})}),G.forEach(function(c){var d=c.charAt(0),e=a[c],f=b[c],i={x:F,y:E}[d];g.supplyLayoutDefaults(a,b,c,i),"x"===d&&"date"===f.type&&h.supplyLayoutDefaults(e,f,b,i)})}},{"../../components/color":18,"../../components/rangeselector":72,"../../components/rangeslider":77,"../../lib":95,"../plots":136,"./axis_defaults":117,"./axis_ids":118,"./constants":121,"./layout_attributes":125,"./position_defaults":128}],127:[function(a,b,c){"use strict";function d(a,b,c){var d,f,g,h,i,j=[],k=c.map(function(b){return b[a]}),l=e.bisector(b).left;for(d=0;d<k.length;d++)for(g=k[d],f=0;f<g.length;f++)h=g[f],null!==h&&void 0!==h&&(i=l(j,h),i<j.length&&j[i]===h||j.splice(i,0,h));return j}var e=a("d3");b.exports=function(a,b,c,f){switch(b){case"array":return Array.isArray(c)?c.slice():[];case"category ascending":return d(a,e.ascending,f);case"category descending":return d(a,e.descending,f);case"trace":return[];default:return[]}}},{d3:9}],128:[function(a,b,c){"use strict";var d=a("fast-isnumeric"),e=a("../../lib");b.exports=function(a,b,c,f){var g=f.counterAxes||[],h=f.overlayableAxes||[],i=f.letter,j=e.coerce(a,b,{anchor:{valType:"enumerated",values:["free"].concat(g),dflt:d(a.position)?"free":g[0]||"free"}},"anchor");"free"===j&&c("position"),e.coerce(a,b,{side:{valType:"enumerated",values:"x"===i?["bottom","top"]:["left","right"],dflt:"x"===i?"bottom":"left"}},"side");var k=!1;if(h.length&&(k=e.coerce(a,b,{overlaying:{valType:"enumerated",values:[!1].concat(h),dflt:!1}},"overlaying")),!k){var l=c("domain");l[0]>l[1]-.01&&(b.domain=[0,1]),e.noneOrAll(a.domain,b.domain,[0,1])}return b}},{"../../lib":95,"fast-isnumeric":11}],129:[function(a,b,c){"use strict";function d(a){return a._id}var e=a("../../lib/polygon"),f=a("../../components/color"),g=a("./axes"),h=a("./constants"),i=e.filter,j=e.tester,k=h.MINSELECT;b.exports=function(a,b,c,e,l){function m(a){var b="y"===a._id.charAt(0)?1:0;return function(c){return a.p2d(c[b])}}function n(a,b){return a-b}var o,p=e.gd._fullLayout._zoomlayer,q=e.element.getBoundingClientRect(),r=e.plotinfo.x()._offset,s=e.plotinfo.y()._offset,t=b-q.left,u=c-q.top,v=t,w=u,x="M"+t+","+u,y=e.xaxes[0]._length,z=e.yaxes[0]._length,A=e.xaxes.map(d),B=e.yaxes.map(d),C=e.xaxes.concat(e.yaxes);"lasso"===l&&(o=i([[t,u]],h.BENDPX));var D=p.selectAll("path.select-outline").data([1,2]);D.enter().append("path").attr("class",function(a){return"select-outline select-outline-"+a}).attr("transform","translate("+r+", "+s+")").attr("d",x+"Z");var E,F,G,H,I,J=p.append("path").attr("class","zoombox-corners").style({fill:f.background,stroke:f.defaultLine,"stroke-width":1}).attr("transform","translate("+r+", "+s+")").attr("d","M0,0Z"),K=[],L=e.gd,M=[];for(E=0;E<L.calcdata.length;E++)if(F=L.calcdata[E],G=F[0].trace,G._module&&G._module.selectPoints)if(e.subplot){if(G.subplot!==e.subplot)continue;K.push({selectPoints:G._module.selectPoints,cd:F,xaxis:e.xaxes[0],yaxis:e.yaxes[0]})}else{if(A.indexOf(G.xaxis)===-1)continue;if(B.indexOf(G.yaxis)===-1)continue;K.push({selectPoints:G._module.selectPoints,cd:F,xaxis:g.getFromId(L,G.xaxis),yaxis:g.getFromId(L,G.yaxis)})}e.moveFn=function(a,b){var c,d;v=Math.max(0,Math.min(y,a+t)),w=Math.max(0,Math.min(z,b+u));var f=Math.abs(v-t),g=Math.abs(w-u);for("select"===l?(g<Math.min(.6*f,k)?(c=j([[t,0],[t,z],[v,z],[v,0]]),J.attr("d","M"+c.xmin+","+(u-k)+"h-4v"+2*k+"h4ZM"+(c.xmax-1)+","+(u-k)+"h4v"+2*k+"h-4Z")):f<Math.min(.6*g,k)?(c=j([[0,u],[0,w],[y,w],[y,u]]),J.attr("d","M"+(t-k)+","+c.ymin+"v-4h"+2*k+"v4ZM"+(t-k)+","+(c.ymax-1)+"v4h"+2*k+"v-4Z")):(c=j([[t,u],[t,w],[v,w],[v,u]]),J.attr("d","M0,0Z")),D.attr("d","M"+c.xmin+","+c.ymin+"H"+(c.xmax-1)+"V"+(c.ymax-1)+"H"+c.xmin+"Z")):"lasso"===l&&(o.addPt([v,w]),c=j(o.filtered),D.attr("d","M"+o.filtered.join("L")+"Z")),M=[],E=0;E<K.length;E++)H=K[E],[].push.apply(M,H.selectPoints(H,c));if(I={points:M},"select"===l){var h,i=I.range={};for(E=0;E<C.length;E++)d=C[E],h=d._id.charAt(0),i[d._id]=[d.p2d(c[h+"min"]),d.p2d(c[h+"max"])].sort(n)}else{var p=I.lassoPoints={};for(E=0;E<C.length;E++)d=C[E],p[d._id]=o.filtered.map(m(d))}e.gd.emit("plotly_selecting",I)},e.doneFn=function(a,b){if(J.remove(),a||2!==b)e.gd.emit("plotly_selected",I);else{for(D.remove(),E=0;E<K.length;E++)H=K[E],H.selectPoints(H,!1);L.emit("plotly_deselect",null)}}}},{"../../components/color":18,"../../lib/polygon":101,"./axes":116,"./constants":121}],130:[function(a,b,c){"use strict";var d=a("d3"),e=a("fast-isnumeric"),f=a("../../lib"),g=a("./constants"),h=a("./clean_datum"),i=a("./axis_ids");b.exports=function(a){function b(b,c){if(b>0)return Math.log(b)/Math.LN10;if(b<=0&&c&&a.range&&2===a.range.length){var d=a.range[0],e=a.range[1];return.5*(d+e-3*k*Math.abs(d-e))}return g.BADNUM}function c(a){return Math.pow(10,a)}function j(a){return e(a)?Number(a):g.BADNUM}var k=10;if(a.c2l="log"===a.type?b:j,a.l2c="log"===a.type?c:j,a.l2d=function(b){return a.c2d(a.l2c(b))},a.p2d=function(b){return a.l2d(a.p2l(b))},a.setScale=function(){var b,c=a._gd._fullLayout._size;if(a._categories||(a._categories=[]),a.overlaying){var d=i.getFromId(a._gd,a.overlaying);a.domain=d.domain}for(a.range&&2===a.range.length&&a.range[0]!==a.range[1]||(a.range=[-1,1]),b=0;b<2;b++)e(a.range[b])||(a.range[b]=e(a.range[1-b])?a.range[1-b]*(b?10:.1):b?1:-1),a.range[b]<-(Number.MAX_VALUE/2)?a.range[b]=-(Number.MAX_VALUE/2):a.range[b]>Number.MAX_VALUE/2&&(a.range[b]=Number.MAX_VALUE/2);if("y"===a._id.charAt(0)?(a._offset=c.t+(1-a.domain[1])*c.h,a._length=c.h*(a.domain[1]-a.domain[0]),a._m=a._length/(a.range[0]-a.range[1]),a._b=-a._m*a.range[1]):(a._offset=c.l+a.domain[0]*c.w,a._length=c.w*(a.domain[1]-a.domain[0]),a._m=a._length/(a.range[1]-a.range[0]),a._b=-a._m*a.range[0]),!isFinite(a._m)||!isFinite(a._b))throw f.notifier("Something went wrong with axis scaling","long"),a._gd._replotting=!1,new Error("axis scaling")},a.l2p=function(b){return e(b)?d.round(a._b+a._m*b,2):g.BADNUM},a.p2l=function(b){return(b-a._b)/a._m},a.c2p=function(b,c){return a.l2p(a.c2l(b,c))},a.p2c=function(b){return a.l2c(a.p2l(b))},["linear","log","-"].indexOf(a.type)!==-1)a.c2d=j,a.d2c=function(a){return a=h(a),e(a)?Number(a):g.BADNUM},a.d2l=function(b,c){return"log"===a.type?a.c2l(a.d2c(b),c):a.d2c(b)};else if("date"===a.type){if(a.c2d=function(a){return e(a)?f.ms2DateTime(a):g.BADNUM},a.d2c=function(a){return e(a)?Number(a):f.dateTime2ms(a)},a.d2l=a.d2c,a.range&&a.range.length>1)try{var l=a.range.map(f.dateTime2ms);!e(a.range[0])&&e(l[0])&&(a.range[0]=l[0]),!e(a.range[1])&&e(l[1])&&(a.range[1]=l[1])}catch(b){f.error(b,a.range)}}else"category"===a.type&&(a.c2d=function(b){return a._categories[Math.round(b)]},a.d2c=function(b){null!==b&&void 0!==b&&a._categories.indexOf(b)===-1&&a._categories.push(b);var c=a._categories.indexOf(b);return c===-1?g.BADNUM:c},a.d2l=a.d2c);a.makeCalcdata=function(b,c){var d,e,f;if(c in b)for(d=b[c],e=new Array(d.length),f=0;f<d.length;f++)e[f]=a.d2c(d[f]);else{var g=c+"0"in b?a.d2c(b[c+"0"]):0,h=b["d"+c]?Number(b["d"+c]):1;for(d=b[{x:"y",y:"x"}[c]],e=new Array(d.length),f=0;f<d.length;f++)e[f]=g+f*h}return e},a._min=[],a._max=[],a._minDtick=null,a._forceTick0=null}},{"../../lib":95,"./axis_ids":118,"./clean_datum":120,"./constants":121,d3:9,"fast-isnumeric":11}],131:[function(a,b,c){"use strict";function d(a){var b=["showexponent","showtickprefix","showticksuffix"],c=b.filter(function(b){return void 0!==a[b]}),d=function(b){return a[b]===a[c[0]]};if(c.every(d)||1===c.length)return a[c[0]]}var e=a("../../lib");b.exports=function(a,b,c,f,g){var h=d(a),i=c("tickprefix");i&&c("showtickprefix",h);var j=c("ticksuffix");j&&c("showticksuffix",h);var k=c("showticklabels");if(k){var l=g.font||{},m=b.color===a.color?b.color:l.color;if(e.coerceFont(c,"tickfont",{family:l.family,size:l.size,color:m}),c("tickangle"),"category"!==f){var n=c("tickformat");n||"date"===f||(c("showexponent",h),c("exponentformat"))}}"category"===f||g.noHover||c("hoverformat")}},{"../../lib":95}],132:[function(a,b,c){"use strict";var d=a("../../lib"),e=a("./layout_attributes");b.exports=function(a,b,c,f){var g=d.coerce2(a,b,e,"ticklen"),h=d.coerce2(a,b,e,"tickwidth"),i=d.coerce2(a,b,e,"tickcolor",b.color),j=c("ticks",f.outerTicks||g||h||i?"outside":"");j||(delete b.ticklen,delete b.tickwidth,delete b.tickcolor)}},{"../../lib":95,"./layout_attributes":125}],133:[function(a,b,c){"use strict";var d=a("fast-isnumeric");b.exports=function(a,b,c,e){var f="auto";"array"!==a.tickmode||"log"!==e&&"date"!==e||(a.tickmode="auto"),Array.isArray(a.tickvals)?f="array":a.dtick&&d(a.dtick)&&(f="linear");var g=c("tickmode",f);if("auto"===g)c("nticks");else if("linear"===g)c("tick0"),c("dtick");else{var h=c("tickvals");void 0===h?b.tickmode="auto":c("ticktext")}}},{"fast-isnumeric":11}],134:[function(a,b,c){"use strict";b.exports={family:{valType:"string",role:"style",noBlank:!0,strict:!0,description:["HTML font family - the typeface that will be applied by the web browser.","The web browser will only be able to apply a font if it is available on the system","which it operates. Provide multiple font families, separated by commas, to indicate","the preference in which to apply fonts if they aren't available on the system.","The plotly service (at https://plot.ly or on-premise) generates images on a server,","where only a select number of","fonts are installed and supported.","These include *Arial*, *Balto*, *Courier New*, *Droid Sans*,, *Droid Serif*,","*Droid Sans Mono*, *Gravitas One*, *Old Standard TT*, *Open Sans*, *Overpass*,","*PT Sans Narrow*, *Raleway*, *Times New Roman*."].join(" ")},size:{valType:"number",role:"style",min:1},color:{valType:"color",role:"style"}}},{}],135:[function(a,b,c){"use strict";var d=a("../plotly"),e=a("./font_attributes"),f=a("../components/color/attributes"),g=d.Lib.extendFlat;b.exports={font:{family:g({},e.family,{dflt:'"Open Sans", verdana, arial, sans-serif'}),size:g({},e.size,{dflt:12}),color:g({},e.color,{dflt:f.defaultLine}),description:["Sets the global font.","Note that fonts used in traces and other","layout components inherit from the global font."].join(" ")},title:{valType:"string",role:"info",dflt:"Click to enter Plot title",description:["Sets the plot's title."].join(" ")},titlefont:g({},e,{description:"Sets the title font."}),autosize:{valType:"enumerated",role:"info",values:[!0,!1,"initial"],description:["Determines whether or not the dimensions of the figure are","computed as a function of the display size."].join(" ")},width:{valType:"number",role:"info",min:10,dflt:700,description:["Sets the plot's width (in px)."].join(" ")},height:{valType:"number",role:"info",min:10,dflt:450,description:["Sets the plot's height (in px)."].join(" ")},margin:{l:{valType:"number",role:"info",min:0,dflt:80,description:"Sets the left margin (in px)."},r:{valType:"number",role:"info",min:0,dflt:80,description:"Sets the right margin (in px)."},t:{valType:"number",role:"info",min:0,dflt:100,description:"Sets the top margin (in px)."},b:{valType:"number",role:"info",min:0,dflt:80,description:"Sets the bottom margin (in px)."},pad:{valType:"number",role:"info",min:0,dflt:0,description:["Sets the amount of padding (in px)","between the plotting area and the axis lines"].join(" ")},autoexpand:{valType:"boolean",role:"info",dflt:!0}},paper_bgcolor:{valType:"color",role:"style",dflt:f.background,description:"Sets the color of paper where the graph is drawn."},plot_bgcolor:{valType:"color",role:"style",dflt:f.background,description:["Sets the color of plotting area in-between x and y axes."].join(" ")},separators:{valType:"string",role:"style",dflt:".,",description:["Sets the decimal and thousand separators.","For example, *. * puts a '.' before decimals and","a space between thousands."].join(" ")},hidesources:{valType:"boolean",role:"info",dflt:!1,description:["Determines whether or not a text link citing the data source is","placed at the bottom-right cored of the figure.","Has only an effect only on graphs that have been generated via","forked graphs from the plotly service (at https://plot.ly or on-premise)."].join(" ")},smith:{valType:"enumerated",role:"info",values:[!1],dflt:!1},showlegend:{valType:"boolean",role:"info",description:"Determines whether or not a legend is drawn."},_composedModules:{"*":"Fx"},_nestedModules:{xaxis:"Axes",yaxis:"Axes",scene:"gl3d",geo:"geo",legend:"Legend",annotations:"Annotations",shapes:"Shapes",images:"Images",updatemenus:"UpdateMenus",ternary:"ternary",mapbox:"mapbox"}}},{"../components/color/attributes":17,"../plotly":113,"./font_attributes":134}],136:[function(a,b,c){"use strict";function d(a){return"object"==typeof a&&(a=a.type),a}function e(a,b){b.text("");var c=b.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(a._context.linkText+" "+String.fromCharCode(187));if(a._context.sendData)c.on("click",function(){n.sendDataToCloud(a)});else{var d=window.location.pathname.split("/"),e=window.location.search;c.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+d[2].split(".")[0]+"/"+d[1]+e})}}function f(a,b){for(var c=l.isPlainObject,d=Array.isArray,e=Object.keys(b),g=0;g<e.length;g++){var h=e[g],i=b[h],j=a[h];if("_"===h.charAt(0)||"function"==typeof i){if(h in a)continue;a[h]=i}else if(d(i)&&d(j)&&c(i[0]))for(var k=0;k<i.length;k++)c(i[k])&&c(j[k])&&f(j[k],i[k]);else c(i)&&c(j)&&(f(j,i),Object.keys(j).length||delete a[h])}}function g(a,b,c){if(Array.isArray(a.transforms))for(var d=a.transforms,e=b.transforms=[],f=0;f<d.length;f++){var g,h=d[f],i=h.type,j=s[i];j||l.warn("Unrecognized transform type "+i+"."),j&&j.supplyDefaults?(g=j.supplyDefaults(h,b,c),g.type=i):g=l.extendFlat({},h),e.push(g)}}function h(a,b,c){for(var d=a.transforms,e=[a],f=0;f<d.length;f++){var g=d[f],h=g.type,i=s[h];i&&(e=i.transform(e,{transform:g,fullTrace:a,fullData:b,layout:c}))}return e}var i=a("d3"),j=a("fast-isnumeric"),k=a("../plotly"),l=a("../lib"),m=a("../components/color"),n=b.exports={},o=n.modules={},p=n.allTypes=[],q=n.allCategories={},r=n.subplotsRegistry={},s=n.transformsRegistry={};n.attributes=a("./attributes"),n.attributes.type.values=p,n.fontAttrs=a("./font_attributes"),n.layoutAttributes=a("./layout_attributes"),n.fontWeight="normal",n.register=function(a,b,c,d){if(o[b])return void l.log("Type "+b+" already registered");for(var e={},f=0;f<c.length;f++)e[c[f]]=!0,q[c[f]]=!0;o[b]={_module:a,categories:e},d&&Object.keys(d).length&&(o[b].meta=d),p.push(b)},n.getModule=function(a){if(void 0!==a.r)return l.warn("Tried to put a polar trace on an incompatible graph of cartesian data. Ignoring this dataset.",a),!1;var b=o[d(a)];return!!b&&b._module},n.traceIs=function(a,b){if(a=d(a),"various"===a)return!1;var c=o[a];return c||(void 0!==a&&l.log("Unrecognized trace type "+a+"."),c=o[n.attributes.type.dflt]),!!c.categories[b]},n.registerSubplot=function(a){var b=a.name;return r[b]?void l.log("Plot type "+b+" already registered."):void(r[b]=a)},n.findSubplotIds=function(a,b){var c=[];if(void 0===n.subplotsRegistry[b])return c;for(var d=n.subplotsRegistry[b].attr,e=0;e<a.length;e++){var f=a[e];n.traceIs(f,b)&&c.indexOf(f[d])===-1&&c.push(f[d])}return c},n.getSubplotIds=function(a,b){var c=n.subplotsRegistry[b];if(void 0===c)return[];if(!("cartesian"!==b||a._has&&a._has("cartesian")))return[];if(!("gl2d"!==b||a._has&&a._has("gl2d")))return[];if("cartesian"===b||"gl2d"===b)return Object.keys(a._plots||{});for(var d=c.idRegex,e=Object.keys(a),f=[],g=0;g<e.length;g++){var h=e[g];d.test(h)&&f.push(h)}var i=c.idRoot.length;return f.sort(function(a,b){var c=+(a.substr(i)||1),d=+(b.substr(i)||1);return c-d}),f},n.getSubplotData=function(a,b,c){if(void 0===n.subplotsRegistry[b])return[];for(var d,e=n.subplotsRegistry[b].attr,f=[],g=0;g<a.length;g++)if(d=a[g],"gl2d"===b&&n.traceIs(d,"gl2d")){var h=k.Axes.subplotMatch,i="x"+c.match(h)[1],j="y"+c.match(h)[2];d[e[0]]===i&&d[e[1]]===j&&f.push(d)}else d[e]===c&&f.push(d);return f},n.redrawText=function(a){if(!(a.data&&a.data[0]&&a.data[0].r))return new Promise(function(b){setTimeout(function(){k.Annotations.drawAll(a),k.Legend.draw(a),(a.calcdata||[]).forEach(function(a){a[0]&&a[0].t&&a[0].t.cb&&a[0].t.cb()}),b(n.previousPromises(a))},300)})},n.resize=function(a){return new Promise(function(b,c){a&&"none"!==i.select(a).style("display")||c(new Error("Resize must be passed a plot div element.")),a._redrawTimer&&clearTimeout(a._redrawTimer),a._redrawTimer=setTimeout(function(){if((a._fullLayout||{}).autosize){var c=a.changed;a.autoplay=!0,k.relayout(a,{autosize:!0}),a.changed=c,b(a)}},100)})},n.previousPromises=function(a){if((a._promises||[]).length)return Promise.all(a._promises).then(function(){a._promises=[]})},n.addLinks=function(a){var b=a._fullLayout,c=b._paper.selectAll("text.js-plot-link-container").data([0]);c.enter().append("text").classed("js-plot-link-container",!0).style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:m.defaultLine,"pointer-events":"all"}).each(function(){var a=i.select(this);a.append("tspan").classed("js-link-to-tool",!0),a.append("tspan").classed("js-link-spacer",!0),a.append("tspan").classed("js-sourcelinks",!0)});var d=c.node(),f={y:b._paper.attr("height")-9};document.body.contains(d)&&d.getComputedTextLength()>=b.width-20?(f["text-anchor"]="start",f.x=5):(f["text-anchor"]="end",f.x=b._paper.attr("width")-7),c.attr(f);var g=c.select(".js-link-to-tool"),h=c.select(".js-link-spacer"),j=c.select(".js-sourcelinks");a._context.showSources&&a._context.showSources(a),a._context.showLink&&e(a,g),h.text(g.text()&&j.text()?" - ":"")},n.sendDataToCloud=function(a){a.emit("plotly_beforeexport");var b=window.PLOTLYENV&&window.PLOTLYENV.BASE_URL||"https://plot.ly",c=i.select(a).append("div").attr("id","hiddenform").style("display","none"),d=c.append("form").attr({action:b+"/external",method:"post",target:"_blank"}),e=d.append("input").attr({type:"text",name:"data"});return e.node().value=n.graphJson(a,!1,"keepdata"),d.node().submit(),c.remove(),a.emit("plotly_afterexport"),!1},n.supplyDefaults=function(a){var b,c=a._fullLayout||{},d=a._fullLayout={},e=a.layout||{},g=a._fullData||[],h=a._fullData=[],i=a.data||[];n.supplyLayoutGlobalDefaults(e,d),d._dataLength=i.length,n.supplyDataDefaults(i,h,d),d._has=n._hasPlotType.bind(d);var j=d._modules;for(b=0;b<j.length;b++){var l=j[b];l.cleanData&&l.cleanData(h)}if(g.length===i.length)for(b=0;b<h.length;b++)f(h[b],g[b]);n.supplyLayoutModuleDefaults(e,d,h),d._hasCartesian=d._has("cartesian"),d._hasGeo=d._has("geo"),d._hasGL3D=d._has("gl3d"),d._hasGL2D=d._has("gl2d"),d._hasTernary=d._has("ternary"),d._hasPie=d._has("pie"),n.cleanPlot(h,d,g,c),f(d,c),n.doAutoMargin(a);var m=k.Axes.list(a);for(b=0;b<m.length;b++){var o=m[b];o._gd=a,o.setScale()}if((a.calcdata||[]).length===h.length)for(b=0;b<h.length;b++){var p=h[b];(a.calcdata[b][0]||{}).trace=p}},n._hasPlotType=function(a){for(var b=this._basePlotModules||[],c=0;c<b.length;c++){var d=b[c];if(d.name===a)return!0}return!1},n.cleanPlot=function(a,b,c,d){var e,f,g=d._basePlotModules||[];for(e=0;e<g.length;e++){var h=g[e];h.clean&&h.clean(a,b,c,d)}var i=!!d._paper,j=!!d._infolayer;a:for(e=0;e<c.length;e++){var k=c[e],l=k.uid;for(f=0;f<a.length;f++){var m=a[f];if(l===m.uid)continue a}i&&d._paper.selectAll(".hm"+l+",.contour"+l+",#clip"+l).remove(),j&&d._infolayer.selectAll(".cb"+l).remove()}},n.supplyDataDefaults=function(a,b,c){function d(a){b.push(a);var c=a._module;c&&(l.pushUnique(e,c),l.pushUnique(f,a._module.basePlotModule),g++)}for(var e=c._modules=[],f=c._basePlotModules=[],g=0,i=0;i<a.length;i++){var j=a[i],k=n.supplyTraceDefaults(j,g,c);if(k.transforms&&k.transforms.length)for(var m=h(k,b,c),o=0;o<m.length;o++){var p=m[o],q=n.supplyTraceDefaults(p,g,c);p.uid=q.uid=k.uid+o,q.index=i,q._input=j,q._fullInput=k,q._expandedIndex=g,q._expandedInput=p,d(q)}else k.index=i,k._input=j,k._expandedIndex=g,d(k)}},n.supplyTraceDefaults=function(a,b,c){function d(b,c){return l.coerce(a,f,n.attributes,b,c)}function e(b,c){if(n.traceIs(f,b))return l.coerce(a,f,n.subplotsRegistry[b].attributes,c)}var f={},h=m.defaults[b%m.defaults.length],i=d("visible");d("type"),d("uid");for(var j=Object.keys(r),k=0;k<j.length;k++){var o=j[k];if(["cartesian","gl2d"].indexOf(o)===-1){var p=r[o].attr;p&&e(o,p)}}if(i){var q=n.getModule(f);f._module=q,d("hoverinfo",1===c._dataLength?"x+y+z+text":void 0),q&&q.supplyDefaults(a,f,h,c),d("name","trace "+b),n.traceIs(f,"noOpacity")||d("opacity"),e("cartesian","xaxis"),e("cartesian","yaxis"),e("gl2d","xaxis"),e("gl2d","yaxis"),n.traceIs(f,"showLegend")&&(d("showlegend"),d("legendgroup")),g(a,f,c)}return f},n.supplyLayoutGlobalDefaults=function(a,b){function c(c,d){return l.coerce(a,b,n.layoutAttributes,c,d)}var d=l.coerceFont(c,"font");c("title"),l.coerceFont(c,"titlefont",{family:d.family,size:Math.round(1.4*d.size),color:d.color});var e=c("autosize",(!a.width||!a.height)&&"initial");c("width"),c("height"),c("margin.l"),c("margin.r"),c("margin.t"),c("margin.b"),c("margin.pad"),c("margin.autoexpand"),"initial"!==e&&n.sanitizeMargins(b),c("paper_bgcolor"),c("separators"),c("hidesources"),c("smith")},n.supplyLayoutModuleDefaults=function(a,b,c){var d,e;k.Axes.supplyLayoutDefaults(a,b,c);var f=b._basePlotModules;for(d=0;d<f.length;d++)e=f[d],"cartesian"!==e.name&&e.supplyLayoutDefaults&&e.supplyLayoutDefaults(a,b,c);var g=b._modules;for(d=0;d<g.length;d++)e=g[d],e.supplyLayoutDefaults&&e.supplyLayoutDefaults(a,b,c);var h=["Fx","Annotations","Shapes","Legend","Images","UpdateMenus"];for(d=0;d<h.length;d++)e=h[d],k[e]&&k[e].supplyLayoutDefaults(a,b,c)},n.purge=function(a){var b=a._fullLayout||{};void 0!==b._glcontainer&&b._glcontainer.remove(),void 0!==b._geocontainer&&b._geocontainer.remove(),b._modeBar&&b._modeBar.destroy(),delete a.data,delete a.layout,delete a._fullData,delete a._fullLayout,delete a.calcdata,delete a.framework,delete a.empty,delete a.fid,delete a.undoqueue,delete a.undonum,delete a.autoplay,delete a.changed,delete a._tester,delete a._testref,delete a._promises,delete a._redrawTimer,delete a._replotting,delete a.firstscatter,delete a.hmlumcount,delete a.hmpixcount,delete a.numboxes,delete a._hoverTimer,delete a._lastHoverTime,a.removeAllListeners&&a.removeAllListeners()},n.style=function(a){for(var b=a._fullLayout._modules,c=0;c<b.length;c++){var d=b[c];d.style&&d.style(a)}},n.sanitizeMargins=function(a){if(a&&a.margin){var b,c=a.width,d=a.height,e=a.margin,f=c-(e.l+e.r),g=d-(e.t+e.b);f<0&&(b=(c-1)/(e.l+e.r),e.l=Math.floor(b*e.l),e.r=Math.floor(b*e.r)),g<0&&(b=(d-1)/(e.t+e.b),e.t=Math.floor(b*e.t),e.b=Math.floor(b*e.b))}},n.autoMargin=function(a,b,c){var d=a._fullLayout;if(d._pushmargin||(d._pushmargin={}),d.margin.autoexpand!==!1){if(c){var e=void 0===c.pad?12:c.pad;c.l+c.r>.5*d.width&&(c.l=c.r=0),c.b+c.t>.5*d.height&&(c.b=c.t=0),d._pushmargin[b]={l:{val:c.x,size:c.l+e},r:{val:c.x,size:c.r+e},b:{val:c.y,size:c.b+e},t:{val:c.y,size:c.t+e}}}else delete d._pushmargin[b];a._replotting||n.doAutoMargin(a)}},n.doAutoMargin=function(a){var b=a._fullLayout;b._size||(b._size={}),b._pushmargin||(b._pushmargin={});var c=b._size,d=JSON.stringify(c),e=Math.max(b.margin.l||0,0),f=Math.max(b.margin.r||0,0),g=Math.max(b.margin.t||0,0),h=Math.max(b.margin.b||0,0),i=b._pushmargin;if(b.margin.autoexpand!==!1&&(i.base={l:{val:0,size:e},r:{val:1,size:f},t:{val:1,size:g},b:{val:0,size:h}},Object.keys(i).forEach(function(a){var c=i[a].l||{},d=i[a].b||{},k=c.val,l=c.size,m=d.val,n=d.size;Object.keys(i).forEach(function(a){if(j(l)&&i[a].r){var c=i[a].r.val,d=i[a].r.size;if(c>k){var o=(l*c+(d-b.width)*k)/(c-k),p=(d*(1-k)+(l-b.width)*(1-c))/(c-k);o>=0&&p>=0&&o+p>e+f&&(e=o,f=p)}}if(j(n)&&i[a].t){var q=i[a].t.val,r=i[a].t.size;if(q>m){var s=(n*q+(r-b.height)*m)/(q-m),t=(r*(1-m)+(n-b.height)*(1-q))/(q-m);s>=0&&t>=0&&s+t>h+g&&(h=s,g=t)}}})})),c.l=Math.round(e),c.r=Math.round(f),c.t=Math.round(g),c.b=Math.round(h),c.p=Math.round(b.margin.pad),c.w=Math.round(b.width)-c.l-c.r,c.h=Math.round(b.height)-c.t-c.b,!a._replotting&&"{}"!==d&&d!==JSON.stringify(b._size))return k.plot(a)},n.graphJson=function(a,b,c,d,e){function f(a){if("function"==typeof a)return null;if(l.isPlainObject(a)){var b,d,e={};for(b in a)if("function"!=typeof a[b]&&["_","["].indexOf(b.charAt(0))===-1){if("keepdata"===c){if("src"===b.substr(b.length-3))continue}else if("keepstream"===c){if(d=a[b+"src"],"string"==typeof d&&d.indexOf(":")>0&&!l.isPlainObject(a.stream))continue}else if("keepall"!==c&&(d=a[b+"src"],"string"==typeof d&&d.indexOf(":")>0))continue;e[b]=f(a[b])}return e}return Array.isArray(a)?a.map(f):a&&a.getTime?l.ms2DateTime(a):a}(e&&b&&!a._fullData||e&&!b&&!a._fullLayout)&&n.supplyDefaults(a);var g=e?a._fullData:a.data,h=e?a._fullLayout:a.layout,i={data:(g||[]).map(function(a){var c=f(a);return b&&delete c.fit,c})};return b||(i.layout=f(h)),a.framework&&a.framework.isPolar&&(i=a.framework.getConfig()),"object"===d?i:JSON.stringify(i)}},{"../components/color":18,"../lib":95,"../plotly":113,"./attributes":114,"./font_attributes":134,"./layout_attributes":135,d3:9,"fast-isnumeric":11}],137:[function(a,b,c){"use strict";var d=a("../../traces/scatter/attributes"),e=d.marker;b.exports={
r:d.r,t:d.t,marker:{color:e.color,size:e.size,symbol:e.symbol,opacity:e.opacity}}},{"../../traces/scatter/attributes":163}],138:[function(a,b,c){"use strict";function d(a,b){var c={showline:{valType:"boolean",role:"style",description:["Determines whether or not the line bounding this",a,"axis","will be shown on the figure."].join(" ")},showticklabels:{valType:"boolean",role:"style",description:["Determines whether or not the",a,"axis ticks","will feature tick labels."].join(" ")},tickorientation:{valType:"enumerated",values:["horizontal","vertical"],role:"style",description:["Sets the orientation (from the paper perspective)","of the",a,"axis tick labels."].join(" ")},ticklen:{valType:"number",min:0,role:"style",description:["Sets the length of the tick lines on this",a,"axis."].join(" ")},tickcolor:{valType:"color",role:"style",description:["Sets the color of the tick lines on this",a,"axis."].join(" ")},ticksuffix:{valType:"string",role:"style",description:["Sets the length of the tick lines on this",a,"axis."].join(" ")},endpadding:{valType:"number",role:"style"},visible:{valType:"boolean",role:"info",description:["Determines whether or not this axis will be visible."].join(" ")}};return f({},b,c)}var e=a("../cartesian/layout_attributes"),f=a("../../lib/extend").extendFlat,g=f({},e.domain,{description:["Polar chart subplots are not supported yet.","This key has currently no effect."].join(" ")});b.exports={radialaxis:d("radial",{range:{valType:"info_array",role:"info",items:[{valType:"number"},{valType:"number"}],description:["Defines the start and end point of this radial axis."].join(" ")},domain:g,orientation:{valType:"number",role:"style",description:["Sets the orientation (an angle with respect to the origin)","of the radial axis."].join(" ")}}),angularaxis:d("angular",{range:{valType:"info_array",role:"info",items:[{valType:"number",dflt:0},{valType:"number",dflt:360}],description:["Defines the start and end point of this angular axis."].join(" ")},domain:g}),layout:{direction:{valType:"enumerated",values:["clockwise","counterclockwise"],role:"info",description:["For polar plots only.","Sets the direction corresponding to positive angles."].join(" ")},orientation:{valType:"angle",role:"info",description:["For polar plots only.","Rotates the entire polar by the given angle."].join(" ")}}}},{"../../lib/extend":94,"../cartesian/layout_attributes":125}],139:[function(a,b,c){var d=a("../../plotly"),e=a("d3"),f=b.exports={version:"0.2.2",manager:a("./micropolar_manager")},g=d.Lib.extendDeepAll;f.Axis=function(){function a(a){c=a||c;var j=i.data,l=i.layout;return("string"==typeof c||c.nodeName)&&(c=e.select(c)),c.datum(j).each(function(a,c){function i(a,b){return h(a)%360+l.orientation}var j=a.slice();k={data:f.util.cloneJson(j),layout:f.util.cloneJson(l)};var m=0;j.forEach(function(a,b){a.color||(a.color=l.defaultColorRange[m],m=(m+1)%l.defaultColorRange.length),a.strokeColor||(a.strokeColor="LinePlot"===a.geometry?a.color:e.rgb(a.color).darker().toString()),k.data[b].color=a.color,k.data[b].strokeColor=a.strokeColor,k.data[b].strokeDash=a.strokeDash,k.data[b].strokeSize=a.strokeSize});var n=j.filter(function(a,b){var c=a.visible;return"undefined"==typeof c||c===!0}),o=!1,p=n.map(function(a,b){return o=o||"undefined"!=typeof a.groupId,a});if(o){var q=e.nest().key(function(a,b){return"undefined"!=typeof a.groupId?a.groupId:"unstacked"}).entries(p),r=[],s=q.map(function(a,b){if("unstacked"===a.key)return a.values;var c=a.values[0].r.map(function(a,b){return 0});return a.values.forEach(function(a,b,d){a.yStack=[c],r.push(c),c=f.util.sumArrays(a.r,c)}),a.values});n=e.merge(s)}n.forEach(function(a,b){a.t=Array.isArray(a.t[0])?a.t:[a.t],a.r=Array.isArray(a.r[0])?a.r:[a.r]});var t=Math.min(l.width-l.margin.left-l.margin.right,l.height-l.margin.top-l.margin.bottom)/2;t=Math.max(10,t);var u,v=[l.margin.left+t,l.margin.top+t];if(o){var w=e.max(f.util.sumArrays(f.util.arrayLast(n).r[0],f.util.arrayLast(r)));u=[0,w]}else u=e.extent(f.util.flattenArray(n.map(function(a,b){return a.r})));l.radialAxis.domain!=f.DATAEXTENT&&(u[0]=0),d=e.scale.linear().domain(l.radialAxis.domain!=f.DATAEXTENT&&l.radialAxis.domain?l.radialAxis.domain:u).range([0,t]),k.layout.radialAxis.domain=d.domain();var x,y=f.util.flattenArray(n.map(function(a,b){return a.t})),z="string"==typeof y[0];z&&(y=f.util.deduplicate(y),x=y.slice(),y=e.range(y.length),n=n.map(function(a,b){var c=a;return a.t=[y],o&&(c.yStack=a.yStack),c}));var A=n.filter(function(a,b){return"LinePlot"===a.geometry||"DotPlot"===a.geometry}).length===n.length,B=null===l.needsEndSpacing?z||!A:l.needsEndSpacing,C=l.angularAxis.domain&&l.angularAxis.domain!=f.DATAEXTENT&&!z&&l.angularAxis.domain[0]>=0,D=C?l.angularAxis.domain:e.extent(y),E=Math.abs(y[1]-y[0]);A&&!z&&(E=0);var F=D.slice();B&&z&&(F[1]+=E);var G=l.angularAxis.ticksCount||4;G>8&&(G=G/(G/8)+G%8),l.angularAxis.ticksStep&&(G=(F[1]-F[0])/G);var H=l.angularAxis.ticksStep||(F[1]-F[0])/(G*(l.minorTicks+1));x&&(H=Math.max(Math.round(H),1)),F[2]||(F[2]=H);var I=e.range.apply(this,F);if(I=I.map(function(a,b){return parseFloat(a.toPrecision(12))}),h=e.scale.linear().domain(F.slice(0,2)).range("clockwise"===l.direction?[0,360]:[360,0]),k.layout.angularAxis.domain=h.domain(),k.layout.angularAxis.endPadding=B?E:0,b=e.select(this).select("svg.chart-root"),"undefined"==typeof b||b.empty()){var J="<svg xmlns='http://www.w3.org/2000/svg' class='chart-root'>' + '<g class='outer-group'>' + '<g class='chart-group'>' + '<circle class='background-circle'></circle>' + '<g class='geometry-group'></g>' + '<g class='radial axis-group'>' + '<circle class='outside-circle'></circle>' + '</g>' + '<g class='angular axis-group'></g>' + '<g class='guides-group'><line></line><circle r='0'></circle></g>' + '</g>' + '<g class='legend-group'></g>' + '<g class='tooltips-group'></g>' + '<g class='title-group'><text></text></g>' + '</g>' + '</svg>",K=(new DOMParser).parseFromString(J,"application/xml"),L=this.appendChild(this.ownerDocument.importNode(K.documentElement,!0));b=e.select(L)}b.select(".guides-group").style({"pointer-events":"none"}),b.select(".angular.axis-group").style({"pointer-events":"none"}),b.select(".radial.axis-group").style({"pointer-events":"none"});var M,N=b.select(".chart-group"),O={fill:"none",stroke:l.tickColor},P={"font-size":l.font.size,"font-family":l.font.family,fill:l.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map(function(a,b){return" "+a+" 0 "+l.font.outlineColor}).join(",")};if(l.showLegend){M=b.select(".legend-group").attr({transform:"translate("+[t,l.margin.top]+")"}).style({display:"block"});var Q=n.map(function(a,b){var c=f.util.cloneJson(a);return c.symbol="DotPlot"===a.geometry?a.dotType||"circle":"LinePlot"!=a.geometry?"square":"line",c.visibleInLegend="undefined"==typeof a.visibleInLegend||a.visibleInLegend,c.color="LinePlot"===a.geometry?a.strokeColor:a.color,c});f.Legend().config({data:n.map(function(a,b){return a.name||"Element"+b}),legendConfig:g({},f.Legend.defaultConfig().legendConfig,{container:M,elements:Q,reverseOrder:l.legend.reverseOrder})})();var R=M.node().getBBox();t=Math.min(l.width-R.width-l.margin.left-l.margin.right,l.height-l.margin.top-l.margin.bottom)/2,t=Math.max(10,t),v=[l.margin.left+t,l.margin.top+t],d.range([0,t]),k.layout.radialAxis.domain=d.domain(),M.attr("transform","translate("+[v[0]+t,v[1]-t]+")")}else M=b.select(".legend-group").style({display:"none"});b.attr({width:l.width,height:l.height}).style({opacity:l.opacity}),N.attr("transform","translate("+v+")").style({cursor:"crosshair"});var S=[(l.width-(l.margin.left+l.margin.right+2*t+(R?R.width:0)))/2,(l.height-(l.margin.top+l.margin.bottom+2*t))/2];if(S[0]=Math.max(0,S[0]),S[1]=Math.max(0,S[1]),b.select(".outer-group").attr("transform","translate("+S+")"),l.title){var T=b.select("g.title-group text").style(P).text(l.title),U=T.node().getBBox();T.attr({x:v[0]-U.width/2,y:v[1]-t-20})}var V=b.select(".radial.axis-group");if(l.radialAxis.gridLinesVisible){var W=V.selectAll("circle.grid-circle").data(d.ticks(5));W.enter().append("circle").attr({class:"grid-circle"}).style(O),W.attr("r",d),W.exit().remove()}V.select("circle.outside-circle").attr({r:t}).style(O);var X=b.select("circle.background-circle").attr({r:t}).style({fill:l.backgroundColor,stroke:l.stroke});if(l.radialAxis.visible){var Y=e.svg.axis().scale(d).ticks(5).tickSize(5);V.call(Y).attr({transform:"rotate("+l.radialAxis.orientation+")"}),V.selectAll(".domain").style(O),V.selectAll("g>text").text(function(a,b){return this.textContent+l.radialAxis.ticksSuffix}).style(P).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(a,b){return"horizontal"===l.radialAxis.tickOrientation?"rotate("+-l.radialAxis.orientation+") translate("+[0,P["font-size"]]+")":"translate("+[0,P["font-size"]]+")"}}),V.selectAll("g>line").style({stroke:"black"})}var Z=b.select(".angular.axis-group").selectAll("g.angular-tick").data(I),$=Z.enter().append("g").classed("angular-tick",!0);Z.attr({transform:function(a,b){return"rotate("+i(a,b)+")"}}).style({display:l.angularAxis.visible?"block":"none"}),Z.exit().remove(),$.append("line").classed("grid-line",!0).classed("major",function(a,b){return b%(l.minorTicks+1)==0}).classed("minor",function(a,b){return!(b%(l.minorTicks+1)==0)}).style(O),$.selectAll(".minor").style({stroke:l.minorTickColor}),Z.select("line.grid-line").attr({x1:l.tickLength?t-l.tickLength:0,x2:t}).style({display:l.angularAxis.gridLinesVisible?"block":"none"}),$.append("text").classed("axis-text",!0).style(P);var _=Z.select("text.axis-text").attr({x:t+l.labelOffset,dy:".35em",transform:function(a,b){var c=i(a,b),d=t+l.labelOffset,e=l.angularAxis.tickOrientation;return"horizontal"==e?"rotate("+-c+" "+d+" 0)":"radial"==e?c<270&&c>90?"rotate(180 "+d+" 0)":null:"rotate("+(c<=180&&c>0?-90:90)+" "+d+" 0)"}}).style({"text-anchor":"middle",display:l.angularAxis.labelsVisible?"block":"none"}).text(function(a,b){return b%(l.minorTicks+1)!=0?"":x?x[a]+l.angularAxis.ticksSuffix:a+l.angularAxis.ticksSuffix}).style(P);l.angularAxis.rewriteTicks&&_.text(function(a,b){return b%(l.minorTicks+1)!=0?"":l.angularAxis.rewriteTicks(this.textContent,b)});var aa=e.max(N.selectAll(".angular-tick text")[0].map(function(a,b){return a.getCTM().e+a.getBBox().width}));M.attr({transform:"translate("+[t+aa,l.margin.top]+")"});var ba=b.select("g.geometry-group").selectAll("g").size()>0,ca=b.select("g.geometry-group").selectAll("g.geometry").data(n);if(ca.enter().append("g").attr({class:function(a,b){return"geometry geometry"+b}}),ca.exit().remove(),n[0]||ba){var da=[];n.forEach(function(a,b){var c={};c.radialScale=d,c.angularScale=h,c.container=ca.filter(function(a,c){return c==b}),c.geometry=a.geometry,c.orientation=l.orientation,c.direction=l.direction,c.index=b,da.push({data:a,geometryConfig:c})});var ea=e.nest().key(function(a,b){return"undefined"!=typeof a.data.groupId||"unstacked"}).entries(da),fa=[];ea.forEach(function(a,b){"unstacked"===a.key?fa=fa.concat(a.values.map(function(a,b){return[a]})):fa.push(a.values)}),fa.forEach(function(a,b){var c;c=Array.isArray(a)?a[0].geometryConfig.geometry:a.geometryConfig.geometry;var d=a.map(function(a,b){return g(f[c].defaultConfig(),a)});f[c]().config(d)()})}var ga,ha,ia=b.select(".guides-group"),ja=b.select(".tooltips-group"),ka=f.tooltipPanel().config({container:ja,fontSize:8})(),la=f.tooltipPanel().config({container:ja,fontSize:8})(),ma=f.tooltipPanel().config({container:ja,hasTick:!0})();if(!z){var na=ia.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"});N.on("mousemove.angular-guide",function(a,b){var c=f.util.getMousePos(X).angle;na.attr({x2:-t,transform:"rotate("+c+")"}).style({opacity:.5});var d=(c+180+360-l.orientation)%360;ga=h.invert(d);var e=f.util.convertToCartesian(t+12,c+180);ka.text(f.util.round(ga)).move([e[0]+v[0],e[1]+v[1]])}).on("mouseout.angular-guide",function(a,b){ia.select("line").style({opacity:0})})}var oa=ia.select("circle").style({stroke:"grey",fill:"none"});N.on("mousemove.radial-guide",function(a,b){var c=f.util.getMousePos(X).radius;oa.attr({r:c}).style({opacity:.5}),ha=d.invert(f.util.getMousePos(X).radius);var e=f.util.convertToCartesian(c,l.radialAxis.orientation);la.text(f.util.round(ha)).move([e[0]+v[0],e[1]+v[1]])}).on("mouseout.radial-guide",function(a,b){oa.style({opacity:0}),ma.hide(),ka.hide(),la.hide()}),b.selectAll(".geometry-group .mark").on("mouseover.tooltip",function(a,c){var d=e.select(this),g=d.style("fill"),h="black",i=d.style("opacity")||1;if(d.attr({"data-opacity":i}),"none"!=g){d.attr({"data-fill":g}),h=e.hsl(g).darker().toString(),d.style({fill:h,opacity:1});var j={t:f.util.round(a[0]),r:f.util.round(a[1])};z&&(j.t=x[a[0]]);var k="t: "+j.t+", r: "+j.r,l=this.getBoundingClientRect(),m=b.node().getBoundingClientRect(),n=[l.left+l.width/2-S[0]-m.left,l.top+l.height/2-S[1]-m.top];ma.config({color:h}).text(k),ma.move(n)}else g=d.style("stroke"),d.attr({"data-stroke":g}),h=e.hsl(g).darker().toString(),d.style({stroke:h,opacity:1})}).on("mousemove.tooltip",function(a,b){return 0==e.event.which&&void(e.select(this).attr("data-fill")&&ma.show())}).on("mouseout.tooltip",function(a,b){ma.hide();var c=e.select(this),d=c.attr("data-fill");d?c.style({fill:d,opacity:c.attr("data-opacity")}):c.style({stroke:c.attr("data-stroke"),opacity:c.attr("data-opacity")})})}),m}var b,c,d,h,i={data:[],layout:{}},j={},k={},l=e.dispatch("hover"),m={};return m.render=function(b){return a(b),this},m.config=function(a){if(!arguments.length)return i;var b=f.util.cloneJson(a);return b.data.forEach(function(a,b){i.data[b]||(i.data[b]={}),g(i.data[b],f.Axis.defaultConfig().data[0]),g(i.data[b],a)}),g(i.layout,f.Axis.defaultConfig().layout),g(i.layout,b.layout),this},m.getLiveConfig=function(){return k},m.getinputConfig=function(){return j},m.radialScale=function(a){return d},m.angularScale=function(a){return h},m.svg=function(){return b},e.rebind(m,l,"on"),m},f.Axis.defaultConfig=function(a,b){var c={data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:e.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}};return c},f.util={},f.DATAEXTENT="dataExtent",f.AREA="AreaChart",f.LINE="LinePlot",f.DOT="DotPlot",f.BAR="BarChart",f.util._override=function(a,b){for(var c in a)c in b&&(b[c]=a[c])},f.util._extend=function(a,b){for(var c in a)b[c]=a[c]},f.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},f.util.dataFromEquation2=function(a,b){var c=b||6,d=e.range(0,360+c,c).map(function(b,c){var d=b*Math.PI/180,e=a(d);return[b,e]});return d},f.util.dataFromEquation=function(a,b,c){var d=b||6,f=[],g=[];e.range(0,360+d,d).forEach(function(b,c){var d=b*Math.PI/180,e=a(d);f.push(b),g.push(e)});var h={t:f,r:g};return c&&(h.name=c),h},f.util.ensureArray=function(a,b){if("undefined"==typeof a)return null;var c=[].concat(a);return e.range(b).map(function(a,b){return c[b]||c[0]})},f.util.fillArrays=function(a,b,c){return b.forEach(function(b,d){a[b]=f.util.ensureArray(a[b],c)}),a},f.util.cloneJson=function(a){return JSON.parse(JSON.stringify(a))},f.util.validateKeys=function(a,b){"string"==typeof b&&(b=b.split("."));var c=b.shift();return a[c]&&(!b.length||objHasKeys(a[c],b))},f.util.sumArrays=function(a,b){return e.zip(a,b).map(function(a,b){return e.sum(a)})},f.util.arrayLast=function(a){return a[a.length-1]},f.util.arrayEqual=function(a,b){for(var c=Math.max(a.length,b.length,1);c-- >=0&&a[c]===b[c];);return c===-2},f.util.flattenArray=function(a){for(var b=[];!f.util.arrayEqual(b,a);)b=a,a=[].concat.apply([],a);return a},f.util.deduplicate=function(a){return a.filter(function(a,b,c){return c.indexOf(a)==b})},f.util.convertToCartesian=function(a,b){var c=b*Math.PI/180,d=a*Math.cos(c),e=a*Math.sin(c);return[d,e]},f.util.round=function(a,b){var c=b||2,d=Math.pow(10,c);return Math.round(a*d)/d},f.util.getMousePos=function(a){var b=e.mouse(a.node()),c=b[0],d=b[1],f={};return f.x=c,f.y=d,f.pos=b,f.angle=180*(Math.atan2(d,c)+Math.PI)/Math.PI,f.radius=Math.sqrt(c*c+d*d),f},f.util.duplicatesCount=function(a){for(var b,c={},d={},e=0,f=a.length;e<f;e++)b=a[e],b in c?(c[b]++,d[b]=c[b]):c[b]=1;return d},f.util.duplicates=function(a){return Object.keys(f.util.duplicatesCount(a))},f.util.translator=function(a,b,c,d){if(d){var e=c.slice();c=b,b=e}var f=b.reduce(function(a,b){if("undefined"!=typeof a)return a[b]},a);"undefined"!=typeof f&&(b.reduce(function(a,c,d){if("undefined"!=typeof a)return d===b.length-1&&delete a[c],a[c]},a),c.reduce(function(a,b,d){return"undefined"==typeof a[b]&&(a[b]={}),d===c.length-1&&(a[b]=f),a[b]},a))},f.PolyChart=function(){function a(){var a=c[0].geometryConfig,b=a.container;"string"==typeof b&&(b=e.select(b)),b.datum(c).each(function(b,c){function d(b,c){var d=a.radialScale(b[1]),e=(a.angularScale(b[0])+a.orientation)*Math.PI/180;return{r:d,t:e}}function f(a){var b=a.r*Math.cos(a.t),c=a.r*Math.sin(a.t);return{x:b,y:c}}var g=!!b[0].data.yStack,i=b.map(function(a,b){return g?e.zip(a.data.t[0],a.data.r[0],a.data.yStack[0]):e.zip(a.data.t[0],a.data.r[0])}),j=a.angularScale,k=a.radialScale.domain()[0],l={};l.bar=function(c,d,f){var g=b[f].data,h=a.radialScale(c[1])-a.radialScale(0),i=a.radialScale(c[2]||0),k=g.barWidth;e.select(this).attr({class:"mark bar",d:"M"+[[h+i,-k/2],[h+i,k/2],[i,k/2],[i,-k/2]].join("L")+"Z",transform:function(b,c){return"rotate("+(a.orientation+j(b[0]))+")"}})},l.dot=function(a,c,g){var h=a[2]?[a[0],a[1]+a[2]]:a,i=e.svg.symbol().size(b[g].data.dotSize).type(b[g].data.dotType)(a,c);e.select(this).attr({class:"mark dot",d:i,transform:function(a,b){var c=f(d(h));return"translate("+[c.x,c.y]+")"}})};var m=e.svg.line.radial().interpolate(b[0].data.lineInterpolation).radius(function(b){return a.radialScale(b[1])}).angle(function(b){return a.angularScale(b[0])*Math.PI/180});l.line=function(c,d,f){var g=c[2]?i[f].map(function(a,b){return[a[0],a[1]+a[2]]}):i[f];if(e.select(this).each(l.dot).style({opacity:function(a,c){return+b[f].data.dotVisible},fill:q.stroke(c,d,f)}).attr({class:"mark dot"}),!(d>0)){var h=e.select(this.parentNode).selectAll("path.line").data([0]);h.enter().insert("path"),h.attr({class:"line",d:m(g),transform:function(b,c){return"rotate("+(a.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(a,b){return q.fill(c,d,f)},"fill-opacity":0,stroke:function(a,b){return q.stroke(c,d,f)},"stroke-width":function(a,b){return q["stroke-width"](c,d,f)},"stroke-dasharray":function(a,b){return q["stroke-dasharray"](c,d,f)},opacity:function(a,b){return q.opacity(c,d,f)},display:function(a,b){return q.display(c,d,f)}})}};var n=a.angularScale.range(),o=Math.abs(n[1]-n[0])/i[0].length*Math.PI/180,p=e.svg.arc().startAngle(function(a){return-o/2}).endAngle(function(a){return o/2}).innerRadius(function(b){return a.radialScale(k+(b[2]||0))}).outerRadius(function(b){return a.radialScale(k+(b[2]||0))+a.radialScale(b[1])});l.arc=function(b,c,d){e.select(this).attr({class:"mark arc",d:p,transform:function(b,c){return"rotate("+(a.orientation+j(b[0])+90)+")"}})};var q={fill:function(a,c,d){return b[d].data.color},stroke:function(a,c,d){return b[d].data.strokeColor},"stroke-width":function(a,c,d){return b[d].data.strokeSize+"px"},"stroke-dasharray":function(a,c,d){return h[b[d].data.strokeDash]},opacity:function(a,c,d){return b[d].data.opacity},display:function(a,c,d){return"undefined"==typeof b[d].data.visible||b[d].data.visible?"block":"none"}},r=e.select(this).selectAll("g.layer").data(i);r.enter().append("g").attr({class:"layer"});var s=r.selectAll("path.mark").data(function(a,b){return a});s.enter().append("path").attr({class:"mark"}),s.style(q).each(l[a.geometryType]),s.exit().remove(),r.exit().remove()})}var b,c=[f.PolyChart.defaultConfig()],d=e.dispatch("hover"),h={solid:"none",dash:[5,2],dot:[2,5]};return a.config=function(a){return arguments.length?(a.forEach(function(a,b){c[b]||(c[b]={}),g(c[b],f.PolyChart.defaultConfig()),g(c[b],a)}),this):c},a.getColorScale=function(){return b},e.rebind(a,d,"on"),a},f.PolyChart.defaultConfig=function(){var a={data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,container:"body",radialScale:null,angularScale:null,colorScale:e.scale.category20()}};return a},f.BarChart=function(){return f.PolyChart()},f.BarChart.defaultConfig=function(){var a={geometryConfig:{geometryType:"bar"}};return a},f.AreaChart=function(){return f.PolyChart()},f.AreaChart.defaultConfig=function(){var a={geometryConfig:{geometryType:"arc"}};return a},f.DotPlot=function(){return f.PolyChart()},f.DotPlot.defaultConfig=function(){var a={geometryConfig:{geometryType:"dot",dotType:"circle"}};return a},f.LinePlot=function(){return f.PolyChart()},f.LinePlot.defaultConfig=function(){var a={geometryConfig:{geometryType:"line"}};return a},f.Legend=function(){function a(){var c=b.legendConfig,d=b.data.map(function(a,b){return[].concat(a).map(function(a,d){var e=g({},c.elements[b]);return e.name=a,e.color=[].concat(c.elements[b].color)[d],e})}),f=e.merge(d);f=f.filter(function(a,b){return c.elements[b]&&(c.elements[b].visibleInLegend||"undefined"==typeof c.elements[b].visibleInLegend)}),c.reverseOrder&&(f=f.reverse());var h=c.container;("string"==typeof h||h.nodeName)&&(h=e.select(h));var i=f.map(function(a,b){return a.color}),j=c.fontSize,k=null==c.isContinuous?"number"==typeof f[0]:c.isContinuous,l=k?c.height:j*f.length,m=h.classed("legend-group",!0),n=m.selectAll("svg").data([0]),o=n.enter().append("svg").attr({width:300,height:l+j,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});o.append("g").classed("legend-axis",!0),o.append("g").classed("legend-marks",!0);var p=e.range(f.length),q=e.scale[k?"linear":"ordinal"]().domain(p).range(i),r=e.scale[k?"linear":"ordinal"]().domain(p)[k?"range":"rangePoints"]([0,l]),s=function(a,b){var c=3*b;return"line"===a?"M"+[[-b/2,-b/12],[b/2,-b/12],[b/2,b/12],[-b/2,b/12]]+"Z":e.svg.symbolTypes.indexOf(a)!=-1?e.svg.symbol().type(a).size(c)():e.svg.symbol().type("square").size(c)()};if(k){var t=n.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(i);t.enter().append("stop"),t.attr({offset:function(a,b){return b/(i.length-1)*100+"%"}}).style({"stop-color":function(a,b){return a}}),n.append("rect").classed("legend-mark",!0).attr({height:c.height,width:c.colorBandWidth,fill:"url(#grad1)"})}else{var u=n.select(".legend-marks").selectAll("path.legend-mark").data(f);u.enter().append("path").classed("legend-mark",!0),u.attr({transform:function(a,b){return"translate("+[j/2,r(b)+j/2]+")"},d:function(a,b){var c=a.symbol;return s(c,j)},fill:function(a,b){return q(b)}}),u.exit().remove()}var v=e.svg.axis().scale(r).orient("right"),w=n.select("g.legend-axis").attr({transform:"translate("+[k?c.colorBandWidth:j,j/2]+")"}).call(v);return w.selectAll(".domain").style({fill:"none",stroke:"none"}),w.selectAll("line").style({fill:"none",stroke:k?c.textColor:"none"}),w.selectAll("text").style({fill:c.textColor,"font-size":c.fontSize}).text(function(a,b){return f[b].name}),a}var b=f.Legend.defaultConfig(),c=e.dispatch("hover");return a.config=function(a){return arguments.length?(g(b,a),this):b},e.rebind(a,c,"on"),a},f.Legend.defaultConfig=function(a,b){var c={data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}};return c},f.tooltipPanel=function(){var a,b,c,d={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},h="tooltip-"+f.tooltipPanel.uid++,i=10,j=function(){a=d.container.selectAll("g."+h).data([0]);var e=a.enter().append("g").classed(h,!0).style({"pointer-events":"none",display:"none"});return c=e.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"}),b=e.append("text").attr({dx:d.padding+i,dy:.3*+d.fontSize}),j};return j.text=function(f){var g=e.hsl(d.color).l,h=g>=.5?"#aaa":"white",k=g>=.5?"black":"white",l=f||"";b.style({fill:k,"font-size":d.fontSize+"px"}).text(l);var m=d.padding,n=b.node().getBBox(),o={fill:d.color,stroke:h,"stroke-width":"2px"},p=n.width+2*m+i,q=n.height+2*m;return c.attr({d:"M"+[[i,-q/2],[i,-q/4],[d.hasTick?0:i,0],[i,q/4],[i,q/2],[p,q/2],[p,-q/2]].join("L")+"Z"}).style(o),a.attr({transform:"translate("+[i,-q/2+2*m]+")"}),a.style({display:"block"}),j},j.move=function(b){if(a)return a.attr({transform:"translate("+[b[0],b[1]]+")"}).style({display:"block"}),j},j.hide=function(){if(a)return a.style({display:"none"}),j},j.show=function(){if(a)return a.style({display:"block"}),j},j.config=function(a){return g(d,a),j},j},f.tooltipPanel.uid=1,f.adapter={},f.adapter.plotly=function(){var a={};return a.convert=function(a,b){var c={};if(a.data&&(c.data=a.data.map(function(a,c){var d=g({},a),e=[[d,["marker","color"],["color"]],[d,["marker","opacity"],["opacity"]],[d,["marker","line","color"],["strokeColor"]],[d,["marker","line","dash"],["strokeDash"]],[d,["marker","line","width"],["strokeSize"]],[d,["marker","symbol"],["dotType"]],[d,["marker","size"],["dotSize"]],[d,["marker","barWidth"],["barWidth"]],[d,["line","interpolation"],["lineInterpolation"]],[d,["showlegend"],["visibleInLegend"]]];return e.forEach(function(a,c){f.util.translator.apply(null,a.concat(b))}),b||delete d.marker,b&&delete d.groupId,b?("LinePlot"===d.geometry?(d.type="scatter",d.dotVisible===!0?(delete d.dotVisible,d.mode="lines+markers"):d.mode="lines"):"DotPlot"===d.geometry?(d.type="scatter",d.mode="markers"):"AreaChart"===d.geometry?d.type="area":"BarChart"===d.geometry&&(d.type="bar"),delete d.geometry):("scatter"===d.type?"lines"===d.mode?d.geometry="LinePlot":"markers"===d.mode?d.geometry="DotPlot":"lines+markers"===d.mode&&(d.geometry="LinePlot",d.dotVisible=!0):"area"===d.type?d.geometry="AreaChart":"bar"===d.type&&(d.geometry="BarChart"),delete d.mode,delete d.type),d}),!b&&a.layout&&"stack"===a.layout.barmode)){var d=f.util.duplicates(c.data.map(function(a,b){return a.geometry}));c.data.forEach(function(a,b){var e=d.indexOf(a.geometry);e!=-1&&(c.data[b].groupId=e)})}if(a.layout){var h=g({},a.layout),i=[[h,["plot_bgcolor"],["backgroundColor"]],[h,["showlegend"],["showLegend"]],[h,["radialaxis"],["radialAxis"]],[h,["angularaxis"],["angularAxis"]],[h.angularaxis,["showline"],["gridLinesVisible"]],[h.angularaxis,["showticklabels"],["labelsVisible"]],[h.angularaxis,["nticks"],["ticksCount"]],[h.angularaxis,["tickorientation"],["tickOrientation"]],[h.angularaxis,["ticksuffix"],["ticksSuffix"]],[h.angularaxis,["range"],["domain"]],[h.angularaxis,["endpadding"],["endPadding"]],[h.radialaxis,["showline"],["gridLinesVisible"]],[h.radialaxis,["tickorientation"],["tickOrientation"]],[h.radialaxis,["ticksuffix"],["ticksSuffix"]],[h.radialaxis,["range"],["domain"]],[h.angularAxis,["showline"],["gridLinesVisible"]],[h.angularAxis,["showticklabels"],["labelsVisible"]],[h.angularAxis,["nticks"],["ticksCount"]],[h.angularAxis,["tickorientation"],["tickOrientation"]],[h.angularAxis,["ticksuffix"],["ticksSuffix"]],[h.angularAxis,["range"],["domain"]],[h.angularAxis,["endpadding"],["endPadding"]],[h.radialAxis,["showline"],["gridLinesVisible"]],[h.radialAxis,["tickorientation"],["tickOrientation"]],[h.radialAxis,["ticksuffix"],["ticksSuffix"]],[h.radialAxis,["range"],["domain"]],[h.font,["outlinecolor"],["outlineColor"]],[h.legend,["traceorder"],["reverseOrder"]],[h,["labeloffset"],["labelOffset"]],[h,["defaultcolorrange"],["defaultColorRange"]]];if(i.forEach(function(a,c){f.util.translator.apply(null,a.concat(b))}),b?("undefined"!=typeof h.tickLength&&(h.angularaxis.ticklen=h.tickLength,delete h.tickLength),h.tickColor&&(h.angularaxis.tickcolor=h.tickColor,delete h.tickColor)):(h.angularAxis&&"undefined"!=typeof h.angularAxis.ticklen&&(h.tickLength=h.angularAxis.ticklen),h.angularAxis&&"undefined"!=typeof h.angularAxis.tickcolor&&(h.tickColor=h.angularAxis.tickcolor)),h.legend&&"boolean"!=typeof h.legend.reverseOrder&&(h.legend.reverseOrder="normal"!=h.legend.reverseOrder),h.legend&&"boolean"==typeof h.legend.traceorder&&(h.legend.traceorder=h.legend.traceorder?"reversed":"normal",delete h.legend.reverseOrder),h.margin&&"undefined"!=typeof h.margin.t){var j=["t","r","b","l","pad"],k=["top","right","bottom","left","pad"],l={};e.entries(h.margin).forEach(function(a,b){l[k[j.indexOf(a.key)]]=a.value}),h.margin=l}b&&(delete h.needsEndSpacing,delete h.minorTickColor,delete h.minorTicks,delete h.angularaxis.ticksCount,delete h.angularaxis.ticksCount,delete h.angularaxis.ticksStep,delete h.angularaxis.rewriteTicks,delete h.angularaxis.nticks,delete h.radialaxis.ticksCount,delete h.radialaxis.ticksCount,delete h.radialaxis.ticksStep,delete h.radialaxis.rewriteTicks,delete h.radialaxis.nticks),c.layout=h}return c},a}},{"../../plotly":113,"./micropolar_manager":140,d3:9}],140:[function(a,b,c){"use strict";var d=a("../../plotly"),e=a("d3"),f=a("./undo_manager"),g=b.exports={},h=d.Lib.extendDeepAll;g.framework=function(a){function b(b,f){return f&&(l=f),e.select(e.select(l).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove(),c=c?h(c,b):b,j||(j=d.micropolar.Axis()),k=d.micropolar.adapter.plotly().convert(c),j.config(k).render(l),a.data=c.data,a.layout=c.layout,g.fillLayout(a),c}var c,i,j,k,l,m=new f;return b.isPolar=!0,b.svg=function(){return j.svg()},b.getConfig=function(){return c},b.getLiveConfig=function(){return d.micropolar.adapter.plotly().convert(j.getLiveConfig(),!0)},b.getLiveScales=function(){return{t:j.angularScale(),r:j.radialScale()}},b.setUndoPoint=function(){var a=this,b=d.micropolar.util.cloneJson(c);!function(b,c){m.add({undo:function(){c&&a(c)},redo:function(){a(b)}})}(b,i),i=d.micropolar.util.cloneJson(b)},b.undo=function(){m.undo()},b.redo=function(){m.redo()},b},g.fillLayout=function(a){var b=e.select(a).selectAll(".plot-container"),c=b.selectAll(".svg-container"),f=a.framework&&a.framework.svg&&a.framework.svg(),g={width:800,height:600,paper_bgcolor:d.Color.background,_container:b,_paperdiv:c,_paper:f};a._fullLayout=h(g,a.layout)}},{"../../plotly":113,"./undo_manager":141,d3:9}],141:[function(a,b,c){"use strict";b.exports=function(){function a(a,b){return a?(e=!0,a[b](),e=!1,this):this}var b,c=[],d=-1,e=!1;return{add:function(a){return e?this:(c.splice(d+1,c.length-d),c.push(a),d=c.length-1,this)},setCallback:function(a){b=a},undo:function(){var e=c[d];return e?(a(e,"undo"),d-=1,b&&b(e.undo),this):this},redo:function(){var e=c[d+1];return e?(a(e,"redo"),d+=1,b&&b(e.redo),this):this},clear:function(){c=[],d=-1},hasUndo:function(){return d!==-1},hasRedo:function(){return d<c.length-1},getCommands:function(){return c},getPreviousCommand:function(){return c[d-1]},getIndex:function(){return d}}}},{}],142:[function(a,b,c){"use strict";function d(a){var b;switch(a){case"themes__thumb":b={autosize:!0,width:150,height:150,title:"",showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":b={
title:"",hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:b={}}return b}function e(a){var b=["xaxis","yaxis","zaxis"];return b.indexOf(a.slice(0,5))>-1}var f=a("../plotly"),g=f.Lib.extendFlat,h=f.Lib.extendDeep;b.exports=function(a,b){a.framework&&a.framework.isPolar&&(a=a.framework.getConfig());var c,i=a.data,j=a.layout,k=h([],i),l=h({},j,d(b.tileClass));if(b.width&&(l.width=b.width),b.height&&(l.height=b.height),"thumbnail"===b.tileClass||"themes__thumb"===b.tileClass){l.annotations=[];var m=Object.keys(l);for(c=0;c<m.length;c++)e(m[c])&&(l[m[c]].title="");for(c=0;c<k.length;c++){var n=k[c];n.showscale=!1,n.marker&&(n.marker.showscale=!1),"pie"===n.type&&(n.textposition="none")}}if(Array.isArray(b.annotations))for(c=0;c<b.annotations.length;c++)l.annotations.push(b.annotations[c]);var o=f.Plots.getSubplotIds(l,"gl3d");if(o.length){var p={};for("thumbnail"===b.tileClass&&(p={title:"",showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),c=0;c<o.length;c++){var q=o[c];g(l[q].xaxis,p),g(l[q].yaxis,p),g(l[q].zaxis,p),l[q]._scene=null}}var r=document.createElement("div");b.tileClass&&(r.className=b.tileClass);var s={td:r,layout:l,data:k,config:{staticPlot:void 0===b.staticPlot||b.staticPlot,plotGlPixelRatio:void 0===b.plotGlPixelRatio?2:b.plotGlPixelRatio,displaylogo:b.displaylogo||!1,showLink:b.showLink||!1,showTips:b.showTips||!1}};return"transparent"!==b.setBackground&&(s.config.setBackground=b.setBackground||"opaque"),s.td.defaultLayout=d(b.tileClass),s}},{"../plotly":113}],143:[function(a,b,c){"use strict";function d(a,b){return b=b||{},b.format=b.format||"png",new Promise(function(c,d){a._snapshotInProgress&&d(new Error("Snapshotting already in progress.")),f.isIE()&&"svg"!==b.format&&d(new Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.")),a._snapshotInProgress=!0;var h=e(a,b),i=b.filename||a.fn||"newplot";i+="."+b.format,h.then(function(b){return a._snapshotInProgress=!1,g(b,i)}).then(function(a){c(a)}).catch(function(b){a._snapshotInProgress=!1,d(b)})})}var e=a("../plot_api/to_image"),f=a("../lib"),g=a("./filesaver");b.exports=d},{"../lib":95,"../plot_api/to_image":111,"./filesaver":144}],144:[function(a,b,c){"use strict";var d=function(a,b){var c=document.createElement("a"),d="download"in c,e=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),f=new Promise(function(f,g){"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent)&&g(new Error("IE < 10 unsupported")),e&&(document.location.href="data:application/octet-stream"+a.slice(a.search(/[,;]/)),f(b)),b||(b="download"),d&&(c.href=a,c.download=b,document.body.appendChild(c),c.click(),document.body.removeChild(c),f(b)),"undefined"!=typeof navigator&&navigator.msSaveBlob&&(navigator.msSaveBlob(new Blob([a]),b),f(b)),g(new Error("download error"))});return f};b.exports=d},{}],145:[function(a,b,c){"use strict";function d(a){return a._has&&(a._has("gl3d")||a._has("gl2d"))?500:0}function e(a){if(!(a.data&&a.data[0]&&a.data[0].r))return function(){(a.calcdata||[]).forEach(function(a){a[0]&&a[0].t&&a[0].t.cb&&a[0].t.cb()})}}var f={getDelay:d,getRedrawFunc:e,clone:a("./cloneplot"),toSVG:a("./tosvg"),svgToImg:a("./svgtoimg"),toImage:a("./toimage"),downloadImage:a("./download")};b.exports=f},{"./cloneplot":142,"./download":143,"./svgtoimg":146,"./toimage":147,"./tosvg":148}],146:[function(a,b,c){"use strict";function d(a){var b=a.emitter||new f,c=new Promise(function(d,f){var g=window.Image,h=a.svg,i=a.format||"png";if(e.isIE()&&(h=h.replace(/"/gi,"'"),h=h.replace(/(\('#)(.*)('\))/gi,'("$2")'),h=h.replace(/(\\')/gi,'"'),"svg"!==i)){var j=new Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.");return f(j),a.promise?c:b.emit("error",j)}var k=a.canvas,l=k.getContext("2d"),m=new g,n="data:image/svg+xml,"+encodeURIComponent(h);k.height=a.height||150,k.width=a.width||300,m.onload=function(){var c;switch("svg"!==i&&l.drawImage(m,0,0),i){case"jpeg":c=k.toDataURL("image/jpeg");break;case"png":c=k.toDataURL("image/png");break;case"webp":c=k.toDataURL("image/webp");break;case"svg":c=n;break;default:if(f(new Error("Image format is not jpeg, png or svg")),!a.promise)return b.emit("error","Image format is not jpeg, png or svg")}d(c),a.promise||b.emit("success",c)},m.onerror=function(c){if(f(c),!a.promise)return b.emit("error",c)},m.src=n});return a.promise?c:b}var e=a("../lib"),f=a("events").EventEmitter;b.exports=d},{"../lib":95,events:2}],147:[function(a,b,c){"use strict";function d(a,b){function c(){var a=d.getDelay(j._fullLayout);setTimeout(function(){var a=f.Snapshot.toSVG(j),c=document.createElement("canvas");c.id=g.randstr(),h=f.Snapshot.svgToImg({format:b.format,width:j._fullLayout.width,height:j._fullLayout.height,canvas:c,emitter:h,svg:a}),h.clean=function(){j&&document.body.removeChild(j)}},a)}var d=f.Snapshot,h=new e,i=d.clone(a,{format:"png"}),j=i.td;j.style.position="absolute",j.style.left="-5000px",document.body.appendChild(j);var k=d.getRedrawFunc(j);return f.plot(j,i.data,i.layout,i.config).then(k).then(c).catch(function(a){h.emit("error",a)}),h}var e=a("events").EventEmitter,f=a("../plotly"),g=a("../lib");b.exports=d},{"../lib":95,"../plotly":113,events:2}],148:[function(a,b,c){"use strict";var d=a("d3"),e=a("../lib/svg_text_utils"),f=a("../components/drawing"),g=a("../components/color"),h=a("../constants/xmlns_namespaces");b.exports=function(a,b){var c,i=a._fullLayout,j=i._paper,k=i._toppaper;j.insert("rect",":first-child").call(f.setRect,0,0,i.width,i.height).call(g.fill,i.paper_bgcolor);var l=i._basePlotModules||[];for(c=0;c<l.length;c++){var m=l[c];m.toSVG&&m.toSVG(a)}if(k){var n=k.node().childNodes,o=Array.prototype.slice.call(n);for(c=0;c<o.length;c++){var p=o[c];p.childNodes.length&&j.node().appendChild(p)}}i._draggers&&i._draggers.remove(),j.node().style.background="",j.selectAll("text").attr("data-unformatted",null).each(function(){var a=d.select(this);if("hidden"===a.style("visibility"))return void a.remove();var b=a.style("font-family");b&&b.indexOf('"')!==-1&&a.style("font-family",b.replace(/"/g,"TOBESTRIPPED"))}),"pdf"!==b&&"eps"!==b||j.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),j.node().setAttributeNS(h.xmlns,"xmlns",h.svg),j.node().setAttributeNS(h.xmlns,"xmlns:xlink",h.xlink);var q=(new window.XMLSerializer).serializeToString(j.node());return q=e.html_entity_decode(q),q=e.xml_entity_encode(q),q=q.replace(/("TOBESTRIPPED)|(TOBESTRIPPED")/g,"'")}},{"../components/color":18,"../components/drawing":41,"../constants/xmlns_namespaces":88,"../lib/svg_text_utils":106,d3:9}],149:[function(a,b,c){"use strict";var d=a("../../lib").mergeArray;b.exports=function(a){var b=a[0].trace,c=b.marker,e=c.line;d(b.text,a,"tx"),d(c.opacity,a,"mo"),d(c.color,a,"mc"),d(e.color,a,"mlc"),d(e.width,a,"mlw")}},{"../../lib":95}],150:[function(a,b,c){"use strict";var d=a("../scatter/attributes"),e=a("../../components/colorscale/color_attributes"),f=a("../../lib/extend").extendFlat,g=d.marker,h=g.line,i=f({},h.width,{dflt:0}),j=f({},{width:i},e("marker.line")),k=f({},{showscale:g.showscale,line:j},e("marker"));b.exports={x:d.x,x0:d.x0,dx:d.dx,y:d.y,y0:d.y0,dy:d.dy,text:d.text,orientation:{valType:"enumerated",role:"info",values:["v","h"],description:["Sets the orientation of the bars.","With *v* (*h*), the value of the each bar spans","along the vertical (horizontal)."].join(" ")},marker:k,r:d.r,t:d.t,_nestedModules:{error_y:"ErrorBars",error_x:"ErrorBars","marker.colorbar":"Colorbar"},_deprecated:{bardir:{valType:"enumerated",role:"info",values:["v","h"],description:"Renamed to `orientation`."}}}},{"../../components/colorscale/color_attributes":26,"../../lib/extend":94,"../scatter/attributes":163}],151:[function(a,b,c){"use strict";var d=a("fast-isnumeric"),e=a("../../plots/cartesian/axes"),f=a("../../components/colorscale/has_colorscale"),g=a("../../components/colorscale/calc");b.exports=function(a,b){var c,h,i,j=e.getFromId(a,b.xaxis||"x"),k=e.getFromId(a,b.yaxis||"y"),l=b.orientation||(b.x&&!b.y?"h":"v");"h"===l?(h=j.makeCalcdata(b,"x"),c=k.makeCalcdata(b,"y")):(h=k.makeCalcdata(b,"y"),c=j.makeCalcdata(b,"x"));var m=Math.min(c.length,h.length),n=[];for(i=0;i<m;i++)d(c[i])&&n.push({p:c[i],s:h[i],b:0});return f(b,"marker")&&g(b,b.marker.color,"marker","c"),f(b,"marker.line")&&g(b,b.marker.line.color,"marker.line","c"),n}},{"../../components/colorscale/calc":25,"../../components/colorscale/has_colorscale":31,"../../plots/cartesian/axes":116,"fast-isnumeric":11}],152:[function(a,b,c){"use strict";var d=a("../../lib"),e=a("../../components/color"),f=a("../scatter/xy_defaults"),g=a("../bar/style_defaults"),h=a("../../components/errorbars/defaults"),i=a("./attributes");b.exports=function(a,b,c,j){function k(c,e){return d.coerce(a,b,i,c,e)}var l=f(a,b,k);return l?(k("orientation",b.x&&!b.y?"h":"v"),k("text"),g(a,b,k,c,j),h(a,b,e.defaultLine,{axis:"y"}),void h(a,b,e.defaultLine,{axis:"x",inherit:"y"})):void(b.visible=!1)}},{"../../components/color":18,"../../components/errorbars/defaults":46,"../../lib":95,"../bar/style_defaults":160,"../scatter/xy_defaults":184,"./attributes":150}],153:[function(a,b,c){"use strict";var d=a("../../plots/cartesian/graph_interact"),e=a("../../components/errorbars"),f=a("../../components/color");b.exports=function(a,b,c,g){var h,i=a.cd,j=i[0].trace,k=i[0].t,l=a.xa,m=a.ya,n="closest"===g?k.barwidth/2:k.dbar*(1-l._gd._fullLayout.bargap)/2;h="closest"!==g?function(a){return a.p}:"h"===j.orientation?function(a){return a.y}:function(a){return a.x};var o,p;"h"===j.orientation?(o=function(a){return d.inbox(a.b-b,a.x-b)+(a.x-b)/(a.x-a.b)},p=function(a){var b=h(a)-c;return d.inbox(b-n,b+n)}):(p=function(a){return d.inbox(a.b-c,a.y-c)+(a.y-c)/(a.y-a.b)},o=function(a){var c=h(a)-b;return d.inbox(c-n,c+n)});var q=d.getDistanceFunction(g,o,p);if(d.getClosest(i,q,a),a.index!==!1){var r=i[a.index],s=r.mcc||j.marker.color,t=r.mlcc||j.marker.line.color,u=r.mlw||j.marker.line.width;return f.opacity(s)?a.color=s:f.opacity(t)&&u&&(a.color=t),"h"===j.orientation?(a.x0=a.x1=l.c2p(r.x,!0),a.xLabelVal=r.s,a.y0=m.c2p(h(r)-n,!0),a.y1=m.c2p(h(r)+n,!0),a.yLabelVal=r.p):(a.y0=a.y1=m.c2p(r.y,!0),a.yLabelVal=r.s,a.x0=l.c2p(h(r)-n,!0),a.x1=l.c2p(h(r)+n,!0),a.xLabelVal=r.p),r.tx&&(a.text=r.tx),e.hoverInfo(r,j,a),[a]}}},{"../../components/color":18,"../../components/errorbars":47,"../../plots/cartesian/graph_interact":123}],154:[function(a,b,c){"use strict";var d={};d.attributes=a("./attributes"),d.layoutAttributes=a("./layout_attributes"),d.supplyDefaults=a("./defaults"),d.supplyLayoutDefaults=a("./layout_defaults"),d.calc=a("./calc"),d.setPositions=a("./set_positions"),d.colorbar=a("../scatter/colorbar"),d.arraysToCalcdata=a("./arrays_to_calcdata"),d.plot=a("./plot"),d.style=a("./style"),d.hoverPoints=a("./hover"),d.moduleType="trace",d.name="bar",d.basePlotModule=a("../../plots/cartesian"),d.categories=["cartesian","bar","oriented","markerColorscale","errorBarsOK","showLegend"],d.meta={description:["The data visualized by the span of the bars is set in `y`","if `orientation` is set th *v* (the default)","and the labels are set in `x`.","By setting `orientation` to *h*, the roles are interchanged."].join(" ")},b.exports=d},{"../../plots/cartesian":124,"../scatter/colorbar":166,"./arrays_to_calcdata":149,"./attributes":150,"./calc":151,"./defaults":152,"./hover":153,"./layout_attributes":155,"./layout_defaults":156,"./plot":157,"./set_positions":158,"./style":159}],155:[function(a,b,c){"use strict";b.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",role:"info",description:["Determines how bars at the same location coordinate","are displayed on the graph.","With *stack*, the bars are stacked on top of one another","With *relative*, the bars are stacked on top of one another,","with negative values below the axis, positive values above","With *group*, the bars are plotted next to one another","centered around the shared location.","With *overlay*, the bars are plotted over one another,","you might need to an *opacity* to see multiple bars."].join(" ")},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",role:"info",description:["Sets the normalization for bar traces on the graph.","With *fraction*, the value of each bar is divide by the sum of the","values at the location coordinate.","With *percent*, the results form *fraction* are presented in percents."].join(" ")},bargap:{valType:"number",min:0,max:1,role:"style",description:["Sets the gap (in plot fraction) between bars of","adjacent location coordinates."].join(" ")},bargroupgap:{valType:"number",min:0,max:1,dflt:0,role:"style",description:["Sets the gap (in plot fraction) between bars of","the same location coordinate."].join(" ")}}},{}],156:[function(a,b,c){"use strict";var d=a("../../plots/plots"),e=a("../../plots/cartesian/axes"),f=a("../../lib"),g=a("./layout_attributes");b.exports=function(a,b,c){function h(c,d){return f.coerce(a,b,g,c,d)}for(var i=!1,j=!1,k=!1,l={},m=0;m<c.length;m++){var n=c[m];if(d.traceIs(n,"bar")){if(i=!0,"overlay"!==a.barmode&&"stack"!==a.barmode){var o=n.xaxis+n.yaxis;l[o]&&(k=!0),l[o]=!0}if(n.visible&&"histogram"===n.type){var p=e.getFromId({_fullLayout:b},n["v"===n.orientation?"xaxis":"yaxis"]);"category"!==p.type&&(j=!0)}}}if(i){var q=h("barmode");"overlay"!==q&&h("barnorm"),h("bargap",j&&!k?0:.2),h("bargroupgap")}}},{"../../lib":95,"../../plots/cartesian/axes":116,"../../plots/plots":136,"./layout_attributes":155}],157:[function(a,b,c){"use strict";var d=a("d3"),e=a("fast-isnumeric"),f=a("../../lib"),g=a("../../components/color"),h=a("../../components/errorbars"),i=a("./arrays_to_calcdata");b.exports=function(a,b,c){var j=b.x(),k=b.y(),l=a._fullLayout,m=b.plot.select(".barlayer").selectAll("g.trace.bars").data(c).enter().append("g").attr("class","trace bars");m.append("g").attr("class","points").each(function(b){var c=b[0].t,h=b[0].trace;i(b),d.select(this).selectAll("path").data(f.identity).enter().append("path").each(function(b){function f(a){return 0===l.bargap&&0===l.bargroupgap?d.round(Math.round(a)-r,2):a}function i(a,b){return Math.abs(a-b)>=2?f(a):a>b?Math.ceil(a):Math.floor(a)}var m,n,o,p;if("h"===h.orientation?(o=k.c2p(c.poffset+b.p,!0),p=k.c2p(c.poffset+b.p+c.barwidth,!0),m=j.c2p(b.b,!0),n=j.c2p(b.s+b.b,!0)):(m=j.c2p(c.poffset+b.p,!0),n=j.c2p(c.poffset+b.p+c.barwidth,!0),p=k.c2p(b.s+b.b,!0),o=k.c2p(b.b,!0)),!(e(m)&&e(n)&&e(o)&&e(p)&&m!==n&&o!==p))return void d.select(this).remove();var q=(b.mlw+1||h.marker.line.width+1||(b.trace?b.trace.marker.line.width:0)+1)-1,r=d.round(q/2%1,2);if(!a._context.staticPlot){var s=g.opacity(b.mc||h.marker.color),t=s<1||q>.01?f:i;m=t(m,n),n=t(n,m),o=t(o,p),p=t(p,o)}d.select(this).attr("d","M"+m+","+o+"V"+p+"H"+n+"V"+o+"Z")})}),m.call(h.plot,b)}},{"../../components/color":18,"../../components/errorbars":47,"../../lib":95,"./arrays_to_calcdata":149,d3:9,"fast-isnumeric":11}],158:[function(a,b,c){"use strict";var d=a("fast-isnumeric"),e=a("../../plots/plots"),f=a("../../plots/cartesian/axes"),g=a("../../lib");b.exports=function(a,b){var c,h,i=a._fullLayout,j=b.x(),k=b.y();["v","h"].forEach(function(l){function m(b){function c(a){a[o]=a.p+m}var d=[];b.forEach(function(b){a.calcdata[b].forEach(function(a){d.push(a.p)})});var e=g.distinctVals(d),h=e.vals,j=e.minDiff,k=!1,l=[];"group"===i.barmode&&b.forEach(function(b){k||(a.calcdata[b].forEach(function(a){k||l.forEach(function(b){Math.abs(a.p-b)<j&&(k=!0)})}),k||a.calcdata[b].forEach(function(a){l.push(a.p)}))}),f.minDtick(q,j,h[0],k),f.expand(q,h,{vpad:j/2}),j*=1-i.bargap,k&&(j/=n.length);for(var m,p=0;p<b.length;p++){var r=a.calcdata[b[p]][0].t;r.barwidth=j*(1-i.bargroupgap),r.poffset=((k?(2*p+1-b.length)*j:0)-r.barwidth)/2,r.dbar=e.minDiff,m=r.poffset+r.barwidth/2,a.calcdata[b[p]].forEach(c)}}var n=[],o={v:"x",h:"y"}[l],p={v:"y",h:"x"}[l],q=b[o](),r=b[p]();if(a._fullData.forEach(function(a,b){a.visible===!0&&e.traceIs(a,"bar")&&a.orientation===l&&a.xaxis===j._id&&a.yaxis===k._id&&n.push(b)}),n.length){"overlay"===i.barmode?n.forEach(function(a){m([a])}):m(n);var s="stack"===i.barmode,t="relative"===i.barmode,u=i.barnorm;if(s||t||u){var v,w,x,y=r.l2c(r.c2l(0)),z=y,A={},B=a.calcdata[n[0]][0].t.barwidth/100,C=0,D=!0;for(c=0;c<n.length;c++)for(w=a.calcdata[n[c]],h=0;h<w.length;h++)if(d(w[h].s)){C=Math.round(w[h].p/B),t&&w[h].s<0&&(C="-"+C);var E=A[C]||0;(s||t)&&(w[h].b=E),v=w[h].b+w[h].s,A[C]=E+w[h].s,(s||t)&&(w[h][p]=v,!u&&d(r.c2l(v))&&(y=Math.max(y,v),z=Math.min(z,v)))}if(u){var F="fraction"===u?1:100,G=!1,H=F/1e9;for(D=!1,z=0,y=s?F:0,c=0;c<n.length;c++)for(w=a.calcdata[n[c]],h=0;h<w.length;h++)G=t&&w[h].s<0,C=Math.round(w[h].p/B),G&&(C="-"+C),x=F/A[C],G&&(x*=-1),w[h].b*=x,w[h].s*=x,v=w[h].b+w[h].s,w[h][p]=v,d(r.c2l(v))&&(v<z-H&&(D=!0,z=v),v>y+H&&(D=!0,y=v))}f.expand(r,[z,y],{tozero:!0,padded:D})}else{var I=function(a){return a[p]=a.s,a.s};for(c=0;c<n.length;c++)f.expand(r,a.calcdata[n[c]].map(I),{tozero:!0,padded:!0})}}})}},{"../../lib":95,"../../plots/cartesian/axes":116,"../../plots/plots":136,"fast-isnumeric":11}],159:[function(a,b,c){"use strict";var d=a("d3"),e=a("../../components/color"),f=a("../../components/drawing"),g=a("../../components/errorbars");b.exports=function(a){var b=d.select(a).selectAll("g.trace.bars"),c=b.size(),h=a._fullLayout;b.style("opacity",function(a){return a[0].trace.opacity}).each(function(a){("stack"===h.barmode&&c>1||0===h.bargap&&0===h.bargroupgap&&!a[0].trace.marker.line.width)&&d.select(this).attr("shape-rendering","crispEdges")}),b.selectAll("g.points").each(function(a){var b=a[0].trace,c=b.marker,g=c.line,h=(b._input||{}).marker||{},i=f.tryColorscale(c,h,""),j=f.tryColorscale(c,h,"line.");d.select(this).selectAll("path").each(function(a){var b,f,h=(a.mlw+1||g.width+1)-1,k=d.select(this);b="mc"in a?a.mcc=i(a.mc):Array.isArray(c.color)?e.defaultLine:c.color,k.style("stroke-width",h+"px").call(e.fill,b),h&&(f="mlc"in a?a.mlcc=j(a.mlc):Array.isArray(g.color)?e.defaultLine:g.color,k.call(e.stroke,f))})}),b.call(g.style)}},{"../../components/color":18,"../../components/drawing":41,"../../components/errorbars":47,d3:9}],160:[function(a,b,c){"use strict";var d=a("../../components/color"),e=a("../../components/colorscale/has_colorscale"),f=a("../../components/colorscale/defaults");b.exports=function(a,b,c,g,h){c("marker.color",g),e(a,"marker")&&f(a,b,h,c,{prefix:"marker.",cLetter:"c"}),c("marker.line.color",d.defaultLine),e(a,"marker.line")&&f(a,b,h,c,{prefix:"marker.line.",cLetter:"c"}),c("marker.line.width")}},{"../../components/color":18,"../../components/colorscale/defaults":28,"../../components/colorscale/has_colorscale":31}],161:[function(a,b,c){"use strict";var d=a("../../components/color");b.exports=function(a,b,c){var e=c.marker.line.color;Array.isArray(e)&&(e=e[b.i]||d.defaultLine);var f=c.marker.line.width||0;Array.isArray(f)&&(f=f[b.i]||0),a.style({"stroke-width":f,fill:b.color}).call(d.stroke,e)}},{"../../components/color":18}],162:[function(a,b,c){"use strict";var d=a("../../lib");b.exports=function(a){var b=a[0].trace,c=b.marker;if(d.mergeArray(b.text,a,"tx"),d.mergeArray(b.textposition,a,"tp"),b.textfont&&(d.mergeArray(b.textfont.size,a,"ts"),d.mergeArray(b.textfont.color,a,"tc"),d.mergeArray(b.textfont.family,a,"tf")),c&&c.line){var e=c.line;d.mergeArray(c.opacity,a,"mo"),d.mergeArray(c.symbol,a,"mx"),d.mergeArray(c.color,a,"mc"),d.mergeArray(e.color,a,"mlc"),d.mergeArray(e.width,a,"mlw")}}},{"../../lib":95}],163:[function(a,b,c){"use strict";var d=a("../../components/colorscale/color_attributes"),e=a("../../components/drawing"),f=a("./constants"),g=a("../../lib/extend").extendFlat;b.exports={x:{valType:"data_array",description:"Sets the x coordinates."},x0:{valType:"any",dflt:0,role:"info",description:["Alternate to `x`.","Builds a linear space of x coordinates.","Use with `dx`","where `x0` is the starting coordinate and `dx` the step."].join(" ")},dx:{valType:"number",dflt:1,role:"info",description:["Sets the x coordinate step.","See `x0` for more info."].join(" ")},y:{valType:"data_array",description:"Sets the y coordinates."},y0:{valType:"any",dflt:0,role:"info",description:["Alternate to `y`.","Builds a linear space of y coordinates.","Use with `dy`","where `y0` is the starting coordinate and `dy` the step."].join(" ")},dy:{valType:"number",dflt:1,role:"info",description:["Sets the y coordinate step.","See `y0` for more info."].join(" ")},text:{valType:"string",role:"info",dflt:"",arrayOk:!0,description:["Sets text elements associated with each (x,y) pair.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y) coordinates."].join(" ")},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],role:"info",description:["Determines the drawing mode for this scatter trace.","If the provided `mode` includes *text* then the `text` elements","appear at the coordinates. Otherwise, the `text` elements","appear on hover.","If there are less than "+f.PTS_LINESONLY+" points,","then the default is *lines+markers*. Otherwise, *lines*."].join(" ")},hoveron:{valType:"flaglist",flags:["points","fills"],role:"info",description:["Do the hover effects highlight individual points (markers or","line points) or do they highlight filled regions?","If the fill is *toself* or *tonext* and there are no markers","or text, then the default is *fills*, otherwise it is *points*."].join(" ")},line:{color:{valType:"color",role:"style",description:"Sets the line color."},width:{valType:"number",min:0,dflt:2,role:"style",description:"Sets the line width (in px)."},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",role:"style",description:["Determines the line shape.","With *spline* the lines are drawn using spline interpolation.","The other available values correspond to step-wise line shapes."].join(" ")},smoothing:{valType:"number",min:0,max:1.3,dflt:1,role:"style",description:["Has an effect only if `shape` is set to *spline*","Sets the amount of smoothing.","*0* corresponds to no smoothing (equivalent to a *linear* shape)."].join(" ")},dash:{valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",role:"style",description:["Sets the style of the lines. Set to a dash string type","or a dash length in px."].join(" ")}},connectgaps:{valType:"boolean",dflt:!1,role:"info",description:["Determines whether or not gaps","(i.e. {nan} or missing values)","in the provided data arrays are connected."].join(" ")},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],dflt:"none",role:"style",description:["Sets the area to fill with a solid color.","Use with `fillcolor` if not *none*.","*tozerox* and *tozeroy* fill to x=0 and y=0 respectively.","*tonextx* and *tonexty* fill between the endpoints of this","trace and the endpoints of the trace before it, connecting those","endpoints with straight lines (to make a stacked area graph);","if there is no trace before it, they behave like *tozerox* and","*tozeroy*.","*toself* connects the endpoints of the trace (or each segment","of the trace if it has gaps) into a closed shape.","*tonext* fills the space between two traces if one completely","encloses the other (eg consecutive contour lines), and behaves like","*toself* if there is no trace before it. *tonext* should not be","used if one trace does not enclose the other."].join(" ")},fillcolor:{valType:"color",role:"style",description:["Sets the fill color.","Defaults to a half-transparent variant of the line color,","marker color, or marker line color, whichever is available."].join(" ")},marker:g({},{symbol:{valType:"enumerated",values:e.symbolList,dflt:"circle",arrayOk:!0,role:"style",description:["Sets the marker symbol type.","Adding 100 is equivalent to appending *-open* to a symbol name.","Adding 200 is equivalent to appending *-dot* to a symbol name.","Adding 300 is equivalent to appending *-open-dot*","or *dot-open* to a symbol name."].join(" ")},opacity:{valType:"number",min:0,max:1,arrayOk:!0,role:"style",description:"Sets the marker opacity."},size:{valType:"number",min:0,dflt:6,arrayOk:!0,role:"style",description:"Sets the marker size (in px)."},maxdisplayed:{valType:"number",min:0,dflt:0,role:"style",description:["Sets a maximum number of points to be drawn on the graph.","*0* corresponds to no limit."].join(" ")},sizeref:{valType:"number",dflt:1,role:"style",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the scale factor used to determine the rendered size of","marker points. Use with `sizemin` and `sizemode`."].join(" ")},sizemin:{valType:"number",min:0,dflt:0,role:"style",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the minimum size (in px) of the rendered marker points."].join(" ")},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",role:"info",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the rule for which the data in `size` is converted","to pixels."].join(" ")},showscale:{valType:"boolean",role:"info",dflt:!1,description:["Has an effect only if `marker.color` is set to a numerical array.","Determines whether or not a colorbar is displayed."].join(" ")},line:g({},{width:{valType:"number",min:0,arrayOk:!0,role:"style",description:"Sets the width (in px) of the lines bounding the marker points."}},d("marker.line"))},d("marker")),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,role:"style",description:["Sets the positions of the `text` elements","with respects to the (x,y) coordinates."].join(" ")},textfont:{family:{valType:"string",role:"style",noBlank:!0,strict:!0,arrayOk:!0},size:{valType:"number",role:"style",min:1,arrayOk:!0},color:{valType:"color",role:"style",arrayOk:!0},description:"Sets the text font."},r:{valType:"data_array",description:["For polar chart only.","Sets the radial coordinates."].join("")},t:{valType:"data_array",description:["For polar chart only.","Sets the angular coordinates."].join("")},_nestedModules:{error_y:"ErrorBars",error_x:"ErrorBars","marker.colorbar":"Colorbar"}}},{"../../components/colorscale/color_attributes":26,"../../components/drawing":41,"../../lib/extend":94,"./constants":168}],164:[function(a,b,c){"use strict";var d=a("fast-isnumeric"),e=a("../../plots/cartesian/axes"),f=a("../../lib"),g=a("./subtypes"),h=a("./colorscale_calc");b.exports=function(a,b){var c,i,j,k=e.getFromId(a,b.xaxis||"x"),l=e.getFromId(a,b.yaxis||"y"),m=k.makeCalcdata(b,"x"),n=l.makeCalcdata(b,"y"),o=Math.min(m.length,n.length);k._minDtick=0,l._minDtick=0,m.length>o&&m.splice(o,m.length-o),n.length>o&&n.splice(o,n.length-o);var p={padded:!0},q={padded:!0};if(g.hasMarkers(b)){if(c=b.marker,i=c.size,Array.isArray(i)){var r={type:"linear"};e.setConvert(r),i=r.makeCalcdata(b.marker,"size"),i.length>o&&i.splice(o,i.length-o)}var s,t=1.6*(b.marker.sizeref||1);s="area"===b.marker.sizemode?function(a){return Math.max(Math.sqrt((a||0)/t),3)}:function(a){return Math.max((a||0)/t,3)},p.ppad=q.ppad=Array.isArray(i)?i.map(s):s(i)}h(b),!("tozerox"===b.fill||"tonextx"===b.fill&&a.firstscatter)||m[0]===m[o-1]&&n[0]===n[o-1]?b.error_y.visible||["tonexty","tozeroy"].indexOf(b.fill)===-1&&(g.hasMarkers(b)||g.hasText(b))||(p.padded=!1,p.ppad=0):p.tozero=!0,!("tozeroy"===b.fill||"tonexty"===b.fill&&a.firstscatter)||m[0]===m[o-1]&&n[0]===n[o-1]?["tonextx","tozerox"].indexOf(b.fill)!==-1&&(q.padded=!1):q.tozero=!0,e.expand(k,m,p),e.expand(l,n,q);var u=new Array(o);for(j=0;j<o;j++)u[j]=d(m[j])&&d(n[j])?{x:m[j],y:n[j]}:{x:!1,y:!1};return void 0!==typeof i&&f.mergeArray(i,u,"ms"),a.firstscatter=!1,u}},{"../../lib":95,"../../plots/cartesian/axes":116,"./colorscale_calc":167,"./subtypes":182,"fast-isnumeric":11}],165:[function(a,b,c){"use strict";b.exports=function(a){var b,c,d,e,f;for(b=0;b<a.length;b++)if(c=a[b],d=c.fill,"none"!==d&&"scatter"===c.type&&(c.opacity=void 0,"tonexty"===d||"tonextx"===d))for(e=b-1;e>=0;e--)if(f=a[e],"scatter"===f.type&&f.xaxis===c.xaxis&&f.yaxis===c.yaxis){f.opacity=void 0;break}}},{}],166:[function(a,b,c){"use strict";var d=a("d3"),e=a("fast-isnumeric"),f=a("../../lib"),g=a("../../plots/plots"),h=a("../../components/colorscale/get_scale"),i=a("../../components/colorbar/draw");b.exports=function(a,b){var c=b[0].trace,j=c.marker,k="cb"+c.uid;if(a._fullLayout._infolayer.selectAll("."+k).remove(),void 0===j||!j.showscale)return void g.autoMargin(a,k);var l=h(j.colorscale),m=j.color,n=j.cmin,o=j.cmax;e(n)||(n=f.aggNums(Math.min,null,m)),e(o)||(o=f.aggNums(Math.max,null,m));var p=b[0].t.cb=i(a,k);p.fillcolor(d.scale.linear().domain(l.map(function(a){return n+a[0]*(o-n)})).range(l.map(function(a){return a[1]}))).filllevels({start:n,end:o,size:(o-n)/254}).options(j.colorbar)()}},{"../../components/colorbar/draw":21,"../../components/colorscale/get_scale":30,"../../lib":95,"../../plots/plots":136,d3:9,"fast-isnumeric":11}],167:[function(a,b,c){"use strict";var d=a("../../components/colorscale/has_colorscale"),e=a("../../components/colorscale/calc"),f=a("./subtypes");b.exports=function(a){f.hasLines(a)&&d(a,"line")&&e(a,a.line.color,"line","c"),f.hasMarkers(a)&&(d(a,"marker")&&e(a,a.marker.color,"marker","c"),d(a,"marker.line")&&e(a,a.marker.line.color,"marker.line","c"))}},{"../../components/colorscale/calc":25,"../../components/colorscale/has_colorscale":31,"./subtypes":182}],168:[function(a,b,c){"use strict";b.exports={PTS_LINESONLY:20}},{}],169:[function(a,b,c){"use strict";var d=a("../../lib"),e=a("./attributes"),f=a("./constants"),g=a("./subtypes"),h=a("./xy_defaults"),i=a("./marker_defaults"),j=a("./line_defaults"),k=a("./line_shape_defaults"),l=a("./text_defaults"),m=a("./fillcolor_defaults"),n=a("../../components/errorbars/defaults");b.exports=function(a,b,c,o){function p(c,f){return d.coerce(a,b,e,c,f)}var q=h(a,b,p),r=q<f.PTS_LINESONLY?"lines+markers":"lines";if(!q)return void(b.visible=!1);p("text"),p("mode",r),g.hasLines(b)&&(j(a,b,c,o,p),k(a,b,p),p("connectgaps")),g.hasMarkers(b)&&i(a,b,c,o,p),g.hasText(b)&&l(a,b,o,p);var s=[];(g.hasMarkers(b)||g.hasText(b))&&(p("marker.maxdisplayed"),s.push("points")),p("fill"),"none"!==b.fill&&(m(a,b,c,p),g.hasLines(b)||k(a,b,p)),"tonext"!==b.fill&&"toself"!==b.fill||s.push("fills"),p("hoveron",s.join("+")||"points"),n(a,b,c,{axis:"y"}),n(a,b,c,{axis:"x",inherit:"y"})}},{"../../components/errorbars/defaults":46,"../../lib":95,"./attributes":163,"./constants":168,"./fillcolor_defaults":170,"./line_defaults":174,"./line_shape_defaults":176,"./marker_defaults":178,"./subtypes":182,"./text_defaults":183,"./xy_defaults":184}],170:[function(a,b,c){"use strict";var d=a("../../components/color");b.exports=function(a,b,c,e){var f=!1;if(b.marker){var g=b.marker.color,h=(b.marker.line||{}).color;g&&!Array.isArray(g)?f=g:h&&!Array.isArray(h)&&(f=h)}e("fillcolor",d.addOpacity((b.line||{}).color||f||c,.5))}},{"../../components/color":18}],171:[function(a,b,c){"use strict";var d=a("../../components/color"),e=a("./subtypes");b.exports=function(a,b){var c,f;if("lines"===a.mode)return c=a.line.color,c&&d.opacity(c)?c:a.fillcolor;if("none"===a.mode)return a.fill?a.fillcolor:"";var g=b.mcc||(a.marker||{}).color,h=b.mlcc||((a.marker||{}).line||{}).color;return f=g&&d.opacity(g)?g:h&&d.opacity(h)&&(b.mlw||((a.marker||{}).line||{}).width)?h:"",f?d.opacity(f)<.3?d.addOpacity(f,.3):f:(c=(a.line||{}).color,c&&d.opacity(c)&&e.hasLines(a)&&a.line.width?c:a.fillcolor)}},{"../../components/color":18,"./subtypes":182}],172:[function(a,b,c){"use strict";var d=a("../../lib"),e=a("../../plots/cartesian/graph_interact"),f=a("../../plots/cartesian/constants"),g=a("../../components/errorbars"),h=a("./get_trace_color"),i=a("../../components/color");b.exports=function(a,b,c,j){
var k=a.cd,l=k[0].trace,m=a.xa,n=a.ya,o=m.c2p(b),p=n.c2p(c),q=[o,p];if(l.hoveron.indexOf("points")!==-1){var r=function(a){var b=Math.max(3,a.mrc||0);return Math.max(Math.abs(m.c2p(a.x)-o)-b,1-3/b)},s=function(a){var b=Math.max(3,a.mrc||0);return Math.max(Math.abs(n.c2p(a.y)-p)-b,1-3/b)},t=function(a){var b=Math.max(3,a.mrc||0),c=m.c2p(a.x)-o,d=n.c2p(a.y)-p;return Math.max(Math.sqrt(c*c+d*d)-b,1-3/b)},u=e.getDistanceFunction(j,r,s,t);if(e.getClosest(k,u,a),a.index!==!1){var v=k[a.index],w=m.c2p(v.x,!0),x=n.c2p(v.y,!0),y=v.mrc||1;return d.extendFlat(a,{color:h(l,v),x0:w-y,x1:w+y,xLabelVal:v.x,y0:x-y,y1:x+y,yLabelVal:v.y}),v.tx?a.text=v.tx:l.text&&(a.text=l.text),g.hoverInfo(v,l,a),[a]}}if(l.hoveron.indexOf("fills")!==-1&&l._polygons){var z,A,B,C,D,E,F,G,H,I=l._polygons,J=[],K=!1,L=1/0,M=-(1/0),N=1/0,O=-(1/0);for(z=0;z<I.length;z++)B=I[z],B.contains(q)&&(K=!K,J.push(B),N=Math.min(N,B.ymin),O=Math.max(O,B.ymax));if(K){N=Math.max(N,0),O=Math.min(O,n._length);var P=(N+O)/2;for(z=0;z<J.length;z++)for(C=J[z].pts,A=1;A<C.length;A++)G=C[A-1][1],H=C[A][1],G>P!=H>=P&&(E=C[A-1][0],F=C[A][0],D=E+(F-E)*(P-G)/(H-G),L=Math.min(L,D),M=Math.max(M,D));L=Math.max(L,0),M=Math.min(M,m._length);var Q=i.defaultLine;return i.opacity(l.fillcolor)?Q=l.fillcolor:i.opacity((l.line||{}).color)&&(Q=l.line.color),d.extendFlat(a,{distance:f.MAXDIST+10,x0:L,x1:M,y0:P,y1:P,color:Q}),delete a.index,l.text&&!Array.isArray(l.text)?a.text=String(l.text):a.text=l.name,[a]}}}},{"../../components/color":18,"../../components/errorbars":47,"../../lib":95,"../../plots/cartesian/constants":121,"../../plots/cartesian/graph_interact":123,"./get_trace_color":171}],173:[function(a,b,c){"use strict";var d={},e=a("./subtypes");d.hasLines=e.hasLines,d.hasMarkers=e.hasMarkers,d.hasText=e.hasText,d.isBubble=e.isBubble,d.attributes=a("./attributes"),d.supplyDefaults=a("./defaults"),d.cleanData=a("./clean_data"),d.calc=a("./calc"),d.arraysToCalcdata=a("./arrays_to_calcdata"),d.plot=a("./plot"),d.colorbar=a("./colorbar"),d.style=a("./style"),d.hoverPoints=a("./hover"),d.selectPoints=a("./select"),d.moduleType="trace",d.name="scatter",d.basePlotModule=a("../../plots/cartesian"),d.categories=["cartesian","symbols","markerColorscale","errorBarsOK","showLegend"],d.meta={description:["The scatter trace type encompasses line charts, scatter charts, text charts, and bubble charts.","The data visualized as scatter point or lines is set in `x` and `y`.","Text (appearing either on the chart or on hover only) is via `text`.","Bubble charts are achieved by setting `marker.size` and/or `marker.color`","to numerical arrays."].join(" ")},b.exports=d},{"../../plots/cartesian":124,"./arrays_to_calcdata":162,"./attributes":163,"./calc":164,"./clean_data":165,"./colorbar":166,"./defaults":169,"./hover":172,"./plot":179,"./select":180,"./style":181,"./subtypes":182}],174:[function(a,b,c){"use strict";var d=a("../../components/colorscale/has_colorscale"),e=a("../../components/colorscale/defaults");b.exports=function(a,b,c,f,g){var h=(a.marker||{}).color;if(g("line.color",c),d(a,"line"))e(a,b,f,g,{prefix:"line.",cLetter:"c"});else{var i=!Array.isArray(h)&&h||c;g("line.color",i)}g("line.width"),g("line.dash")}},{"../../components/colorscale/defaults":28,"../../components/colorscale/has_colorscale":31}],175:[function(a,b,c){"use strict";var d=a("../../plots/cartesian/axes");b.exports=function(a,b){function c(b){var c=w.c2p(a[b].x),d=x.c2p(a[b].y);return c!==C&&d!==C&&[c,d]}function e(a){var b=a[0]/w._length,c=a[1]/x._length;return(1+10*Math.max(0,-b,b-1,-c,c-1))*z}function f(a,b){var c=a[0]-b[0],d=a[1]-b[1];return Math.sqrt(c*c+d*d)}var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=b.xaxis,x=b.yaxis,y=b.connectGaps,z=b.baseTolerance,A=b.linear,B=[],C=d.BADNUM,D=.2,E=new Array(a.length),F=0;for(g=0;g<a.length;g++)if(h=c(g)){for(F=0,E[F++]=h,g++;g<a.length;g++){if(j=c(g),!j){if(y)continue;break}if(A){if(m=f(j,h),!(m<e(j)*D)){for(o=[(j[0]-h[0])/m,(j[1]-h[1])/m],k=h,q=m,r=t=u=0,n=!1,i=j,g++;g<a.length;g++){if(l=c(g),!l){if(y)continue;break}if(p=[l[0]-h[0],l[1]-h[1]],v=p[0]*o[1]-p[1]*o[0],t=Math.min(t,v),u=Math.max(u,v),u-t>e(l))break;i=l,s=p[0]*o[0]+p[1]*o[1],s>q?(q=s,j=l,n=!1):s<r&&(r=s,k=l,n=!0)}if(n?(E[F++]=j,i!==k&&(E[F++]=k)):(k!==h&&(E[F++]=k),i!==j&&(E[F++]=j)),E[F++]=i,g>=a.length||!l)break;E[F++]=l,h=l}}else E[F++]=j}B.push(E.slice(0,F))}return B}},{"../../plots/cartesian/axes":116}],176:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d=c("line.shape");"spline"===d&&c("line.smoothing")}},{}],177:[function(a,b,c){"use strict";var d=a("fast-isnumeric");b.exports=function(a){var b=a.marker,c=b.sizeref||1,e=b.sizemin||0,f="area"===b.sizemode?function(a){return Math.sqrt(a/c)}:function(a){return a/c};return function(a){var b=f(a/2);return d(b)&&b>0?Math.max(b,e):0}}},{"fast-isnumeric":11}],178:[function(a,b,c){"use strict";var d=a("../../components/color"),e=a("../../components/colorscale/has_colorscale"),f=a("../../components/colorscale/defaults"),g=a("./subtypes");b.exports=function(a,b,c,h,i){var j,k=g.isBubble(a),l=(a.line||{}).color;l&&(c=l),i("marker.symbol"),i("marker.opacity",k?.7:1),i("marker.size"),i("marker.color",c),e(a,"marker")&&f(a,b,h,i,{prefix:"marker.",cLetter:"c"}),j=l&&!Array.isArray(l)&&b.marker.color!==l?l:k?d.background:d.defaultLine,i("marker.line.color",j),e(a,"marker.line")&&f(a,b,h,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width",k?1:0),k&&(i("marker.sizeref"),i("marker.sizemin"),i("marker.sizemode"))}},{"../../components/color":18,"../../components/colorscale/defaults":28,"../../components/colorscale/has_colorscale":31,"./subtypes":182}],179:[function(a,b,c){"use strict";function d(a,b,c){var d=b.x(),f=b.y(),g=e.extent(d.range.map(d.l2c)),h=e.extent(f.range.map(f.l2c));c.forEach(function(a,b){var d=a[0].trace;if(j.hasMarkers(d)){var e=d.marker.maxdisplayed;if(0!==e){var f=a.filter(function(a){return a.x>=g[0]&&a.x<=g[1]&&a.y>=h[0]&&a.y<=h[1]}),i=Math.ceil(f.length/e),k=0;c.forEach(function(a,c){var d=a[0].trace;j.hasMarkers(d)&&d.marker.maxdisplayed>0&&c<b&&k++});var l=Math.round(k*i/3+Math.floor(k/3)*i/7.1);a.forEach(function(a){delete a.vis}),f.forEach(function(a,b){0===Math.round((b+l)%i)&&(a.vis=!0)})}}})}var e=a("d3"),f=a("../../lib"),g=a("../../components/drawing"),h=a("../../components/errorbars"),i=a("../../lib/polygon").tester,j=a("./subtypes"),k=a("./arrays_to_calcdata"),l=a("./line_points");b.exports=function(a,b,c){function m(a){return a.filter(function(a){return a.vis})}d(a,b,c);var n=b.x(),o=b.y(),p=b.plot.select(".scatterlayer").selectAll("g.trace.scatter").data(c);p.enter().append("g").attr("class","trace scatter").style("stroke-miterlimit",2),p.call(h.plot,b);var q,r,s,t,u="",v=[];p.each(function(a){var b=a[0].trace,c=b.line,d=e.select(this);if(b.visible===!0&&(r=b.fill.charAt(b.fill.length-1),"x"!==r&&"y"!==r&&(r=""),a[0].node3=d,k(a),j.hasLines(b)||"none"!==b.fill)){var f,h,m,p,w,x="",y="";q="tozero"===b.fill.substr(0,6)||"toself"===b.fill||"to"===b.fill.substr(0,2)&&!u?d.append("path").classed("js-fill",!0):null,t&&(s=t.datum(a)),t=d.append("path").classed("js-fill",!0),["hv","vh","hvh","vhv"].indexOf(c.shape)!==-1?(m=g.steps(c.shape),p=g.steps(c.shape.split("").reverse().join(""))):m=p="spline"===c.shape?function(a){var b=a[a.length-1];return a[0][0]===b[0]&&a[0][1]===b[1]?g.smoothclosed(a.slice(1),c.smoothing):g.smoothopen(a,c.smoothing)}:function(a){return"M"+a.join("L")},w=function(a){return p(a.reverse())};var z,A=l(a,{xaxis:n,yaxis:o,connectGaps:b.connectgaps,baseTolerance:Math.max(c.width||1,3)/4,linear:"linear"===c.shape}),B=b._polygons=new Array(A.length);for(z=0;z<A.length;z++)b._polygons[z]=i(A[z]);if(A.length){var C=A[0][0],D=A[A.length-1],E=D[D.length-1];for(z=0;z<A.length;z++){var F=A[z];f=m(F),h=w(F),x?r?(x+="L"+f.substr(1),y=h+("L"+y.substr(1))):(x+="Z"+f,y=h+"Z"+y):(x=f,y=h),j.hasLines(b)&&F.length>1&&d.append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").attr("d",f)}q?C&&E&&(r?("y"===r?C[1]=E[1]=o.c2p(0,!0):"x"===r&&(C[0]=E[0]=n.c2p(0,!0)),q.attr("d",x+"L"+E+"L"+C+"Z")):q.attr("d",x+"Z")):"tonext"===b.fill.substr(0,6)&&x&&u&&("tonext"===b.fill?s.attr("d",x+"Z"+u+"Z"):s.attr("d",x+"L"+u.substr(1)+"Z"),b._polygons=b._polygons.concat(v)),u=y,v=B}}}),p.selectAll("path:not([d])").remove(),p.append("g").attr("class","points").each(function(a){var b=a[0].trace,c=e.select(this),d=j.hasMarkers(b),h=j.hasText(b);!d&&!h||b.visible!==!0?c.remove():(d&&c.selectAll("path.point").data(b.marker.maxdisplayed?m:f.identity).enter().append("path").classed("point",!0).call(g.translatePoints,n,o),h&&c.selectAll("g").data(b.marker.maxdisplayed?m:f.identity).enter().append("g").append("text").call(g.translatePoints,n,o))})}},{"../../components/drawing":41,"../../components/errorbars":47,"../../lib":95,"../../lib/polygon":101,"./arrays_to_calcdata":162,"./line_points":175,"./subtypes":182,d3:9}],180:[function(a,b,c){"use strict";var d=a("./subtypes"),e=.2;b.exports=function(a,b){var c,f,g,h,i=a.cd,j=a.xaxis,k=a.yaxis,l=[],m=i[0].trace,n=m.index,o=m.marker,p=!d.hasMarkers(m)&&!d.hasText(m);if(m.visible===!0&&!p){var q=Array.isArray(o.opacity)?1:o.opacity;if(b===!1)for(c=0;c<i.length;c++)i[c].dim=0;else for(c=0;c<i.length;c++)f=i[c],g=j.c2p(f.x),h=k.c2p(f.y),b.contains([g,h])?(l.push({curveNumber:n,pointNumber:c,x:f.x,y:f.y}),f.dim=0):f.dim=1;return i[0].node3.selectAll("path.point").style("opacity",function(a){return((a.mo+1||q+1)-1)*(a.dim?e:1)}),i[0].node3.selectAll("text").style("opacity",function(a){return a.dim?e:1}),l}}},{"./subtypes":182}],181:[function(a,b,c){"use strict";var d=a("d3"),e=a("../../components/drawing"),f=a("../../components/errorbars");b.exports=function(a){var b=d.select(a).selectAll("g.trace.scatter");b.style("opacity",function(a){return a[0].trace.opacity}),b.selectAll("g.points").each(function(a){d.select(this).selectAll("path.point").call(e.pointStyle,a.trace||a[0].trace),d.select(this).selectAll("text").call(e.textPointStyle,a.trace||a[0].trace)}),b.selectAll("g.trace path.js-line").call(e.lineGroupStyle),b.selectAll("g.trace path.js-fill").call(e.fillGroupStyle),b.call(f.style)}},{"../../components/drawing":41,"../../components/errorbars":47,d3:9}],182:[function(a,b,c){"use strict";var d=a("../../lib");b.exports={hasLines:function(a){return a.visible&&a.mode&&a.mode.indexOf("lines")!==-1},hasMarkers:function(a){return a.visible&&a.mode&&a.mode.indexOf("markers")!==-1},hasText:function(a){return a.visible&&a.mode&&a.mode.indexOf("text")!==-1},isBubble:function(a){return d.isPlainObject(a.marker)&&Array.isArray(a.marker.size)}}},{"../../lib":95}],183:[function(a,b,c){"use strict";var d=a("../../lib");b.exports=function(a,b,c,e){e("textposition"),d.coerceFont(e,"textfont",c.font)}},{"../../lib":95}],184:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d,e=c("x"),f=c("y");if(e)f?(d=Math.min(e.length,f.length),d<e.length&&(b.x=e.slice(0,d)),d<f.length&&(b.y=f.slice(0,d))):(d=e.length,c("y0"),c("dy"));else{if(!f)return 0;d=b.y.length,c("x0"),c("dx")}return d}},{}],185:[function(a,b,c){!function(d,e){"function"==typeof define&&define.amd?define(["jquery","sifter","microplugin"],e):"object"==typeof c?b.exports=e(a("jquery"),a("sifter"),a("microplugin")):d.Selectize=e(d.jQuery,d.Sifter,d.MicroPlugin)}(this,function(a,b,c){"use strict";var d=function(a,b){if("string"!=typeof b||b.length){var c="string"==typeof b?new RegExp(b,"i"):b,d=function(a){var b=0;if(3===a.nodeType){var e=a.data.search(c);if(e>=0&&a.data.length>0){var f=a.data.match(c),g=document.createElement("span");g.className="highlight";var h=a.splitText(e),i=(h.splitText(f[0].length),h.cloneNode(!0));g.appendChild(i),h.parentNode.replaceChild(g,h),b=1}}else if(1===a.nodeType&&a.childNodes&&!/(script|style)/i.test(a.tagName))for(var j=0;j<a.childNodes.length;++j)j+=d(a.childNodes[j]);return b};return a.each(function(){d(this)})}};jQuery.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var a=this.parentNode;a.replaceChild(this.firstChild,this),a.normalize()}).end()};var e=function(){};e.prototype={on:function(a,b){this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(b)},off:function(a,b){var c=arguments.length;return 0===c?delete this._events:1===c?delete this._events[a]:(this._events=this._events||{},void(a in this._events!=!1&&this._events[a].splice(this._events[a].indexOf(b),1)))},trigger:function(a){if(this._events=this._events||{},a in this._events!=!1)for(var b=0;b<this._events[a].length;b++)this._events[a][b].apply(this,Array.prototype.slice.call(arguments,1))}},e.mixin=function(a){for(var b=["on","off","trigger"],c=0;c<b.length;c++)a.prototype[b[c]]=e.prototype[b[c]]};var f=/Mac/.test(navigator.userAgent),g=65,h=13,i=27,j=37,k=38,l=80,m=39,n=40,o=78,p=8,q=46,r=16,s=f?91:17,t=f?18:17,u=9,v=1,w=2,x=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,y=function(a){return"undefined"!=typeof a},z=function(a){return"undefined"==typeof a||null===a?null:"boolean"==typeof a?a?"1":"0":a+""},A=function(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},B={};B.before=function(a,b,c){var d=a[b];a[b]=function(){return c.apply(a,arguments),d.apply(a,arguments)}},B.after=function(a,b,c){var d=a[b];a[b]=function(){var b=d.apply(a,arguments);return c.apply(a,arguments),b}};var C=function(a){var b=!1;return function(){b||(b=!0,a.apply(this,arguments))}},D=function(a,b){var c;return function(){var d=this,e=arguments;window.clearTimeout(c),c=window.setTimeout(function(){a.apply(d,e)},b)}},E=function(a,b,c){var d,e=a.trigger,f={};a.trigger=function(){var c=arguments[0];return b.indexOf(c)===-1?e.apply(a,arguments):void(f[c]=arguments)},c.apply(a,[]),a.trigger=e;for(d in f)f.hasOwnProperty(d)&&e.apply(a,f[d])},F=function(a,b,c,d){a.on(b,c,function(b){for(var c=b.target;c&&c.parentNode!==a[0];)c=c.parentNode;return b.currentTarget=c,d.apply(this,[b])})},G=function(a){var b={};if("selectionStart"in a)b.start=a.selectionStart,b.length=a.selectionEnd-b.start;else if(document.selection){a.focus();var c=document.selection.createRange(),d=document.selection.createRange().text.length;c.moveStart("character",-a.value.length),b.start=c.text.length-d,b.length=d}return b},H=function(a,b,c){var d,e,f={};if(c)for(d=0,e=c.length;d<e;d++)f[c[d]]=a.css(c[d]);else f=a.css();b.css(f)},I=function(b,c){if(!b)return 0;var d=a("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(b).appendTo("body");H(c,d,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var e=d.width();return d.remove(),e},J=function(a){var b=null,c=function(c,d){var e,f,g,h,i,j,k,l;c=c||window.event||{},d=d||{},c.metaKey||c.altKey||(d.force||a.data("grow")!==!1)&&(e=a.val(),c.type&&"keydown"===c.type.toLowerCase()&&(f=c.keyCode,g=f>=97&&f<=122||f>=65&&f<=90||f>=48&&f<=57||32===f,f===q||f===p?(l=G(a[0]),l.length?e=e.substring(0,l.start)+e.substring(l.start+l.length):f===p&&l.start?e=e.substring(0,l.start-1)+e.substring(l.start+1):f===q&&"undefined"!=typeof l.start&&(e=e.substring(0,l.start)+e.substring(l.start+1))):g&&(j=c.shiftKey,k=String.fromCharCode(c.keyCode),k=j?k.toUpperCase():k.toLowerCase(),e+=k)),h=a.attr("placeholder"),!e&&h&&(e=h),i=I(e,a)+4,i!==b&&(b=i,a.width(i),a.triggerHandler("resize")))};a.on("keydown keyup update blur",c),c()},K=function(a){var b=document.createElement("div");return b.appendChild(a.cloneNode(!0)),b.innerHTML},L=function(a,b){b||(b={});var c="Selectize";console.error(c+": "+a),b.explanation&&(console.group&&console.group(),console.error(b.explanation),console.group&&console.groupEnd())},M=function(c,d){var e,f,g,h,i=this;h=c[0],h.selectize=i;var j=window.getComputedStyle&&window.getComputedStyle(h,null);if(g=j?j.getPropertyValue("direction"):h.currentStyle&&h.currentStyle.direction,g=g||c.parents("[dir]:first").attr("dir")||"",a.extend(i,{order:0,settings:d,$input:c,tabIndex:c.attr("tabindex")||"",tagType:"select"===h.tagName.toLowerCase()?v:w,rtl:/rtl/i.test(g),eventNS:".selectize"+ ++M.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:c.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===d.loadThrottle?i.onSearchChange:D(i.onSearchChange,d.loadThrottle)}),i.sifter=new b(this.options,{diacritics:d.diacritics}),i.settings.options){for(e=0,f=i.settings.options.length;e<f;e++)i.registerOption(i.settings.options[e]);delete i.settings.options}if(i.settings.optgroups){for(e=0,f=i.settings.optgroups.length;e<f;e++)i.registerOptionGroup(i.settings.optgroups[e]);delete i.settings.optgroups}i.settings.mode=i.settings.mode||(1===i.settings.maxItems?"single":"multi"),"boolean"!=typeof i.settings.hideSelected&&(i.settings.hideSelected="multi"===i.settings.mode),i.initializePlugins(i.settings.plugins),i.setupCallbacks(),i.setupTemplates(),i.setup()};return e.mixin(M),"undefined"!=typeof c?c.mixin(M):L("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),a.extend(M.prototype,{setup:function(){var b,c,d,e,g,h,i,j,k,l,m=this,n=m.settings,o=m.eventNS,p=a(window),q=a(document),u=m.$input;if(i=m.settings.mode,j=u.attr("class")||"",b=a("<div>").addClass(n.wrapperClass).addClass(j).addClass(i),c=a("<div>").addClass(n.inputClass).addClass("items").appendTo(b),d=a('<input type="text" autocomplete="off" />').appendTo(c).attr("tabindex",u.is(":disabled")?"-1":m.tabIndex),h=a(n.dropdownParent||b),e=a("<div>").addClass(n.dropdownClass).addClass(i).hide().appendTo(h),g=a("<div>").addClass(n.dropdownContentClass).appendTo(e),(l=u.attr("id"))&&(d.attr("id",l+"-selectized"),a("label[for='"+l+"']").attr("for",l+"-selectized")),m.settings.copyClassesToDropdown&&e.addClass(j),b.css({width:u[0].style.width}),m.plugins.names.length&&(k="plugin-"+m.plugins.names.join(" plugin-"),b.addClass(k),e.addClass(k)),(null===n.maxItems||n.maxItems>1)&&m.tagType===v&&u.attr("multiple","multiple"),m.settings.placeholder&&d.attr("placeholder",n.placeholder),!m.settings.splitOn&&m.settings.delimiter){var w=m.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");m.settings.splitOn=new RegExp("\\s*"+w+"+\\s*")}u.attr("autocorrect")&&d.attr("autocorrect",u.attr("autocorrect")),u.attr("autocapitalize")&&d.attr("autocapitalize",u.attr("autocapitalize")),m.$wrapper=b,m.$control=c,m.$control_input=d,m.$dropdown=e,m.$dropdown_content=g,e.on("mouseenter","[data-selectable]",function(){return m.onOptionHover.apply(m,arguments)}),e.on("mousedown click","[data-selectable]",function(){return m.onOptionSelect.apply(m,arguments)}),F(c,"mousedown","*:not(input)",function(){return m.onItemSelect.apply(m,arguments)}),J(d),c.on({mousedown:function(){return m.onMouseDown.apply(m,arguments)},click:function(){return m.onClick.apply(m,arguments)}}),d.on({mousedown:function(a){a.stopPropagation()},keydown:function(){return m.onKeyDown.apply(m,arguments)},keyup:function(){return m.onKeyUp.apply(m,arguments)},keypress:function(){return m.onKeyPress.apply(m,arguments)},resize:function(){m.positionDropdown.apply(m,[])},blur:function(){return m.onBlur.apply(m,arguments)},focus:function(){return m.ignoreBlur=!1,m.onFocus.apply(m,arguments)},paste:function(){return m.onPaste.apply(m,arguments)}}),q.on("keydown"+o,function(a){m.isCmdDown=a[f?"metaKey":"ctrlKey"],m.isCtrlDown=a[f?"altKey":"ctrlKey"],m.isShiftDown=a.shiftKey}),q.on("keyup"+o,function(a){a.keyCode===t&&(m.isCtrlDown=!1),a.keyCode===r&&(m.isShiftDown=!1),a.keyCode===s&&(m.isCmdDown=!1)}),q.on("mousedown"+o,function(a){if(m.isFocused){if(a.target===m.$dropdown[0]||a.target.parentNode===m.$dropdown[0])return!1;m.$control.has(a.target).length||a.target===m.$control[0]||m.blur(a.target)}}),p.on(["scroll"+o,"resize"+o].join(" "),function(){m.isOpen&&m.positionDropdown.apply(m,arguments)}),p.on("mousemove"+o,function(){m.ignoreHover=!1}),this.revertSettings={$children:u.children().detach(),tabindex:u.attr("tabindex")},u.attr("tabindex",-1).hide().after(m.$wrapper),a.isArray(n.items)&&(m.setValue(n.items),delete n.items),x&&u.on("invalid"+o,function(a){a.preventDefault(),m.isInvalid=!0,m.refreshState()}),m.updateOriginalInput(),m.refreshItems(),m.refreshState(),m.updatePlaceholder(),m.isSetup=!0,u.is(":disabled")&&m.disable(),m.on("change",this.onChange),u.data("selectize",m),u.addClass("selectized"),m.trigger("initialize"),n.preload===!0&&m.onSearchChange("")},setupTemplates:function(){var b=this,c=b.settings.labelField,d=b.settings.optgroupLabelField,e={optgroup:function(a){return'<div class="optgroup">'+a.html+"</div>"},optgroup_header:function(a,b){return'<div class="optgroup-header">'+b(a[d])+"</div>"},option:function(a,b){return'<div class="option">'+b(a[c])+"</div>"},item:function(a,b){return'<div class="item">'+b(a[c])+"</div>"},option_create:function(a,b){return'<div class="create">Add <strong>'+b(a.input)+"</strong>&hellip;</div>"}};b.settings.render=a.extend({},e,b.settings.render)},setupCallbacks:function(){var a,b,c={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(a in c)c.hasOwnProperty(a)&&(b=this.settings[c[a]],b&&this.on(a,b))},onClick:function(a){var b=this;b.isFocused||(b.focus(),a.preventDefault())},onMouseDown:function(b){var c=this,d=b.isDefaultPrevented();a(b.target);if(c.isFocused){if(b.target!==c.$control_input[0])return"single"===c.settings.mode?c.isOpen?c.close():c.open():d||c.setActiveItem(null),!1}else d||window.setTimeout(function(){c.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(b){var c=this;return c.isFull()||c.isInputHidden||c.isLocked?void b.preventDefault():void(c.settings.splitOn&&setTimeout(function(){var b=c.$control_input.val();if(b.match(c.settings.splitOn))for(var d=a.trim(b).split(c.settings.splitOn),e=0,f=d.length;e<f;e++)c.createItem(d[e])},0))},onKeyPress:function(a){if(this.isLocked)return a&&a.preventDefault();var b=String.fromCharCode(a.keyCode||a.which);return this.settings.create&&"multi"===this.settings.mode&&b===this.settings.delimiter?(this.createItem(),a.preventDefault(),!1):void 0},onKeyDown:function(a){var b=(a.target===this.$control_input[0],this);if(b.isLocked)return void(a.keyCode!==u&&a.preventDefault());switch(a.keyCode){case g:if(b.isCmdDown)return void b.selectAll();break;case i:return void(b.isOpen&&(a.preventDefault(),a.stopPropagation(),b.close()));case o:if(!a.ctrlKey||a.altKey)break;case n:if(!b.isOpen&&b.hasOptions)b.open();else if(b.$activeOption){b.ignoreHover=!0;var c=b.getAdjacentOption(b.$activeOption,1);c.length&&b.setActiveOption(c,!0,!0)}return void a.preventDefault();case l:if(!a.ctrlKey||a.altKey)break;case k:if(b.$activeOption){b.ignoreHover=!0;var d=b.getAdjacentOption(b.$activeOption,-1);d.length&&b.setActiveOption(d,!0,!0)}return void a.preventDefault();case h:return void(b.isOpen&&b.$activeOption&&(b.onOptionSelect({currentTarget:b.$activeOption}),a.preventDefault()));case j:return void b.advanceSelection(-1,a);case m:return void b.advanceSelection(1,a);case u:return b.settings.selectOnTab&&b.isOpen&&b.$activeOption&&(b.onOptionSelect({currentTarget:b.$activeOption}),b.isFull()||a.preventDefault()),void(b.settings.create&&b.createItem()&&a.preventDefault());case p:case q:return void b.deleteSelection(a)}return!b.isFull()&&!b.isInputHidden||(f?a.metaKey:a.ctrlKey)?void 0:void a.preventDefault()},onKeyUp:function(a){var b=this;if(b.isLocked)return a&&a.preventDefault();var c=b.$control_input.val()||"";b.lastValue!==c&&(b.lastValue=c,b.onSearchChange(c),b.refreshOptions(),b.trigger("type",c))},onSearchChange:function(a){var b=this,c=b.settings.load;c&&(b.loadedSearches.hasOwnProperty(a)||(b.loadedSearches[a]=!0,b.load(function(d){c.apply(b,[a,d])})))},onFocus:function(a){var b=this,c=b.isFocused;return b.isDisabled?(b.blur(),a&&a.preventDefault(),!1):void(b.ignoreFocus||(b.isFocused=!0,"focus"===b.settings.preload&&b.onSearchChange(""),c||b.trigger("focus"),b.$activeItems.length||(b.showInput(),b.setActiveItem(null),b.refreshOptions(!!b.settings.openOnFocus)),b.refreshState()))},onBlur:function(a,b){var c=this;if(c.isFocused&&(c.isFocused=!1,!c.ignoreFocus)){if(!c.ignoreBlur&&document.activeElement===c.$dropdown_content[0])return c.ignoreBlur=!0,void c.onFocus(a);var d=function(){c.close(),c.setTextboxValue(""),c.setActiveItem(null),c.setActiveOption(null),c.setCaret(c.items.length),c.refreshState(),b&&b.focus(),c.ignoreFocus=!1,c.trigger("blur")};c.ignoreFocus=!0,c.settings.create&&c.settings.createOnBlur?c.createItem(null,!1,d):d()}},onOptionHover:function(a){this.ignoreHover||this.setActiveOption(a.currentTarget,!1)},onOptionSelect:function(b){var c,d,e=this;b.preventDefault&&(b.preventDefault(),b.stopPropagation()),d=a(b.currentTarget),d.hasClass("create")?e.createItem(null,function(){e.settings.closeAfterSelect&&e.close()}):(c=d.attr("data-value"),"undefined"!=typeof c&&(e.lastQuery=null,e.setTextboxValue(""),e.addItem(c),e.settings.closeAfterSelect?e.close():!e.settings.hideSelected&&b.type&&/mouse/.test(b.type)&&e.setActiveOption(e.getOption(c))))},onItemSelect:function(a){var b=this;b.isLocked||"multi"===b.settings.mode&&(a.preventDefault(),b.setActiveItem(a.currentTarget,a))},load:function(a){var b=this,c=b.$wrapper.addClass(b.settings.loadingClass);b.loading++,a.apply(b,[function(a){b.loading=Math.max(b.loading-1,0),a&&a.length&&(b.addOption(a),b.refreshOptions(b.isFocused&&!b.isInputHidden)),b.loading||c.removeClass(b.settings.loadingClass),b.trigger("load",a)}])},setTextboxValue:function(a){var b=this.$control_input,c=b.val()!==a;c&&(b.val(a).triggerHandler("update"),this.lastValue=a)},getValue:function(){return this.tagType===v&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(a,b){var c=b?[]:["change"];E(this,c,function(){this.clear(b),this.addItems(a,b)})},setActiveItem:function(b,c){var d,e,f,g,h,i,j,k,l=this;if("single"!==l.settings.mode){if(b=a(b),!b.length)return a(l.$activeItems).removeClass("active"),l.$activeItems=[],void(l.isFocused&&l.showInput());if(d=c&&c.type.toLowerCase(),"mousedown"===d&&l.isShiftDown&&l.$activeItems.length){for(k=l.$control.children(".active:last"),g=Array.prototype.indexOf.apply(l.$control[0].childNodes,[k[0]]),h=Array.prototype.indexOf.apply(l.$control[0].childNodes,[b[0]]),g>h&&(j=g,g=h,h=j),e=g;e<=h;e++)i=l.$control[0].childNodes[e],l.$activeItems.indexOf(i)===-1&&(a(i).addClass("active"),l.$activeItems.push(i));c.preventDefault()}else"mousedown"===d&&l.isCtrlDown||"keydown"===d&&this.isShiftDown?b.hasClass("active")?(f=l.$activeItems.indexOf(b[0]),l.$activeItems.splice(f,1),b.removeClass("active")):l.$activeItems.push(b.addClass("active")[0]):(a(l.$activeItems).removeClass("active"),l.$activeItems=[b.addClass("active")[0]]);l.hideInput(),this.isFocused||l.focus()}},setActiveOption:function(b,c,d){var e,f,g,h,i,j=this;j.$activeOption&&j.$activeOption.removeClass("active"),j.$activeOption=null,b=a(b),b.length&&(j.$activeOption=b.addClass("active"),!c&&y(c)||(e=j.$dropdown_content.height(),f=j.$activeOption.outerHeight(!0),c=j.$dropdown_content.scrollTop()||0,g=j.$activeOption.offset().top-j.$dropdown_content.offset().top+c,h=g,i=g-e+f,g+f>e+c?j.$dropdown_content.stop().animate({scrollTop:i},d?j.settings.scrollDuration:0):g<c&&j.$dropdown_content.stop().animate({scrollTop:h},d?j.settings.scrollDuration:0)))},selectAll:function(){var a=this;"single"!==a.settings.mode&&(a.$activeItems=Array.prototype.slice.apply(a.$control.children(":not(input)").addClass("active")),a.$activeItems.length&&(a.hideInput(),a.close()),a.focus())},hideInput:function(){var a=this;a.setTextboxValue(""),a.$control_input.css({opacity:0,position:"absolute",left:a.rtl?1e4:-1e4}),a.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var a=this;a.isDisabled||(a.ignoreFocus=!0,a.$control_input[0].focus(),window.setTimeout(function(){a.ignoreFocus=!1,a.onFocus()},0))},blur:function(a){this.$control_input[0].blur(),this.onBlur(null,a)},getScoreFunction:function(a){return this.sifter.getScoreFunction(a,this.getSearchOptions())},getSearchOptions:function(){var a=this.settings,b=a.sortField;return"string"==typeof b&&(b=[{field:b}]),{fields:a.searchField,conjunction:a.searchConjunction,sort:b}},search:function(b){var c,d,e,f=this,g=f.settings,h=this.getSearchOptions();if(g.score&&(e=f.settings.score.apply(this,[b]),"function"!=typeof e))throw new Error('Selectize "score" setting must be a function that returns a function');if(b!==f.lastQuery?(f.lastQuery=b,d=f.sifter.search(b,a.extend(h,{score:e})),f.currentResults=d):d=a.extend(!0,{},f.currentResults),g.hideSelected)for(c=d.items.length-1;c>=0;c--)f.items.indexOf(z(d.items[c].id))!==-1&&d.items.splice(c,1);return d},refreshOptions:function(b){var c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;"undefined"==typeof b&&(b=!0);var t=this,u=a.trim(t.$control_input.val()),v=t.search(u),w=t.$dropdown_content,x=t.$activeOption&&z(t.$activeOption.attr("data-value"));for(g=v.items.length,"number"==typeof t.settings.maxOptions&&(g=Math.min(g,t.settings.maxOptions)),h={},i=[],c=0;c<g;c++)for(j=t.options[v.items[c].id],k=t.render("option",j),l=j[t.settings.optgroupField]||"",m=a.isArray(l)?l:[l],e=0,f=m&&m.length;e<f;e++)l=m[e],t.optgroups.hasOwnProperty(l)||(l=""),h.hasOwnProperty(l)||(h[l]=document.createDocumentFragment(),i.push(l)),h[l].appendChild(k);for(this.settings.lockOptgroupOrder&&i.sort(function(a,b){var c=t.optgroups[a].$order||0,d=t.optgroups[b].$order||0;return c-d}),n=document.createDocumentFragment(),c=0,g=i.length;c<g;c++)l=i[c],t.optgroups.hasOwnProperty(l)&&h[l].childNodes.length?(o=document.createDocumentFragment(),o.appendChild(t.render("optgroup_header",t.optgroups[l])),o.appendChild(h[l]),n.appendChild(t.render("optgroup",a.extend({},t.optgroups[l],{html:K(o),dom:o})))):n.appendChild(h[l]);if(w.html(n),t.settings.highlight&&v.query.length&&v.tokens.length)for(w.removeHighlight(),c=0,g=v.tokens.length;c<g;c++)d(w,v.tokens[c].regex);if(!t.settings.hideSelected)for(c=0,g=t.items.length;c<g;c++)t.getOption(t.items[c]).addClass("selected");p=t.canCreate(u),p&&(w.prepend(t.render("option_create",{input:u})),s=a(w[0].childNodes[0])),t.hasOptions=v.items.length>0||p,t.hasOptions?(v.items.length>0?(r=x&&t.getOption(x),r&&r.length?q=r:"single"===t.settings.mode&&t.items.length&&(q=t.getOption(t.items[0])),q&&q.length||(q=s&&!t.settings.addPrecedence?t.getAdjacentOption(s,1):w.find("[data-selectable]:first"))):q=s,t.setActiveOption(q),b&&!t.isOpen&&t.open()):(t.setActiveOption(null),b&&t.isOpen&&t.close())},addOption:function(b){var c,d,e,f=this;if(a.isArray(b))for(c=0,d=b.length;c<d;c++)f.addOption(b[c]);else(e=f.registerOption(b))&&(f.userOptions[e]=!0,f.lastQuery=null,f.trigger("option_add",e,b))},registerOption:function(a){var b=z(a[this.settings.valueField]);return"undefined"!=typeof b&&null!==b&&!this.options.hasOwnProperty(b)&&(a.$order=a.$order||++this.order,this.options[b]=a,b)},registerOptionGroup:function(a){var b=z(a[this.settings.optgroupValueField]);return!!b&&(a.$order=a.$order||++this.order,this.optgroups[b]=a,b)},addOptionGroup:function(a,b){b[this.settings.optgroupValueField]=a,(a=this.registerOptionGroup(b))&&this.trigger("optgroup_add",a,b);
},removeOptionGroup:function(a){this.optgroups.hasOwnProperty(a)&&(delete this.optgroups[a],this.renderCache={},this.trigger("optgroup_remove",a))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(b,c){var d,e,f,g,h,i,j,k=this;if(b=z(b),f=z(c[k.settings.valueField]),null!==b&&k.options.hasOwnProperty(b)){if("string"!=typeof f)throw new Error("Value must be set in option data");j=k.options[b].$order,f!==b&&(delete k.options[b],g=k.items.indexOf(b),g!==-1&&k.items.splice(g,1,f)),c.$order=c.$order||j,k.options[f]=c,h=k.renderCache.item,i=k.renderCache.option,h&&(delete h[b],delete h[f]),i&&(delete i[b],delete i[f]),k.items.indexOf(f)!==-1&&(d=k.getItem(b),e=a(k.render("item",c)),d.hasClass("active")&&e.addClass("active"),d.replaceWith(e)),k.lastQuery=null,k.isOpen&&k.refreshOptions(!1)}},removeOption:function(a,b){var c=this;a=z(a);var d=c.renderCache.item,e=c.renderCache.option;d&&delete d[a],e&&delete e[a],delete c.userOptions[a],delete c.options[a],c.lastQuery=null,c.trigger("option_remove",a),c.removeItem(a,b)},clearOptions:function(){var a=this;a.loadedSearches={},a.userOptions={},a.renderCache={},a.options=a.sifter.items={},a.lastQuery=null,a.trigger("option_clear"),a.clear()},getOption:function(a){return this.getElementWithValue(a,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(b,c){var d=this.$dropdown.find("[data-selectable]"),e=d.index(b)+c;return e>=0&&e<d.length?d.eq(e):a()},getElementWithValue:function(b,c){if(b=z(b),"undefined"!=typeof b&&null!==b)for(var d=0,e=c.length;d<e;d++)if(c[d].getAttribute("data-value")===b)return a(c[d]);return a()},getItem:function(a){return this.getElementWithValue(a,this.$control.children())},addItems:function(b,c){for(var d=a.isArray(b)?b:[b],e=0,f=d.length;e<f;e++)this.isPending=e<f-1,this.addItem(d[e],c)},addItem:function(b,c){var d=c?[]:["change"];E(this,d,function(){var d,e,f,g,h,i=this,j=i.settings.mode;return b=z(b),i.items.indexOf(b)!==-1?void("single"===j&&i.close()):void(i.options.hasOwnProperty(b)&&("single"===j&&i.clear(c),"multi"===j&&i.isFull()||(d=a(i.render("item",i.options[b])),h=i.isFull(),i.items.splice(i.caretPos,0,b),i.insertAtCaret(d),(!i.isPending||!h&&i.isFull())&&i.refreshState(),i.isSetup&&(f=i.$dropdown_content.find("[data-selectable]"),i.isPending||(e=i.getOption(b),g=i.getAdjacentOption(e,1).attr("data-value"),i.refreshOptions(i.isFocused&&"single"!==j),g&&i.setActiveOption(i.getOption(g))),!f.length||i.isFull()?i.close():i.positionDropdown(),i.updatePlaceholder(),i.trigger("item_add",b,d),i.updateOriginalInput({silent:c})))))})},removeItem:function(b,c){var d,e,f,g=this;d=b instanceof a?b:g.getItem(b),b=z(d.attr("data-value")),e=g.items.indexOf(b),e!==-1&&(d.remove(),d.hasClass("active")&&(f=g.$activeItems.indexOf(d[0]),g.$activeItems.splice(f,1)),g.items.splice(e,1),g.lastQuery=null,!g.settings.persist&&g.userOptions.hasOwnProperty(b)&&g.removeOption(b,c),e<g.caretPos&&g.setCaret(g.caretPos-1),g.refreshState(),g.updatePlaceholder(),g.updateOriginalInput({silent:c}),g.positionDropdown(),g.trigger("item_remove",b,d))},createItem:function(b,c){var d=this,e=d.caretPos;b=b||a.trim(d.$control_input.val()||"");var f=arguments[arguments.length-1];if("function"!=typeof f&&(f=function(){}),"boolean"!=typeof c&&(c=!0),!d.canCreate(b))return f(),!1;d.lock();var g="function"==typeof d.settings.create?this.settings.create:function(a){var b={};return b[d.settings.labelField]=a,b[d.settings.valueField]=a,b},h=C(function(a){if(d.unlock(),!a||"object"!=typeof a)return f();var b=z(a[d.settings.valueField]);return"string"!=typeof b?f():(d.setTextboxValue(""),d.addOption(a),d.setCaret(e),d.addItem(b),d.refreshOptions(c&&"single"!==d.settings.mode),void f(a))}),i=g.apply(this,[b,h]);return"undefined"!=typeof i&&h(i),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var a=!this.items.length;this.isInvalid=a,this.$control_input.prop("required",a),this.$input.prop("required",!a)},refreshClasses:function(){var b=this,c=b.isFull(),d=b.isLocked;b.$wrapper.toggleClass("rtl",b.rtl),b.$control.toggleClass("focus",b.isFocused).toggleClass("disabled",b.isDisabled).toggleClass("required",b.isRequired).toggleClass("invalid",b.isInvalid).toggleClass("locked",d).toggleClass("full",c).toggleClass("not-full",!c).toggleClass("input-active",b.isFocused&&!b.isInputHidden).toggleClass("dropdown-active",b.isOpen).toggleClass("has-options",!a.isEmptyObject(b.options)).toggleClass("has-items",b.items.length>0),b.$control_input.data("grow",!c&&!d)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(a){var b,c,d,e,f=this;if(a=a||{},f.tagType===v){for(d=[],b=0,c=f.items.length;b<c;b++)e=f.options[f.items[b]][f.settings.labelField]||"",d.push('<option value="'+A(f.items[b])+'" selected="selected">'+A(e)+"</option>");d.length||this.$input.attr("multiple")||d.push('<option value="" selected="selected"></option>'),f.$input.html(d.join(""))}else f.$input.val(f.getValue()),f.$input.attr("value",f.$input.val());f.isSetup&&(a.silent||f.trigger("change",f.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var a=this.$control_input;this.items.length?a.removeAttr("placeholder"):a.attr("placeholder",this.settings.placeholder),a.triggerHandler("update",{force:!0})}},open:function(){var a=this;a.isLocked||a.isOpen||"multi"===a.settings.mode&&a.isFull()||(a.focus(),a.isOpen=!0,a.refreshState(),a.$dropdown.css({visibility:"hidden",display:"block"}),a.positionDropdown(),a.$dropdown.css({visibility:"visible"}),a.trigger("dropdown_open",a.$dropdown))},close:function(){var a=this,b=a.isOpen;"single"===a.settings.mode&&a.items.length&&(a.hideInput(),a.$control_input.blur()),a.isOpen=!1,a.$dropdown.hide(),a.setActiveOption(null),a.refreshState(),b&&a.trigger("dropdown_close",a.$dropdown)},positionDropdown:function(){var a=this.$control,b="body"===this.settings.dropdownParent?a.offset():a.position();b.top+=a.outerHeight(!0),this.$dropdown.css({width:a.outerWidth(),top:b.top,left:b.left})},clear:function(a){var b=this;b.items.length&&(b.$control.children(":not(input)").remove(),b.items=[],b.lastQuery=null,b.setCaret(0),b.setActiveItem(null),b.updatePlaceholder(),b.updateOriginalInput({silent:a}),b.refreshState(),b.showInput(),b.trigger("clear"))},insertAtCaret:function(b){var c=Math.min(this.caretPos,this.items.length);0===c?this.$control.prepend(b):a(this.$control[0].childNodes[c]).before(b),this.setCaret(c+1)},deleteSelection:function(b){var c,d,e,f,g,h,i,j,k,l=this;if(e=b&&b.keyCode===p?-1:1,f=G(l.$control_input[0]),l.$activeOption&&!l.settings.hideSelected&&(i=l.getAdjacentOption(l.$activeOption,-1).attr("data-value")),g=[],l.$activeItems.length){for(k=l.$control.children(".active:"+(e>0?"last":"first")),h=l.$control.children(":not(input)").index(k),e>0&&h++,c=0,d=l.$activeItems.length;c<d;c++)g.push(a(l.$activeItems[c]).attr("data-value"));b&&(b.preventDefault(),b.stopPropagation())}else(l.isFocused||"single"===l.settings.mode)&&l.items.length&&(e<0&&0===f.start&&0===f.length?g.push(l.items[l.caretPos-1]):e>0&&f.start===l.$control_input.val().length&&g.push(l.items[l.caretPos]));if(!g.length||"function"==typeof l.settings.onDelete&&l.settings.onDelete.apply(l,[g])===!1)return!1;for("undefined"!=typeof h&&l.setCaret(h);g.length;)l.removeItem(g.pop());return l.showInput(),l.positionDropdown(),l.refreshOptions(!0),i&&(j=l.getOption(i),j.length&&l.setActiveOption(j)),!0},advanceSelection:function(a,b){var c,d,e,f,g,h,i=this;0!==a&&(i.rtl&&(a*=-1),c=a>0?"last":"first",d=G(i.$control_input[0]),i.isFocused&&!i.isInputHidden?(f=i.$control_input.val().length,g=a<0?0===d.start&&0===d.length:d.start===f,g&&!f&&i.advanceCaret(a,b)):(h=i.$control.children(".active:"+c),h.length&&(e=i.$control.children(":not(input)").index(h),i.setActiveItem(null),i.setCaret(a>0?e+1:e))))},advanceCaret:function(a,b){var c,d,e=this;0!==a&&(c=a>0?"next":"prev",e.isShiftDown?(d=e.$control_input[c](),d.length&&(e.hideInput(),e.setActiveItem(d),b&&b.preventDefault())):e.setCaret(e.caretPos+a))},setCaret:function(b){var c=this;if(b="single"===c.settings.mode?c.items.length:Math.max(0,Math.min(c.items.length,b)),!c.isPending){var d,e,f,g;for(f=c.$control.children(":not(input)"),d=0,e=f.length;d<e;d++)g=a(f[d]).detach(),d<b?c.$control_input.before(g):c.$control.append(g)}c.caretPos=b},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var a=this;a.$input.prop("disabled",!0),a.$control_input.prop("disabled",!0).prop("tabindex",-1),a.isDisabled=!0,a.lock()},enable:function(){var a=this;a.$input.prop("disabled",!1),a.$control_input.prop("disabled",!1).prop("tabindex",a.tabIndex),a.isDisabled=!1,a.unlock()},destroy:function(){var b=this,c=b.eventNS,d=b.revertSettings;b.trigger("destroy"),b.off(),b.$wrapper.remove(),b.$dropdown.remove(),b.$input.html("").append(d.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:d.tabindex}).show(),b.$control_input.removeData("grow"),b.$input.removeData("selectize"),a(window).off(c),a(document).off(c),a(document.body).off(c),delete b.$input[0].selectize},render:function(b,c){var d,e,f="",g=!1,h=this;return"option"!==b&&"item"!==b||(d=z(c[h.settings.valueField]),g=!!d),g&&(y(h.renderCache[b])||(h.renderCache[b]={}),h.renderCache[b].hasOwnProperty(d))?h.renderCache[b][d]:(f=a(h.settings.render[b].apply(this,[c,A])),"option"===b||"option_create"===b?f.attr("data-selectable",""):"optgroup"===b&&(e=c[h.settings.optgroupValueField]||"",f.attr("data-group",e)),"option"!==b&&"item"!==b||f.attr("data-value",d||""),g&&(h.renderCache[b][d]=f[0]),f[0])},clearCache:function(a){var b=this;"undefined"==typeof a?b.renderCache={}:delete b.renderCache[a]},canCreate:function(a){var b=this;if(!b.settings.create)return!1;var c=b.settings.createFilter;return a.length&&("function"!=typeof c||c.apply(b,[a]))&&("string"!=typeof c||new RegExp(c).test(a))&&(!(c instanceof RegExp)||c.test(a))}}),M.count=0,M.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},a.fn.selectize=function(b){var c=a.fn.selectize.defaults,d=a.extend({},c,b),e=d.dataAttr,f=d.labelField,g=d.valueField,h=d.optgroupField,i=d.optgroupLabelField,j=d.optgroupValueField,k=function(b,c){var h,i,j,k,l=b.attr(e);if(l)for(c.options=JSON.parse(l),h=0,i=c.options.length;h<i;h++)c.items.push(c.options[h][g]);else{var m=a.trim(b.val()||"");if(!d.allowEmptyOption&&!m.length)return;for(j=m.split(d.delimiter),h=0,i=j.length;h<i;h++)k={},k[f]=j[h],k[g]=j[h],c.options.push(k);c.items=j}},l=function(b,c){var k,l,m,n,o=c.options,p={},q=function(a){var b=e&&a.attr(e);return"string"==typeof b&&b.length?JSON.parse(b):null},r=function(b,e){b=a(b);var i=z(b.val());if(i||d.allowEmptyOption)if(p.hasOwnProperty(i)){if(e){var j=p[i][h];j?a.isArray(j)?j.push(e):p[i][h]=[j,e]:p[i][h]=e}}else{var k=q(b)||{};k[f]=k[f]||b.text(),k[g]=k[g]||i,k[h]=k[h]||e,p[i]=k,o.push(k),b.is(":selected")&&c.items.push(i)}},s=function(b){var d,e,f,g,h;for(b=a(b),f=b.attr("label"),f&&(g=q(b)||{},g[i]=f,g[j]=f,c.optgroups.push(g)),h=a("option",b),d=0,e=h.length;d<e;d++)r(h[d],f)};for(c.maxItems=b.attr("multiple")?null:1,n=b.children(),k=0,l=n.length;k<l;k++)m=n[k].tagName.toLowerCase(),"optgroup"===m?s(n[k]):"option"===m&&r(n[k])};return this.each(function(){if(!this.selectize){var e,f=a(this),g=this.tagName.toLowerCase(),h=f.attr("placeholder")||f.attr("data-placeholder");h||d.allowEmptyOption||(h=f.children('option[value=""]').text());var i={placeholder:h,options:[],optgroups:[],items:[]};"select"===g?l(f,i):k(f,i),e=new M(f,a.extend(!0,{},c,i,b))}})},a.fn.selectize.defaults=M.defaults,a.fn.selectize.support={validity:x},M.define("drag_drop",function(b){if(!a.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var c=this;c.lock=function(){var a=c.lock;return function(){var b=c.$control.data("sortable");return b&&b.disable(),a.apply(c,arguments)}}(),c.unlock=function(){var a=c.unlock;return function(){var b=c.$control.data("sortable");return b&&b.enable(),a.apply(c,arguments)}}(),c.setup=function(){var b=c.setup;return function(){b.apply(this,arguments);var d=c.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:c.isLocked,start:function(a,b){b.placeholder.css("width",b.helper.css("width")),d.css({overflow:"visible"})},stop:function(){d.css({overflow:"hidden"});var b=c.$activeItems?c.$activeItems.slice():null,e=[];d.children("[data-value]").each(function(){e.push(a(this).attr("data-value"))}),c.setValue(e),c.setActiveItem(b)}})}}()}}),M.define("dropdown_header",function(b){var c=this;b=a.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(a){return'<div class="'+a.headerClass+'"><div class="'+a.titleRowClass+'"><span class="'+a.labelClass+'">'+a.title+'</span><a href="javascript:void(0)" class="'+a.closeClass+'">&times;</a></div></div>'}},b),c.setup=function(){var d=c.setup;return function(){d.apply(c,arguments),c.$dropdown_header=a(b.html(b)),c.$dropdown.prepend(c.$dropdown_header)}}()}),M.define("optgroup_columns",function(b){var c=this;b=a.extend({equalizeWidth:!0,equalizeHeight:!0},b),this.getAdjacentOption=function(b,c){var d=b.closest("[data-group]").find("[data-selectable]"),e=d.index(b)+c;return e>=0&&e<d.length?d.eq(e):a()},this.onKeyDown=function(){var a=c.onKeyDown;return function(b){var d,e,f,g;return!this.isOpen||b.keyCode!==j&&b.keyCode!==m?a.apply(this,arguments):(c.ignoreHover=!0,g=this.$activeOption.closest("[data-group]"),d=g.find("[data-selectable]").index(this.$activeOption),g=b.keyCode===j?g.prev("[data-group]"):g.next("[data-group]"),f=g.find("[data-selectable]"),e=f.eq(Math.min(f.length-1,d)),void(e.length&&this.setActiveOption(e)))}}();var d=function(){var a,b=d.width,c=document;return"undefined"==typeof b&&(a=c.createElement("div"),a.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',a=a.firstChild,c.body.appendChild(a),b=d.width=a.offsetWidth-a.clientWidth,c.body.removeChild(a)),b},e=function(){var e,f,g,h,i,j,k;if(k=a("[data-group]",c.$dropdown_content),f=k.length,f&&c.$dropdown_content.width()){if(b.equalizeHeight){for(g=0,e=0;e<f;e++)g=Math.max(g,k.eq(e).height());k.css({height:g})}b.equalizeWidth&&(j=c.$dropdown_content.innerWidth()-d(),h=Math.round(j/f),k.css({width:h}),f>1&&(i=j-h*(f-1),k.eq(f-1).css({width:i})))}};(b.equalizeHeight||b.equalizeWidth)&&(B.after(this,"positionDropdown",e),B.after(this,"refreshOptions",e))}),M.define("remove_button",function(b){b=a.extend({label:"&times;",title:"Remove",className:"remove",append:!0},b);var c=function(b,c){c.className="remove-single";var d=b,e='<a href="javascript:void(0)" class="'+c.className+'" tabindex="-1" title="'+A(c.title)+'">'+c.label+"</a>",f=function(a,b){return a+b};b.setup=function(){var g=d.setup;return function(){if(c.append){var h=a(d.$input.context).attr("id"),i=(a("#"+h),d.settings.render.item);d.settings.render.item=function(a){return f(i.apply(b,arguments),e)}}g.apply(b,arguments),b.$control.on("click","."+c.className,function(a){a.preventDefault(),d.isLocked||d.clear()})}}()},d=function(b,c){var d=b,e='<a href="javascript:void(0)" class="'+c.className+'" tabindex="-1" title="'+A(c.title)+'">'+c.label+"</a>",f=function(a,b){var c=a.search(/(<\/[^>]+>\s*)$/);return a.substring(0,c)+b+a.substring(c)};b.setup=function(){var g=d.setup;return function(){if(c.append){var h=d.settings.render.item;d.settings.render.item=function(a){return f(h.apply(b,arguments),e)}}g.apply(b,arguments),b.$control.on("click","."+c.className,function(b){if(b.preventDefault(),!d.isLocked){var c=a(b.currentTarget).parent();d.setActiveItem(c),d.deleteSelection()&&d.setCaret(d.items.length)}})}}()};return"single"===this.settings.mode?void c(this,b):void d(this,b)}),M.define("restore_on_backspace",function(a){var b=this;a.text=a.text||function(a){return a[this.settings.labelField]},this.onKeyDown=function(){var c=b.onKeyDown;return function(b){var d,e;return b.keyCode===p&&""===this.$control_input.val()&&!this.$activeItems.length&&(d=this.caretPos-1,d>=0&&d<this.items.length)?(e=this.options[this.items[d]],this.deleteSelection(b)&&(this.setTextboxValue(a.text.apply(this,[e])),this.refreshOptions(!0)),void b.preventDefault()):c.apply(this,arguments)}}()}),M})},{jquery:4,microplugin:186,sifter:187}],186:[function(a,b,c){!function(a,d){"function"==typeof define&&define.amd?define(d):"object"==typeof c?b.exports=d():a.MicroPlugin=d()}(this,function(){var a={};a.mixin=function(a){a.plugins={},a.prototype.initializePlugins=function(a){var c,d,e,f=this,g=[];if(f.plugins={names:[],settings:{},requested:{},loaded:{}},b.isArray(a))for(c=0,d=a.length;c<d;c++)"string"==typeof a[c]?g.push(a[c]):(f.plugins.settings[a[c].name]=a[c].options,g.push(a[c].name));else if(a)for(e in a)a.hasOwnProperty(e)&&(f.plugins.settings[e]=a[e],g.push(e));for(;g.length;)f.require(g.shift())},a.prototype.loadPlugin=function(b){var c=this,d=c.plugins,e=a.plugins[b];if(!a.plugins.hasOwnProperty(b))throw new Error('Unable to find "'+b+'" plugin');d.requested[b]=!0,d.loaded[b]=e.fn.apply(c,[c.plugins.settings[b]||{}]),d.names.push(b)},a.prototype.require=function(a){var b=this,c=b.plugins;if(!b.plugins.loaded.hasOwnProperty(a)){if(c.requested[a])throw new Error('Plugin has circular dependency ("'+a+'")');b.loadPlugin(a)}return c.loaded[a]},a.define=function(b,c){a.plugins[b]={name:b,fn:c}}};var b={isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}};return a})},{}],187:[function(a,b,c){!function(a,d){"function"==typeof define&&define.amd?define(d):"object"==typeof c?b.exports=d():a.Sifter=d()}(this,function(){var a=function(a,b){this.items=a,this.settings=b||{diacritics:!0}};a.prototype.tokenize=function(a){if(a=e(String(a||"").toLowerCase()),!a||!a.length)return[];var b,c,d,g,i=[],j=a.split(/ +/);for(b=0,c=j.length;b<c;b++){if(d=f(j[b]),this.settings.diacritics)for(g in h)h.hasOwnProperty(g)&&(d=d.replace(new RegExp(g,"g"),h[g]));i.push({string:j[b],regex:new RegExp(d,"i")})}return i},a.prototype.iterator=function(a,b){var c;c=g(a)?Array.prototype.forEach||function(a){for(var b=0,c=this.length;b<c;b++)a(this[b],b,this)}:function(a){for(var b in this)this.hasOwnProperty(b)&&a(this[b],b,this)},c.apply(a,[b])},a.prototype.getScoreFunction=function(a,b){var c,e,f,g,h;c=this,a=c.prepareSearch(a,b),f=a.tokens,e=a.options.fields,g=f.length,h=a.options.nesting;var i=function(a,b){var c,d;return a?(a=String(a||""),d=a.search(b.regex),d===-1?0:(c=b.string.length/a.length,0===d&&(c+=.5),c)):0},j=function(){var a=e.length;return a?1===a?function(a,b){return i(d(b,e[0],h),a)}:function(b,c){for(var f=0,g=0;f<a;f++)g+=i(d(c,e[f],h),b);return g/a}:function(){return 0}}();return g?1===g?function(a){return j(f[0],a)}:"and"===a.options.conjunction?function(a){for(var b,c=0,d=0;c<g;c++){if(b=j(f[c],a),b<=0)return 0;d+=b}return d/g}:function(a){for(var b=0,c=0;b<g;b++)c+=j(f[b],a);return c/g}:function(){return 0}},a.prototype.getSortFunction=function(a,c){var e,f,g,h,i,j,k,l,m,n,o;if(g=this,a=g.prepareSearch(a,c),o=!a.query&&c.sort_empty||c.sort,m=function(a,b){return"$score"===a?b.score:d(g.items[b.id],a,c.nesting)},i=[],o)for(e=0,f=o.length;e<f;e++)(a.query||"$score"!==o[e].field)&&i.push(o[e]);if(a.query){for(n=!0,e=0,f=i.length;e<f;e++)if("$score"===i[e].field){n=!1;break}n&&i.unshift({field:"$score",direction:"desc"})}else for(e=0,f=i.length;e<f;e++)if("$score"===i[e].field){i.splice(e,1);break}for(l=[],e=0,f=i.length;e<f;e++)l.push("desc"===i[e].direction?-1:1);return j=i.length,j?1===j?(h=i[0].field,k=l[0],function(a,c){return k*b(m(h,a),m(h,c))}):function(a,c){var d,e,f;for(d=0;d<j;d++)if(f=i[d].field,e=l[d]*b(m(f,a),m(f,c)))return e;return 0}:null},a.prototype.prepareSearch=function(a,b){if("object"==typeof a)return a;b=c({},b);var d=b.fields,e=b.sort,f=b.sort_empty;return d&&!g(d)&&(b.fields=[d]),e&&!g(e)&&(b.sort=[e]),f&&!g(f)&&(b.sort_empty=[f]),{options:b,query:String(a||"").toLowerCase(),tokens:this.tokenize(a),total:0,items:[]}},a.prototype.search=function(a,b){var c,d,e,f,g=this;return d=this.prepareSearch(a,b),b=d.options,a=d.query,f=b.score||g.getScoreFunction(d),a.length?g.iterator(g.items,function(a,e){c=f(a),(b.filter===!1||c>0)&&d.items.push({score:c,id:e})}):g.iterator(g.items,function(a,b){d.items.push({score:1,id:b})}),e=g.getSortFunction(d,b),e&&d.items.sort(e),d.total=d.items.length,"number"==typeof b.limit&&(d.items=d.items.slice(0,b.limit)),d};var b=function(a,b){return"number"==typeof a&&"number"==typeof b?a>b?1:a<b?-1:0:(a=i(String(a||"")),b=i(String(b||"")),a>b?1:b>a?-1:0)},c=function(a,b){var c,d,e,f;for(c=1,d=arguments.length;c<d;c++)if(f=arguments[c])for(e in f)f.hasOwnProperty(e)&&(a[e]=f[e]);return a},d=function(a,b,c){if(a&&b){if(!c)return a[b];for(var d=b.split(".");d.length&&(a=a[d.shift()]););return a}},e=function(a){return(a+"").replace(/^\s+|\s+$|/g,"")},f=function(a){return(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},g=Array.isArray||"undefined"!=typeof $&&$.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},h={a:"[aá¸á¸ÄÄÃÃ¢ÇÇÈºâ±¥È¦È§áº áº¡ÃÃ¤ÃÃ ÃÃ¡ÄÄÃÃ£ÃÃ¥ÄÄÃÄÄ]",b:"[bâ¢Î²ÎBà¸¿ðá]",c:"[cÄÄÄÄÄÄÄÄCÌcÌÃÃ§á¸á¸È»È¼ÆÆÉá´ï¼£ï½]",d:"[dÄÄá¸á¸á¸á¸á¸á¸á¸á¸á¸á¸ÄÄDÌ¦dÌ¦ÆÉÆÉÆÆáµ­á¶á¶È¡á´ï¼¤ï½Ã°]",e:"[eÃÃ©ÃÃ¨ÃÃªá¸á¸ÄÄÄÄáº¼áº½á¸á¸áººáº»ÄÄÃÃ«ÄÄÈ¨È©ÄÄá¶ÉÉÈÈáº¾áº¿á»á»á»á»á»á»á¸á¸á¸á¸á¸á¸ÈÈáº¸áº¹á»á»â±¸á´ï¼¥ï½ÉÇÆÆÎµ]",f:"[fÆÆá¸á¸]",g:"[gÉ¢â²Ç¤Ç¥ÄÄÄÄÄ¢Ä£ÆÉ Ä Ä¡]",h:"[hÄ¤Ä¥Ä¦Ä§á¸¨á¸©áºáºá¸¤á¸¥á¸¢á¸£É¦Ê°Ç¶Æ]",i:"[iÃÃ­ÃÃ¬Ä¬Ä­ÃÃ®ÇÇÃÃ¯á¸®á¸¯Ä¨Ä©Ä®Ä¯ÄªÄ«á»á»ÈÈÈÈá»á»á¸¬á¸­ÆÉ¨É¨Ìáµ»á¶Ä°iIÄ±Éªï¼©ï½]",j:"[jÈ·Ä´ÄµÉÉÊÉÊ²]",k:"[kÆÆêêá¸°á¸±Ç¨Ç©á¸²á¸³á¸´á¸µÎºÏ°â­]",l:"[lÅÅÄ½Ä¾Ä»Ä¼Ä¹Äºá¸¶á¸·á¸¸á¸¹á¸¼á¸½á¸ºá¸»Ä¿ÅÈ½Æâ± â±¡â±¢É«É¬á¶É­È´Êï¼¬ï½]",n:"[nÅÅÇ¸Ç¹ÅÅÃÃ±á¹á¹ÅÅá¹á¹á¹á¹á¹á¹NÌnÌÆÉ²È Æáµ°á¶É³ÈµÉ´ï¼®ï½ÅÅ]",o:"[oÃÃ¸ÃÃ¶ÃÃ³ÃÃ²ÃÃ´ÇÇÅÅÅÅÈ®È¯á»á»ÆÉµÆ Æ¡á»á»ÅÅÃÃµÇªÇ«ÈÈÕÖ]",p:"[pá¹á¹á¹á¹â±£áµ½Æ¤Æ¥áµ±]",q:"[qêêÊ ÉÉêêqÌ]",r:"[rÅÅÉÉÅÅÅÅá¹á¹ÈÈÈÈá¹á¹â±¤É½]",s:"[sÅÅá¹ á¹¡á¹¢á¹£ê¨ê©ÅÅÅ Å¡ÅÅÈÈSÌsÌ]",t:"[tÅ¤Å¥á¹ªá¹«Å¢Å£á¹¬á¹­Æ®ÊÈÈá¹°á¹±á¹®á¹¯Æ¬Æ­]",u:"[uÅ¬Å­ÉÊá»¤á»¥ÃÃ¼ÃÃºÃÃ¹ÃÃ»ÇÇÅ°Å±Å¬Å­Æ¯Æ°á»¦á»§ÅªÅ«Å¨Å©Å²Å³ÈÈâª]",v:"[vá¹¼á¹½á¹¾á¹¿Æ²Êêêâ±±Ê]",w:"[wáºáºáºáºÅ´Åµáºáºáºáºáºáº]",x:"[xáºáºáºáºÏ]",y:"[yÃÃ½á»²á»³Å¶Å·Å¸Ã¿á»¸á»¹áºáºá»´á»µÉÉÆ³Æ´]",z:"[zÅ¹ÅºáºáºÅ½Å¾Å»Å¼áºáºáºáºÆµÆ¶]"},i=function(){var a,b,c,d,e="",f={};for(c in h)if(h.hasOwnProperty(c))for(d=h[c].substring(2,h[c].length-1),e+=d,a=0,b=d.length;a<b;a++)f[d.charAt(a)]=c;var g=new RegExp("["+e+"]","g");return function(a){return a.replace(g,function(a){return f[a]}).toLowerCase()}}();return a})},{}],188:[function(a,b,c){(function(){function a(a){function b(b,c,d,e,f,g){for(;f>=0&&f<g;f+=a){var h=e?e[f]:f;d=c(d,b[h],h,b)}return d}return function(c,d,e,f){d=v(d,f,4);var g=!C(c)&&u.keys(c),h=(g||c).length,i=a>0?0:h-1;return arguments.length<3&&(e=c[g?g[i]:i],i+=a),b(c,d,e,g,i,h)}}function d(a){return function(b,c,d){c=w(c,d);for(var e=B(b),f=a>0?0:e-1;f>=0&&f<e;f+=a)if(c(b[f],f,b))return f;return-1}}function e(a,b,c){return function(d,e,f){var g=0,h=B(d);if("number"==typeof f)a>0?g=f>=0?f:Math.max(f+h,g):h=f>=0?Math.min(f+1,h):f+h+1;else if(c&&f&&h)return f=c(d,e),d[f]===e?f:-1;if(e!==e)return f=b(m.call(d,g,h),u.isNaN),f>=0?f+g:-1;for(f=a>0?g:h-1;f>=0&&f<h;f+=a)if(d[f]===e)return f;return-1}}function f(a,b){var c=H.length,d=a.constructor,e=u.isFunction(d)&&d.prototype||j,f="constructor";for(u.has(a,f)&&!u.contains(b,f)&&b.push(f);c--;)f=H[c],f in a&&a[f]!==e[f]&&!u.contains(b,f)&&b.push(f)}var g=this,h=g._,i=Array.prototype,j=Object.prototype,k=Function.prototype,l=i.push,m=i.slice,n=j.toString,o=j.hasOwnProperty,p=Array.isArray,q=Object.keys,r=k.bind,s=Object.create,t=function(){},u=function(a){return a instanceof u?a:this instanceof u?void(this._wrapped=a):new u(a)};"undefined"!=typeof c?("undefined"!=typeof b&&b.exports&&(c=b.exports=u),c._=u):g._=u,u.VERSION="1.8.3";var v=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}},w=function(a,b,c){return null==a?u.identity:u.isFunction(a)?v(a,b,c):u.isObject(a)?u.matcher(a):u.property(a)};u.iteratee=function(a,b){return w(a,b,1/0)};var x=function(a,b){return function(c){var d=arguments.length;if(d<2||null==c)return c;for(var e=1;e<d;e++)for(var f=arguments[e],g=a(f),h=g.length,i=0;i<h;i++){var j=g[i];b&&void 0!==c[j]||(c[j]=f[j])}return c}},y=function(a){if(!u.isObject(a))return{};if(s)return s(a);t.prototype=a;var b=new t;return t.prototype=null,b},z=function(a){return function(b){return null==b?void 0:b[a]}},A=Math.pow(2,53)-1,B=z("length"),C=function(a){var b=B(a);return"number"==typeof b&&b>=0&&b<=A};u.each=u.forEach=function(a,b,c){b=v(b,c);var d,e;if(C(a))for(d=0,e=a.length;d<e;d++)b(a[d],d,a);else{var f=u.keys(a);for(d=0,e=f.length;d<e;d++)b(a[f[d]],f[d],a)}return a},u.map=u.collect=function(a,b,c){b=w(b,c);for(var d=!C(a)&&u.keys(a),e=(d||a).length,f=Array(e),g=0;g<e;g++){var h=d?d[g]:g;f[g]=b(a[h],h,a)}return f},u.reduce=u.foldl=u.inject=a(1),u.reduceRight=u.foldr=a(-1),u.find=u.detect=function(a,b,c){var d;if(d=C(a)?u.findIndex(a,b,c):u.findKey(a,b,c),void 0!==d&&d!==-1)return a[d]},u.filter=u.select=function(a,b,c){var d=[];return b=w(b,c),u.each(a,function(a,c,e){b(a,c,e)&&d.push(a)}),d},u.reject=function(a,b,c){return u.filter(a,u.negate(w(b)),c)},u.every=u.all=function(a,b,c){b=w(b,c);for(var d=!C(a)&&u.keys(a),e=(d||a).length,f=0;f<e;f++){var g=d?d[f]:f;if(!b(a[g],g,a))return!1}return!0},u.some=u.any=function(a,b,c){b=w(b,c);for(var d=!C(a)&&u.keys(a),e=(d||a).length,f=0;f<e;f++){var g=d?d[f]:f;if(b(a[g],g,a))return!0}return!1},u.contains=u.includes=u.include=function(a,b,c,d){return C(a)||(a=u.values(a)),("number"!=typeof c||d)&&(c=0),u.indexOf(a,b,c)>=0},u.invoke=function(a,b){var c=m.call(arguments,2),d=u.isFunction(b);return u.map(a,function(a){var e=d?b:a[b];return null==e?e:e.apply(a,c)})},u.pluck=function(a,b){return u.map(a,u.property(b))},u.where=function(a,b){return u.filter(a,u.matcher(b))},u.findWhere=function(a,b){return u.find(a,u.matcher(b))},u.max=function(a,b,c){var d,e,f=-(1/0),g=-(1/0);if(null==b&&null!=a){a=C(a)?a:u.values(a);for(var h=0,i=a.length;h<i;h++)d=a[h],d>f&&(f=d)}else b=w(b,c),u.each(a,function(a,c,d){e=b(a,c,d),(e>g||e===-(1/0)&&f===-(1/0))&&(f=a,g=e)});return f},u.min=function(a,b,c){var d,e,f=1/0,g=1/0;if(null==b&&null!=a){a=C(a)?a:u.values(a);for(var h=0,i=a.length;h<i;h++)d=a[h],d<f&&(f=d)}else b=w(b,c),u.each(a,function(a,c,d){e=b(a,c,d),(e<g||e===1/0&&f===1/0)&&(f=a,g=e)});return f},u.shuffle=function(a){for(var b,c=C(a)?a:u.values(a),d=c.length,e=Array(d),f=0;f<d;f++)b=u.random(0,f),b!==f&&(e[f]=e[b]),e[b]=c[f];return e},u.sample=function(a,b,c){return null==b||c?(C(a)||(a=u.values(a)),a[u.random(a.length-1)]):u.shuffle(a).slice(0,Math.max(0,b))},u.sortBy=function(a,b,c){return b=w(b,c),u.pluck(u.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(c<d||void 0===d)return-1}return a.index-b.index}),"value")};var D=function(a){return function(b,c,d){var e={};return c=w(c,d),u.each(b,function(d,f){var g=c(d,f,b);a(e,d,g)}),e}};u.groupBy=D(function(a,b,c){u.has(a,c)?a[c].push(b):a[c]=[b]}),u.indexBy=D(function(a,b,c){a[c]=b}),u.countBy=D(function(a,b,c){u.has(a,c)?a[c]++:a[c]=1}),u.toArray=function(a){return a?u.isArray(a)?m.call(a):C(a)?u.map(a,u.identity):u.values(a):[]},u.size=function(a){return null==a?0:C(a)?a.length:u.keys(a).length},u.partition=function(a,b,c){b=w(b,c);var d=[],e=[];return u.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)}),[d,e]},u.first=u.head=u.take=function(a,b,c){if(null!=a)return null==b||c?a[0]:u.initial(a,a.length-b)},u.initial=function(a,b,c){return m.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))},u.last=function(a,b,c){if(null!=a)return null==b||c?a[a.length-1]:u.rest(a,Math.max(0,a.length-b))},u.rest=u.tail=u.drop=function(a,b,c){return m.call(a,null==b||c?1:b)},u.compact=function(a){return u.filter(a,u.identity)};var E=function(a,b,c,d){for(var e=[],f=0,g=d||0,h=B(a);g<h;g++){var i=a[g];if(C(i)&&(u.isArray(i)||u.isArguments(i))){b||(i=E(i,b,c));var j=0,k=i.length;for(e.length+=k;j<k;)e[f++]=i[j++]}else c||(e[f++]=i)}return e};u.flatten=function(a,b){return E(a,b,!1)},u.without=function(a){return u.difference(a,m.call(arguments,1))},u.uniq=u.unique=function(a,b,c,d){u.isBoolean(b)||(d=c,c=b,b=!1),null!=c&&(c=w(c,d));for(var e=[],f=[],g=0,h=B(a);g<h;g++){var i=a[g],j=c?c(i,g,a):i;b?(g&&f===j||e.push(i),f=j):c?u.contains(f,j)||(f.push(j),e.push(i)):u.contains(e,i)||e.push(i)}return e},u.union=function(){return u.uniq(E(arguments,!0,!0))},u.intersection=function(a){for(var b=[],c=arguments.length,d=0,e=B(a);d<e;d++){var f=a[d];if(!u.contains(b,f)){for(var g=1;g<c&&u.contains(arguments[g],f);g++);g===c&&b.push(f)}}return b},u.difference=function(a){var b=E(arguments,!0,!0,1);return u.filter(a,function(a){return!u.contains(b,a)})},u.zip=function(){return u.unzip(arguments)},u.unzip=function(a){for(var b=a&&u.max(a,B).length||0,c=Array(b),d=0;d<b;d++)c[d]=u.pluck(a,d);return c},u.object=function(a,b){for(var c={},d=0,e=B(a);d<e;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},u.findIndex=d(1),u.findLastIndex=d(-1),u.sortedIndex=function(a,b,c,d){c=w(c,d,1);for(var e=c(b),f=0,g=B(a);f<g;){var h=Math.floor((f+g)/2);c(a[h])<e?f=h+1:g=h}return f},u.indexOf=e(1,u.findIndex,u.sortedIndex),u.lastIndexOf=e(-1,u.findLastIndex),u.range=function(a,b,c){null==b&&(b=a||0,a=0),c=c||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=Array(d),f=0;f<d;f++,a+=c)e[f]=a;return e};var F=function(a,b,c,d,e){if(!(d instanceof b))return a.apply(c,e);var f=y(a.prototype),g=a.apply(f,e);return u.isObject(g)?g:f};u.bind=function(a,b){if(r&&a.bind===r)return r.apply(a,m.call(arguments,1));if(!u.isFunction(a))throw new TypeError("Bind must be called on a function");var c=m.call(arguments,2),d=function(){return F(a,d,b,this,c.concat(m.call(arguments)))};return d},u.partial=function(a){var b=m.call(arguments,1),c=function(){for(var d=0,e=b.length,f=Array(e),g=0;g<e;g++)f[g]=b[g]===u?arguments[d++]:b[g];for(;d<arguments.length;)f.push(arguments[d++]);return F(a,c,this,this,f)};return c},u.bindAll=function(a){var b,c,d=arguments.length;if(d<=1)throw new Error("bindAll must be passed function names");for(b=1;b<d;b++)c=arguments[b],a[c]=u.bind(a[c],a);return a},u.memoize=function(a,b){var c=function(d){var e=c.cache,f=""+(b?b.apply(this,arguments):d);return u.has(e,f)||(e[f]=a.apply(this,arguments)),e[f]};return c.cache={},c},u.delay=function(a,b){var c=m.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},u.defer=u.partial(u.delay,u,1),u.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:u.now(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var j=u.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,k<=0||k>b?(g&&(clearTimeout(g),g=null),h=j,f=a.apply(d,e),g||(d=e=null)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},u.debounce=function(a,b,c){
var d,e,f,g,h,i=function(){var j=u.now()-g;j<b&&j>=0?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),d||(f=e=null)))};return function(){f=this,e=arguments,g=u.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},u.wrap=function(a,b){return u.partial(b,a)},u.negate=function(a){return function(){return!a.apply(this,arguments)}},u.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}},u.after=function(a,b){return function(){if(--a<1)return b.apply(this,arguments)}},u.before=function(a,b){var c;return function(){return--a>0&&(c=b.apply(this,arguments)),a<=1&&(b=null),c}},u.once=u.partial(u.before,2);var G=!{toString:null}.propertyIsEnumerable("toString"),H=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];u.keys=function(a){if(!u.isObject(a))return[];if(q)return q(a);var b=[];for(var c in a)u.has(a,c)&&b.push(c);return G&&f(a,b),b},u.allKeys=function(a){if(!u.isObject(a))return[];var b=[];for(var c in a)b.push(c);return G&&f(a,b),b},u.values=function(a){for(var b=u.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=a[b[e]];return d},u.mapObject=function(a,b,c){b=w(b,c);for(var d,e=u.keys(a),f=e.length,g={},h=0;h<f;h++)d=e[h],g[d]=b(a[d],d,a);return g},u.pairs=function(a){for(var b=u.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=[b[e],a[b[e]]];return d},u.invert=function(a){for(var b={},c=u.keys(a),d=0,e=c.length;d<e;d++)b[a[c[d]]]=c[d];return b},u.functions=u.methods=function(a){var b=[];for(var c in a)u.isFunction(a[c])&&b.push(c);return b.sort()},u.extend=x(u.allKeys),u.extendOwn=u.assign=x(u.keys),u.findKey=function(a,b,c){b=w(b,c);for(var d,e=u.keys(a),f=0,g=e.length;f<g;f++)if(d=e[f],b(a[d],d,a))return d},u.pick=function(a,b,c){var d,e,f={},g=a;if(null==g)return f;u.isFunction(b)?(e=u.allKeys(g),d=v(b,c)):(e=E(arguments,!1,!1,1),d=function(a,b,c){return b in c},g=Object(g));for(var h=0,i=e.length;h<i;h++){var j=e[h],k=g[j];d(k,j,g)&&(f[j]=k)}return f},u.omit=function(a,b,c){if(u.isFunction(b))b=u.negate(b);else{var d=u.map(E(arguments,!1,!1,1),String);b=function(a,b){return!u.contains(d,b)}}return u.pick(a,b,c)},u.defaults=x(u.allKeys,!0),u.create=function(a,b){var c=y(a);return b&&u.extendOwn(c,b),c},u.clone=function(a){return u.isObject(a)?u.isArray(a)?a.slice():u.extend({},a):a},u.tap=function(a,b){return b(a),a},u.isMatch=function(a,b){var c=u.keys(b),d=c.length;if(null==a)return!d;for(var e=Object(a),f=0;f<d;f++){var g=c[f];if(b[g]!==e[g]||!(g in e))return!1}return!0};var I=function(a,b,c,d){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof u&&(a=a._wrapped),b instanceof u&&(b=b._wrapped);var e=n.call(a);if(e!==n.call(b))return!1;switch(e){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b}var f="[object Array]"===e;if(!f){if("object"!=typeof a||"object"!=typeof b)return!1;var g=a.constructor,h=b.constructor;if(g!==h&&!(u.isFunction(g)&&g instanceof g&&u.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1}c=c||[],d=d||[];for(var i=c.length;i--;)if(c[i]===a)return d[i]===b;if(c.push(a),d.push(b),f){if(i=a.length,i!==b.length)return!1;for(;i--;)if(!I(a[i],b[i],c,d))return!1}else{var j,k=u.keys(a);if(i=k.length,u.keys(b).length!==i)return!1;for(;i--;)if(j=k[i],!u.has(b,j)||!I(a[j],b[j],c,d))return!1}return c.pop(),d.pop(),!0};u.isEqual=function(a,b){return I(a,b)},u.isEmpty=function(a){return null==a||(C(a)&&(u.isArray(a)||u.isString(a)||u.isArguments(a))?0===a.length:0===u.keys(a).length)},u.isElement=function(a){return!(!a||1!==a.nodeType)},u.isArray=p||function(a){return"[object Array]"===n.call(a)},u.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},u.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(a){u["is"+a]=function(b){return n.call(b)==="[object "+a+"]"}}),u.isArguments(arguments)||(u.isArguments=function(a){return u.has(a,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(u.isFunction=function(a){return"function"==typeof a||!1}),u.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},u.isNaN=function(a){return u.isNumber(a)&&a!==+a},u.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"===n.call(a)},u.isNull=function(a){return null===a},u.isUndefined=function(a){return void 0===a},u.has=function(a,b){return null!=a&&o.call(a,b)},u.noConflict=function(){return g._=h,this},u.identity=function(a){return a},u.constant=function(a){return function(){return a}},u.noop=function(){},u.property=z,u.propertyOf=function(a){return null==a?function(){}:function(b){return a[b]}},u.matcher=u.matches=function(a){return a=u.extendOwn({},a),function(b){return u.isMatch(b,a)}},u.times=function(a,b,c){var d=Array(Math.max(0,a));b=v(b,c,1);for(var e=0;e<a;e++)d[e]=b(e);return d},u.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},u.now=Date.now||function(){return(new Date).getTime()};var J={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},K=u.invert(J),L=function(a){var b=function(b){return a[b]},c="(?:"+u.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(e,b):a}};u.escape=L(J),u.unescape=L(K),u.result=function(a,b,c){var d=null==a?void 0:a[b];return void 0===d&&(d=c),u.isFunction(d)?d.call(a):d};var M=0;u.uniqueId=function(a){var b=++M+"";return a?a+b:b},u.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,O={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},P=/\\|'|\r|\n|\u2028|\u2029/g,Q=function(a){return"\\"+O[a]};u.template=function(a,b,c){!b&&c&&(b=c),b=u.defaults({},b,u.templateSettings);var d=RegExp([(b.escape||N).source,(b.interpolate||N).source,(b.evaluate||N).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(P,Q),e=h+b.length,c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='"),b}),f+="';\n",b.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(b.variable||"obj","_",f)}catch(a){throw a.source=f,a}var h=function(a){return g.call(this,a,u)},i=b.variable||"obj";return h.source="function("+i+"){\n"+f+"}",h},u.chain=function(a){var b=u(a);return b._chain=!0,b};var R=function(a,b){return a._chain?u(b).chain():b};u.mixin=function(a){u.each(u.functions(a),function(b){var c=u[b]=a[b];u.prototype[b]=function(){var a=[this._wrapped];return l.apply(a,arguments),R(this,c.apply(u,a))}})},u.mixin(u),u.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=i[a];u.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0],R(this,c)}}),u.each(["concat","join","slice"],function(a){var b=i[a];u.prototype[a]=function(){return R(this,b.apply(this._wrapped,arguments))}}),u.prototype.value=function(){return this._wrapped},u.prototype.valueOf=u.prototype.toJSON=u.prototype.value,u.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return u})}).call(this)},{}]},{},[1]);